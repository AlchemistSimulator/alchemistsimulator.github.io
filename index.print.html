<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.145.0">
    <meta name="generator" content="Relearn 7.5.0">
    <meta name="description" content="The Alchemist Simulator">
    <meta name="author" content="Danilo Pianini">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="The Alchemist Simulator :: Documentation for the Alchemist Simulator">
    <meta name="twitter:description" content="The Alchemist Simulator">
    <meta property="og:url" content="https://alchemistsimulator.github.io/index.html">
    <meta property="og:site_name" content="Documentation for the Alchemist Simulator">
    <meta property="og:title" content="The Alchemist Simulator :: Documentation for the Alchemist Simulator">
    <meta property="og:description" content="The Alchemist Simulator">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="The Alchemist Simulator :: Documentation for the Alchemist Simulator">
    <meta itemprop="description" content="The Alchemist Simulator">
    <meta itemprop="datePublished" content="2022-01-19T17:24:57+01:00">
    <meta itemprop="dateModified" content="2022-01-19T17:24:57+01:00">
    <meta itemprop="wordCount" content="1018">
    <title>The Alchemist Simulator :: Documentation for the Alchemist Simulator</title>
    <link href="https://alchemistsimulator.github.io/index.html" rel="canonical" type="text/html" title="The Alchemist Simulator :: Documentation for the Alchemist Simulator">
    <link href="./index.xml" rel="alternate" type="application/rss+xml" title="The Alchemist Simulator :: Documentation for the Alchemist Simulator">
    <link href="./images/logo.svg?1741815459" rel="icon" type="image/svg+xml">
    <link href="./fonts/fontawesome/css/fontawesome-all.min.css?1741815459" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./fonts/fontawesome/css/fontawesome-all.min.css?1741815459" rel="stylesheet"></noscript>
    <link href="./css/perfect-scrollbar/perfect-scrollbar.min.css?1741815459" rel="stylesheet">
    <link href="./css/theme.min.css?1741815459" rel="stylesheet">
    <link href="./css/format-print.min.css?1741815459" rel="stylesheet" id="R-format-style">
    <link href="./css/auto-complete/auto-complete.min.css?1741815459" rel="stylesheet">
    <script src="./js/auto-complete/auto-complete.min.js?1741815459" defer></script>
    <script src="./js/lunr/lunr.min.js?1741815459" defer></script>
    <script src="./js/lunr/lunr.stemmer.support.min.js?1741815459" defer></script>
    <script src="./js/lunr/lunr.multi.min.js?1741815459" defer></script>
    <script src="./js/lunr/lunr.en.min.js?1741815459" defer></script>
    <script src="./js/search.min.js?1741815459" defer></script>
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.relBasePath='.';
      window.relearn.relBaseUri='.';
      window.relearn.absBaseUri='https:\/\/alchemistsimulator.github.io';
      window.relearn.contentLangs=['en'];
      window.relearn.index_js_url="./searchindex.en.js?1741815459";
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // variant stuff
      window.relearn.themevariants = [ 'relearn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        var select = document.querySelector("#R-select-variant");
        if (select) {
          select.value = variant;
        }
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script><script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
<script src="./citations.js"></script>

  </head>
  <body class="mobile-support print" data-url="./index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#where-to-start">Where to start</a></li>
    <li><a href="#alchemist-for-academia">Alchemist for Academia</a></li>
    <li><a href="#index-of-contents">Index of contents</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList">
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">The Alchemist Simulator</span><meta itemprop="position" content="1"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://github.com/AlchemistSimulator/Alchemist/edit/master/site/content/_index.md" rel="external" target="_blank" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a>
            </div>
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="./index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><span class="topbar-control"><i class="fa-fw fas fa-chevron-left"></i></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="./tutorials/index.html" title="Tutorials (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable page" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="the-alchemist-simulator">The Alchemist Simulator</h1>

<h1 id="logo"><a href="#R-image-6ff09976f371187846e784d6385989c2" class="lightbox-link"><img alt="logo" class="lazy lightbox figure-image" loading="lazy" src="images/logo-text-path.svg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6ff09976f371187846e784d6385989c2"><img alt="logo" class="lazy lightbox lightbox-image" loading="lazy" src="images/logo-text-path.svg"></a></h1>
<p>This website hosts the documentation of the Alchemist Simulator,
created towards the end of 2010 as a by-product of the European Project SAPERE,
and grown ever since into a full-fledged simulation framework.</p>
<video loop playsinline autoplay muted style="max-width: 100%; display: inline-block; ">
  <source src="home-animation.mp4" type="video/mp4">
  If your browser supported the video tag, there would be a nice video.
</video>
<h2 id="where-to-start">Where to start</h2>
<p>We recommend that you check out our <a href="./showcase/index.html">showcase</a> to understand what you can simulate,
and our <a href="./tutorials/index.html">tutorials</a> to learn how to fiddle with the tool.
Once you are on track, we prepared specific <a href="./howtos/index.html">how-to guides</a> for the most common operations.
To better understand how the simulator works, refer to our <a href="./explanation/index.html">explanation</a> section;
to master it, building your own extensions and advanced scenarios or customizing what is available,
take a look to the <a href="./reference/index.html">reference</a>.</p>
<h2 id="alchemist-for-academia">Alchemist for Academia</h2>
<p>If you happen to use Alchemist for academic purposes,
please add a reference to the following paper:</p>
<div id="cite-9e4d22b6d29fc183" style="font-family:monospace;"></div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderCitation("10.1057/jos.2012.27", "apa", "cite-9e4d22b6d29fc183");
    });
</script>

<p>Here is a BibTeX for LaTeX users:</p>
<div id="cite-ff71e362c9d2dd45" style="font-family:monospace;"></div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderCitation("10.1057/jos.2012.27", "bibtex", "cite-ff71e362c9d2dd45");
    });
</script>

<h2 id="index-of-contents">Index of contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./tutorials/index.html">Tutorials</a><p>Tutorials are lessons that take the reader by the hand through a series of steps. They are meant to show a beginner that they can achieve something with Alchemist.</p><ul>
  <li class="children-title"><a href="./tutorials/quickstart/index.html">Quickstart</a><p>A super-fast way to get an instance of the simulator up and running.</p><ul></ul></li>
  <li class="children-title"><a href="./tutorials/basics/index.html">Step-by-step tutorial</a><p>A (video) guide through the main features of the simulator, as presented at DAIS 2021</p><ul></ul></li>
  <li class="children-title"><a href="./tutorials/protelis/index.html">Protelis Incarnation Tutorial</a><p>Ready-to-run examples of increasing complexity with the Protelis incarnation</p><ul></ul></li>
  <li class="children-title"><a href="./tutorials/sapere/index.html">SAPERE Incarnation Tutorial</a><p>Ready-to-run examples of increasing complexity with the SAPERE incarnation</p><ul></ul></li>
  <li class="children-title"><a href="./tutorials/scafi/index.html">Scafi Incarnation Tutorial</a><p>Ready-to-run examples of increasing complexity with the Scafi incarnation</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/index.html">How-to Guides</a><p>How-to guides take the reader through the steps required to solve a real-world problem. They are recipes, directions to achieve a specific end: while a tutorial is what a beginner needs to know, a how-to guide is an answer to a question that only a user with some experience could even formulate. In how-to guides, we assume some knowledge and understanding, we assume that the user already knows how to do basic things and use basic tools.</p><ul>
  <li class="children-title"><a href="./howtos/preparation/index.html">Preparation</a><p>Preliminary operations for using Alchemist: installation, setup</p><ul>
  <li class="children-title"><a href="./howtos/preparation/jar/index.html">Alchemist stand-alone</a><p>The recommended way to run the simulator and fetch all the required modules.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/preparation/gradle/index.html">Alchemist via Gradle</a><p>The recommended way to run the simulator and fetch all the required modules.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/index.html">Simulation</a><p>Guides on how to create simulation environments, configure node behaviour, and control the simulation details</p><ul>
  <li class="children-title"><a href="./howtos/simulation/variables/index.html">Create reusable variables</a><p>Define reusable pieces of information and compute upon them, prepare for the execution of simulation batches.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/repeatability/index.html">Ensure repeatability</a><p>Control randomness, ensuring reproducibility and replicability of experiments.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/cognitive/index.html">Cognitive Agents</a><p>Agents with realistic human behavior.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/link/index.html">Create a network</a><p>Define how nodes should be connected with each other.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/layers/index.html">Create Layers</a><p>Define data layers that live in the environment</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/index.html">Create rich environments</a><p>How to create complex environments (obstacles, and so on)</p><ul>
  <li class="children-title"><a href="./howtos/simulation/environment/pathfinding/index.html">Find paths indoors</a><p>How to navigate the environment, especially indoors.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/maps/index.html">Maps and GPS traces</a><p>How to simulate using maps and GPS traces.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/indoor/index.html">Simulate indoor</a><p>How to create indoor environments based on planimetries.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/cognitive-physics/index.html">Simulate physical interactions among pedestrians</a><p>Physical interaction between nodes</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/index.html">Deploy Nodes</a><p>How to place nodes within Alchemist environments</p><ul>
  <li class="children-title"><a href="./howtos/simulation/deploy/grid/index.html">(Irregular) Grids</a><p>Deployment of nodes in (possibly irregular) grids.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/shape/index.html">Nodes inside shapes</a><p>Deployment of nodes randomly inside arbitrary shapes.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/gps/index.html">GPS Traces</a><p>Deployment of nodes on map-based environments using GPS data.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/graph/index.html">Graphs</a><p>Deployment of nodes into arbitrary graphs.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/export/index.html">Export data</a><p>Select which data the simulator should output, in which format, and where.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/graphql/index.html">Monitor and Control Simulations through GraphQL</a><p>Monitor and Control a Simulation through a set of GraphQL APIs.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/monitors/index.html">Monitoring Simulations through Custom Output Monitors</a><p>Create custom monitors to track simulation progression and interact with standard hooks.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/program/index.html">Program Nodes</a><p>How to define the behavior of nodes</p><ul>
  <li class="children-title"><a href="./howtos/simulation/program/move-on-maps/index.html">Move nodes on maps</a><p>How to move node around in geospatial environments.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/program/content/index.html">Node contents</a><p>Definition of the initial content of nodes.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/smartcam/index.html">Smart cameras and drones</a><p>Simulate robots with a field of view.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/execution/index.html">Execution</a><p>Execution of multiple simulations, locally or in a distributed environment</p><ul>
  <li class="children-title"><a href="./howtos/execution/swing-effects/index.html">Customize the Swing GUI</a><p>Customize the look of your simulation.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/termination/index.html">Define the termination criteria</a><p>Decide when the simulator should stop and consider the simulation concluded.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/multivesta/index.html">MultiVeStA</a><p>How to integrate MultiVesta in Alchemist</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/batch/index.html">Parameter Sweeping with simulation batches</a><p>Execute multiple instances of a simulation with different parameters</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/engine/index.html">Simulation Engine Configuration</a><p>Available simulation engine configurations.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/workarounds/index.html">Workarounds</a><p>Pre-concocted solutions to well-known issues</p><ul>
  <li class="children-title"><a href="./howtos/workarounds/swing-glitch/index.html">Graphical Glitches in Swing</a><p>Known issues with Swing and OpenGL acceleration, especially with legacy AMD/ATi drivers.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/workarounds/max-map-count/index.html">Memory leaks under Linux</a><p>Known issue of some Java Virtual Machine implementations when requested to use more than 64GB of RAM</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/extensions/index.html">Experiment-specific extensions</a><p>One-time changes or additions to the simulator behavior</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/index.html">Development</a><p>How to contribute to the project, hence achieving eternal glory</p><ul>
  <li class="children-title"><a href="./howtos/development/contributions/index.html">Developer&#39;s guide</a><p>How to contribute</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/graphql/index.html">Enrich the GraphQL API</a><p>How to create a new Query, Subscription, or Mutation using the GraphQL API</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/ide-import/index.html">Import Alchemist in an IDE</a><p>The recommended way to get and import the Alchemist project in an IDE</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/building/index.html">Build and run the QA</a><p>How to locally build and test the simulator</p><ul></ul></li></ul></li></ul></li>
  <li class="children-title"><a href="./explanation/index.html">Explanation</a><p>Explanation, or discussions, clarify and illuminate a particular topic. They are a chance for the documentation to relax and step back from the software, taking a wider view, illuminating it from a higher level or even from different perspectives. You might imagine a discussion document being read at leisure, rather than over the code.</p><ul>
  <li class="children-title"><a href="./explanation/metamodel/index.html">The Alchemist Meta-Model</a><p>What does Alchemist simulate? A trip on the abstractions that populate the world of Alchemist.</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/engine/index.html">The Alchemist Simulation Engine</a><p>How does Alchemist simulate? What is at its core?</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/biochemistry/index.html">Biochemistry Incarnation</a><p>Basics of the biochemistry incarnation.</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/cognitive/index.html">Cognitive Agents</a><p>Agents with realistic human behavior.</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/pathfinding/index.html">Pathfinding</a><p>Strategies to navigate the environment.</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/sapere/index.html">SAPERE Incarnation</a><p>Basics of SAPERE and how its concepts are mapped in Alchemist.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./reference/index.html">Reference</a><p>Reference guides are technical, austere, and to the point descriptions of the machinery and how to operate it. Reference guides have one job only: to describe. They are code-determined, because ultimately that’s what they describe: key classes, functions, APIs, and so they list things like functions, fields, attributes and methods, and set out how to use them.</p><ul>
  <li class="children-title"><a href="./reference/yaml/index.html">YAML simulation specification</a><p>Specification of the YAML-based language simulations are configured with.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/kdoc/index.html">API Docs</a><p>KDoc API docs. Captures both Java and Kotlin API abstractions.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/kdoc-modules/index.html">Per-module API Docs</a><p>KDoc API docs. Captures both Java and Kotlin API abstractions.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/organization/index.html">Project organization</a><p>Locations where things are found: build files, API implementations</p><ul></ul></li>
  <li class="children-title"><a href="./reference/biochemistry/index.html">Biochemistry Incarnation</a><p>Reference documentation of the reactions language for the biochemistry incarnation.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/cli/index.html">Command Line interface</a><p>Available CLI options.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/default-ui/index.html">Default Graphical User Interface</a><p>Redirect page for the current default graphical interface</p><ul></ul></li>
  <li class="children-title"><a href="./reference/sapere/index.html">SAPERE Incarnation</a><p>Reference API for the SAPERE Incarnation.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/swing/index.html">Swing GUI</a><p>Key mappings for the Java Swing-based graphical interface</p><ul></ul></li></ul></li>
</ul>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Jan 19, 2022
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of The Alchemist Simulator</h1>
<article class="default">
  <header class="headline">
  </header>

<h1 id="tutorials">Tutorials</h1>

<h3 id="learning-oriented">Learning-oriented</h3>
<h1 id="tutorials">Tutorials</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./tutorials/quickstart/index.html">Quickstart</a><p>A super-fast way to get an instance of the simulator up and running.</p><ul></ul></li>
  <li class="children-title"><a href="./tutorials/basics/index.html">Step-by-step tutorial</a><p>A (video) guide through the main features of the simulator, as presented at DAIS 2021</p><ul></ul></li>
  <li class="children-title"><a href="./tutorials/protelis/index.html">Protelis Incarnation Tutorial</a><p>Ready-to-run examples of increasing complexity with the Protelis incarnation</p><ul></ul></li>
  <li class="children-title"><a href="./tutorials/sapere/index.html">SAPERE Incarnation Tutorial</a><p>Ready-to-run examples of increasing complexity with the SAPERE incarnation</p><ul></ul></li>
  <li class="children-title"><a href="./tutorials/scafi/index.html">Scafi Incarnation Tutorial</a><p>Ready-to-run examples of increasing complexity with the Scafi incarnation</p><ul></ul></li>
</ul>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Jan 19, 2022
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Tutorials</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/execution/index.html">Execution</a></li>
    <li><a class="term-link" href="./tags/installation/index.html">Installation</a></li>
    <li><a class="term-link" href="./tags/quickstart/index.html">Quickstart</a></li>
  </ul>
</div>
  </header>

<h1 id="quickstart">Quickstart</h1>

<p>You need:</p>
<ul>
<li>A terminal, bash compatible preferred</li>
<li><a href="https://adoptium.net/" rel="external" target="_blank">Java 11+</a> installed and working
<ul>
<li>Java can be downloaded from <a href="https://adoptium.net/" rel="external" target="_blank">https://adoptium.net/</a></li>
</ul>
</li>
<li><a href="https://git-scm.com/" rel="external" target="_blank">Git</a> installed and working
<ul>
<li>Git can be downloaded from <a href="https://git-scm.com" rel="external" target="_blank">https://git-scm.com</a></li>
</ul>
</li>
</ul>
<p>Open the terminal and follow these steps</p>
<ol>
<li><code>git clone https://github.com/AlchemistSimulator/alchemist-primer </code></li>
<li><code>cd alchemist-primer</code></li>
<li>Launch depending on your terminal:</li>
</ol>
<ul>
<li>Bash compatible (Linux, MacOS X, Git Bash, Cygwin): <code>./gradlew runAll</code></li>
<li>Windows native (cmd.exe, Powershell): <code>gradlew.bat runAll</code></li>
</ul>
<ol start="4">
<li>Wait for the simulator components to be downloaded (about five minutes on a reasonable connection)</li>
<li>A GUI pops up</li>
<li>Press the <kbd>P</kbd> button to start the simulation. Other relevant buttons are described <a href="./reference/default-ui/index.html">here</a></li>
</ol>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Something went wrong along the line?
  </summary>
  <div class="box-content">
<p><a href="https://github.com/AlchemistSimulator/Alchemist/issues/new/choose" rel="external" target="_blank">Open an issue</a> and we&rsquo;ll get back to you.</p>
  </div>
</details>
<p>You are now  ready to proceed with our tutorials!</p>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>If you want to understand right now what is happening under the hood,
consider learning instead about <a href="./explanation/metamodel/index.html">the Alchemist meta-model</a></p>
  </div>
</details>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/basics/index.html">Basics</a></li>
    <li><a class="term-link" href="./tags/deployment/index.html">Deployment</a></li>
    <li><a class="term-link" href="./tags/examples/index.html">Examples</a></li>
    <li><a class="term-link" href="./tags/export/index.html">Export</a></li>
    <li><a class="term-link" href="./tags/graph/index.html">Graph</a></li>
    <li><a class="term-link" href="./tags/indoor/index.html">Indoor</a></li>
    <li><a class="term-link" href="./tags/maps/index.html">Maps</a></li>
    <li><a class="term-link" href="./tags/tutorial/index.html">Tutorial</a></li>
    <li><a class="term-link" href="./tags/video/index.html">Video</a></li>
  </ul>
</div>
  </header>

<h1 id="step-by-step-tutorial">Step-by-step tutorial</h1>

<p>In this page, we show an up to date version the examples that are presented in the tutorial paper presented at
<a href="https://www.discotec.org/2021/dais.html" rel="external" target="_blank">DAIS 2021</a>
(one of the three conferences of <a href="https://www.discotec.org/2021/" rel="external" target="_blank">DisCoTec 2021</a>).</p>
<p>This tutorial features some companion videos, embedded in this page.</p>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>The tutorial is also available as a scientific document: <div id="cite-0c2060b5d5013375" style="font-family:monospace;"></div></p>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderCitation("10.1007/978-3-030-78198-9_10", "apa", "cite-0c2060b5d5013375");
    });
</script>
  </div>
</details>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>All code has been open-sourced and it is being actively maintained on <a href="https://github.com/DanySK/DisCoTec-2021-Tutorial" rel="external" target="_blank">GitHub</a></p>
  </div>
</details>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>Snapshots presented here are from the Java Swing GUI module that was the main UI at the time the tutorial was written,
and may or may not reflect the current graphical appearance of the examples
(which can be configured in any case).</p>
  </div>
</details>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Tip
  </summary>
  <div class="box-content">
<p>Simulations in alchemist are written in <a href="https://yaml.org/" rel="external" target="_blank">YAML</a>.
YAML is pretty intuitive, it can be learnt quickly through
<em><a href="https://learnxinyminutes.com/docs/yaml/" rel="external" target="_blank">Learn X in Y minutes Where X=yaml</a></em>.
Even without any prior knowledge, looking at the syntax and comparing it with the information in the aforementioned page
should provide enough information.</p>
  </div>
</details>
<h2 id="import-the-infrastructure">Import the infrastructure</h2>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>You need to be able to import an existing Gradle project from GitHub.
If you have no idea of what I&rsquo;m talking about,
<a href="./tutorials/quickstart/index.html">take a step back and make sure you followed the quickstart</a>.</p>
  </div>
</details>
<ol>
<li><code>git clone https://github.com/DanySK/DisCoTec-2021-Tutorial.git</code></li>
<li><code>cd DisCoTec-2021-Tutorial</code></li>
<li>
<ul>
<li>Unix-like terminals: <code>./gradlew run00</code></li>
<li>Windows terminals (cmd, Powershell): <code>gradlew.bat run00</code></li>
</ul>
</li>
</ol>
<p>The shell should begin to work, download the required components, and pop a graphical interface in front of you.</p>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>If something went wrong, let us know by <strong><a href="https://github.com/DanySK/DisCoTec-2021-Tutorial/issues/new/choose" rel="external" target="_blank">opening an issue</a></strong>!</p>
<p>The build system is <em>continuous-integration sensitive</em>.
If a GUI is not displayed but the proces terminates successfully,
make sure that you do not have a <code>CI</code> environment variable set to <code>true</code>.</p>
  </div>
</details>
<h2 id="writing-and-launching-simple-simulations">Writing and launching simple simulations</h2>
<p>In this video you will see how to:</p>
<ol>
<li>import the example project, and how to use it to run simulations;</li>
<li>write simple simulations in YAML;</li>
<li>deploy nodes into a bidimensional space; and</li>
<li>write programs that perform manipulation of data in form of tuples.</li>
</ol>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>This is actually the <strong>second</strong> video of the tutorial.
The first presents introductory information on the simulator and its meta-model,
it can be found in the <a href="./explanation/index.html">Explanation</a> chapter of the documentation.</p>
  </div>
</details>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/nORRuG3VjYU?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>

<p>The examples presented in the video are presented in the following subsections,
updated to execute with the latest version of the simulator.
You will find this code in the current version of the tutorial.</p>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Tip
  </summary>
  <div class="box-content">
<p>Make changes to the existing configuration files and see what happens!</p>
  </div>
</details>
<h3 id="three-connected-devices">Three connected devices</h3>
<p>In this simple example, we simply deploy three nodes in a bidimensional space.
They do nothing, they are just there.
Starting the simulation would make it go to infinite time instantly,
as there are no events to simulate.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere <span style="color:#78787e"># The incarnation is always mandatory</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance <span style="color:#78787e"># Loads a class with this name implementing LinkingRule</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>] <span style="color:#78787e"># Connection radius (parameter of a ConnectWithinDistance&#39;s constructor)</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point <span style="color:#78787e"># Loads a class with this name implementing Deployment</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>] <span style="color:#78787e"># Coordinates</span>
</span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: Point, parameters</span>: [<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>] }
</span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: Point, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>] }
</span></span></code></pre></div></div>
</div>
<p>The graphic effect is just to see three dots in the interface.
If links are displayed (see the <a href="./reference/default-ui/index.html">reference of the graphical interface</a>),
then the three nodes appear linked.

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Show snapshot
  </summary>
  <div class="box-content">
<p><a href="#R-image-341cd7659a90bae05ea51971a2d1e8c3" class="lightbox-link"><img alt="Dodgeball" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/3nodes.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-341cd7659a90bae05ea51971a2d1e8c3"><img alt="Dodgeball" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/3nodes.png"></a></p>
  </div>
</details></p>
<h3 id="a-grid-of-devices-playing-dodgeball">A grid of devices playing dodgeball</h3>
<p>In this example we create a grid of devices
and make them play dodgeball. The program to be injected is rather simple:
some nodes will begin the simulation with a ball, and their goal will be to
throw it to a random neighbor; whichever node gets hit takes a point, updates
its score, and throws the ball again. This program is easy to write in a network
of programmable tuple spaces, hence we write the following specification using
the SAPERE incarnation.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">0.5</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>] <span style="color:#78787e"># A perturbed grid of devices</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;{hit, 0}&#34;</span> <span style="color:#78787e"># Everywhere, no one has been hit</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>: { <span style="color:#ff6ac1">type: Rectangle, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>] } <span style="color:#78787e"># Inside this shape...</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: ball <span style="color:#78787e"># ...every node has a ball</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># This is a frequency, time distribution type is left to the incarnation</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># &#39;program&#39; specs are passed down to the incarnation for being interpreted as reactions</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{ball} {hit, N} --&gt; {hit, N + 1} {launching}&#34;</span> <span style="color:#78787e"># If hit, count the hit</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{launching} --&gt; +{ball}&#34;</span> <span style="color:#78787e"># As soon as possible, throw the ball to a neighbor</span>
</span></span></code></pre></div></div>
</div>
<p>Snapshots of the simulation of the “dodgeball” example follow.
Devices with a ball are depicted in black. All other devices’ color hue depends on the
hit count, shifting from red (zero hits) towards blue.</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Show snapshots
  </summary>
  <div class="box-content">
<p><a href="#R-image-f00382a5b92a03cb7e9cd12ce343b382" class="lightbox-link"><img alt="Dodgeball" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/dodgeball00.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f00382a5b92a03cb7e9cd12ce343b382"><img alt="Dodgeball" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/dodgeball00.png"></a>
<a href="#R-image-aada8168e414b1c28fba6f1225e956cc" class="lightbox-link"><img alt="Dodgeball" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/dodgeball01.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-aada8168e414b1c28fba6f1225e956cc"><img alt="Dodgeball" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/dodgeball01.png"></a>
<a href="#R-image-fd627ab0951c7e32fa2109b8a116437c" class="lightbox-link"><img alt="Dodgeball" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/dodgeball02.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fd627ab0951c7e32fa2109b8a116437c"><img alt="Dodgeball" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/dodgeball02.png"></a>
<a href="#R-image-d7e8e9f99174bf1003a4aca286736c82" class="lightbox-link"><img alt="Dodgeball" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/dodgeball03.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d7e8e9f99174bf1003a4aca286736c82"><img alt="Dodgeball" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/dodgeball03.png"></a>
<a href="#R-image-dad3fb2e4a09a0f4fba197056fb00709" class="lightbox-link"><img alt="Dodgeball" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/dodgeball04.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dad3fb2e4a09a0f4fba197056fb00709"><img alt="Dodgeball" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/dodgeball04.png"></a></p>
  </div>
</details>
<h3 id="a-gradient-on-a-grid-of-devices">A gradient on a grid of devices</h3>
<p>In this example, we implement with the SAPERE incarnation a very simple
specification of a gradient, a pattern that is considered to be the basis of many
other patterns <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">0.5</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">in</span>: { <span style="color:#ff6ac1">type: Rectangle, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>] }
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: source <span style="color:#78787e"># Here is the source of the gradient</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">0.1</span> <span style="color:#78787e"># Exponential with λ=0.1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># If there is a source, then the gradient is zero.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{source} --&gt; {source} {gradient, 0}&#34;</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># Exponential distribution with λ=1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># Send all neighbors your gradient value plus one</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{gradient, N} --&gt; {gradient, N} *{gradient, N+1}&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># In case of multiple gradients, take the shortest</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{gradient, N}{gradient, def: N2&gt;=N} --&gt; {gradient, N}&#34;</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">0.1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{gradient, N} --&gt; {gradient, N + 1}&#34;</span> <span style="color:#78787e"># Aging process</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{gradient, def: N &gt; 30} --&gt;&#34;</span> <span style="color:#78787e"># Death process</span>
</span></span></code></pre></div></div>
</div>
<p>Here are some snapshots of the simulation of the “gradient” example.
Source devices have a central black dot. Devices’ color hue depends on the gradient
value, shifting from red (low) towards blue (high).</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Show snapshots
  </summary>
  <div class="box-content">
<p><a href="#R-image-fcc9b1185a719c7498649b140389da4d" class="lightbox-link"><img alt="Gradient" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/gradient00.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fcc9b1185a719c7498649b140389da4d"><img alt="Gradient" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/gradient00.png"></a>
<a href="#R-image-8ec4f7cadfc31f12372b27c26ab7b22b" class="lightbox-link"><img alt="Gradient" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/gradient01.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8ec4f7cadfc31f12372b27c26ab7b22b"><img alt="Gradient" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/gradient01.png"></a>
<a href="#R-image-4932b1142d0ae68a5f348dfcb1da3414" class="lightbox-link"><img alt="Gradient" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/gradient02.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4932b1142d0ae68a5f348dfcb1da3414"><img alt="Gradient" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/gradient02.png"></a></p>
  </div>
</details>
<h3 id="arbitrary-network-graphs">Arbitrary network graphs</h3>
<p>This example showcases some complex deployments made possible by Alchemist via <a href="https://graphstream-project.org/" rel="external" target="_blank">Graphstream</a></p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">0.5</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: GraphStreamDeployment, parameters</span>: [<span style="color:#ff9f43">300</span>, -<span style="color:#ff9f43">30</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0.8</span>, Lobster, [5, 15]] }
</span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: GraphStreamDeployment, parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">2</span>, BananaTree, 10] }
</span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: GraphStreamDeployment, parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">30</span>, <span style="color:#ff9f43">0</span>, PreferentialAttachment] }
</span></span></code></pre></div></div>
</div>
<p>The example creates a single environment with three advanced deployments. From left to right: a
Lobster graph, a banana tree, and a scale-free network with preferential attachment.</p>
<p><a href="#R-image-068f08ecdb2c63f199c20a42f00ebdc5" class="lightbox-link"><img alt="Arbitrary graphs" class="lazy lightbox figure-image" loading="lazy" src="./images/simulator/graphstream.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-068f08ecdb2c63f199c20a42f00ebdc5"><img alt="Arbitrary graphs" class="lazy lightbox lightbox-image" loading="lazy" src="./images/simulator/graphstream.png"></a></p>
<h2 id="advanced-examples">Advanced examples</h2>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/crZM6Idpg74?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>

<p>In this video, we learn how to:</p>
<ol>
<li>use aggregate programming (via Protelis) to write simulations;</li>
<li>use images to create indoor environments with physical obstacles;</li>
<li>use OpenStreetMap data to simulate on real-world maps; and</li>
<li>export data from simulations and configure batches exploring all possible combinations</li>
</ol>
<h3 id="node-mobility-and-indoor-environments">Node mobility and indoor environments</h3>
<p>Many interesting scenarios the simulator targets
require mobility and a richer environment. In the following example, we show
a group of mobile devices estimating the distance from a point of interest (the
altar) while moving within a church, whose planimetry has been taken from
an existing building.
Since the gradient is propagated in a network of mobile devices, we use a Protelis implementation of the
adaptive Bellman-Ford algorithm from the Protelis-lang library<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [chiaravalle.png, 0.1] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send <span style="color:#78787e"># Actual network message delivery</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#ff9f43">1.4</span>] }
</span></span></code></pre></div></div>
</div>
<p>In the following snapshots, mobile devices progressively explore the location, while measuring the distance from a point of interest
via gradient (red nodes are closer to the point of interest; purple ones are farther).</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Show snapshots
  </summary>
  <div class="box-content">
<p><a href="#R-image-44a9b52bc22afd4a2f167356a2a3bc59" class="lightbox-link"><img alt="Mobility in indoor environments" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/chiaravalle00.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-44a9b52bc22afd4a2f167356a2a3bc59"><img alt="Mobility in indoor environments" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/chiaravalle00.png"></a>
<a href="#R-image-e523a33e070927e4c9cb65a28a5ac8dc" class="lightbox-link"><img alt="Mobility in indoor environments" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/chiaravalle01.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e523a33e070927e4c9cb65a28a5ac8dc"><img alt="Mobility in indoor environments" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/chiaravalle01.png"></a>
<a href="#R-image-595dbf6781e6beecd8d12d6c7dd08e59" class="lightbox-link"><img alt="Mobility in indoor environments" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/chiaravalle02.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-595dbf6781e6beecd8d12d6c7dd08e59"><img alt="Mobility in indoor environments" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/chiaravalle02.png"></a>
<a href="#R-image-dc1f2b08cb53eee5da6c6c85f32c29a7" class="lightbox-link"><img alt="Mobility in indoor environments" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/chiaravalle03.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dc1f2b08cb53eee5da6c6c85f32c29a7"><img alt="Mobility in indoor environments" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/chiaravalle03.png"></a></p>
  </div>
</details>
<h3 id="real-world-maps-and-gps-traces">Real-world maps and GPS traces</h3>
<p>The simulator can
load data from OpenStreetMap exports, navigate devices towards a destination
along streets by relying on GraphHopper or by using GPS traces in GPX format,
or even using the navigation system to interpolate sparse GPS traces, thus
preventing nodes from taking impossible paths. In the following simple
scenario buoys are deployed in the Venice lagoon and move Brownianly.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type</span>: OSMEnvironment }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">1000</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_venice_lagoon</span>: <span style="color:#78787e">&amp;lagoon</span>
</span></span><span style="display:flex;"><span>  [[<span style="color:#ff9f43">45.2038121</span>, <span style="color:#ff9f43">12.2504425</span>], [<span style="color:#ff9f43">45.2207426</span>, <span style="color:#ff9f43">12.2641754</span>], [<span style="color:#ff9f43">45.2381516</span>, <span style="color:#ff9f43">12.2806549</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2570053</span>, <span style="color:#ff9f43">12.2895813</span>], [<span style="color:#ff9f43">45.276336</span>, <span style="color:#ff9f43">12.2957611</span>], [<span style="color:#ff9f43">45.3029049</span>, <span style="color:#ff9f43">12.2991943</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3212544</span>, <span style="color:#ff9f43">12.3046875</span>], [<span style="color:#ff9f43">45.331875</span>, <span style="color:#ff9f43">12.3040009</span>], [<span style="color:#ff9f43">45.3453893</span>, <span style="color:#ff9f43">12.3040009</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3502151</span>, <span style="color:#ff9f43">12.3156738</span>], [<span style="color:#ff9f43">45.3622776</span>, <span style="color:#ff9f43">12.3232269</span>], [<span style="color:#ff9f43">45.3719259</span>, <span style="color:#ff9f43">12.3300934</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3830193</span>, <span style="color:#ff9f43">12.3348999</span>], [<span style="color:#ff9f43">45.395557</span>, <span style="color:#ff9f43">12.3445129</span>], [<span style="color:#ff9f43">45.3998964</span>, <span style="color:#ff9f43">12.3300934</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4018249</span>, <span style="color:#ff9f43">12.3136139</span>], [<span style="color:#ff9f43">45.4105023</span>, <span style="color:#ff9f43">12.3122406</span>], [<span style="color:#ff9f43">45.4167685</span>, <span style="color:#ff9f43">12.311554</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4278531</span>, <span style="color:#ff9f43">12.3012543</span>], [<span style="color:#ff9f43">45.4408627</span>, <span style="color:#ff9f43">12.2902679</span>], [<span style="color:#ff9f43">45.4355628</span>, <span style="color:#ff9f43">12.2772217</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4206242</span>, <span style="color:#ff9f43">12.2703552</span>], [<span style="color:#ff9f43">45.3994143</span>, <span style="color:#ff9f43">12.2744751</span>], [<span style="color:#ff9f43">45.3738553</span>, <span style="color:#ff9f43">12.2676086</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3579354</span>, <span style="color:#ff9f43">12.2614288</span>], [<span style="color:#ff9f43">45.3429763</span>, <span style="color:#ff9f43">12.2497559</span>], [<span style="color:#ff9f43">45.3198059</span>, <span style="color:#ff9f43">12.2408295</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2975921</span>, <span style="color:#ff9f43">12.2346497</span>], [<span style="color:#ff9f43">45.2802014</span>, <span style="color:#ff9f43">12.2408295</span>], [<span style="color:#ff9f43">45.257972</span>, <span style="color:#ff9f43">12.233963</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2038121</span>, <span style="color:#ff9f43">12.2504425</span>]]
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Polygon
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">500</span>, <span style="color:#78787e">*lagoon]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>: { <span style="color:#ff6ac1">type: BrownianMove, parameters</span>: [<span style="color:#ff9f43">0.0005</span>]}
</span></span></code></pre></div></div>
</div>
<p>The following snapshots depict the simulation in execution.</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Show snapshots
  </summary>
  <div class="box-content">
<p><a href="#R-image-bff6728355449ec69119322c14f9bf27" class="lightbox-link"><img alt="Venice" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/venice.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bff6728355449ec69119322c14f9bf27"><img alt="Venice" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/venice.png"></a>
<a href="#R-image-131bc020b3a6c939f9f5b06f58e98d69" class="lightbox-link"><img alt="Venice" class="lazy lightbox figure-image" loading="lazy" src="./tutorials/basics/venice2.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-131bc020b3a6c939f9f5b06f58e98d69"><img alt="Venice" class="lazy lightbox lightbox-image" loading="lazy" src="./tutorials/basics/venice2.png"></a></p>
  </div>
</details>
<h3 id="in-depth-analysis-of-simulated-scenarios">In-depth analysis of simulated scenarios</h3>
<p>The following snippet showcases the aforementioned features by enriching
the example of a gradient in an indoor environment presented previously with:</p>
<ol>
<li>variables for the pedestrian walking speed, pedestrian count, and random seed;</li>
<li>constants to ease the configuration of the simulation;</li>
<li>a Kotlin resource search expressed as a variable;</li>
<li>controlled reproducibility by controlling random seeds;</li>
<li>export of generated data (time and several statistics on the gradient).</li>
</ol>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span> <span style="color:#78787e"># Must be a valid Groovy snippet</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin <span style="color:#78787e"># Pick whatever JSR223 language you like and add it to the classpath</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: | <span style="color:#78787e"># The following is pure Kotlin code. Other variables can be referenced!</span>
</span></span><span style="display:flex;"><span>      import java.io.File
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImage()</span>: String? = walkTopDown().find { image_name in it.name }?.absolutePath
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImageRecursively(): String = findImage() ?</span>: File(this, &#34;..&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>      File(&#34;.&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">timeout</span>: <span style="color:#ff9f43">5000</span>
</span></span><span style="display:flex;"><span>  <span style="color:#78787e"># Linear free variable</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> } <span style="color:#78787e"># 100 samples</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed } <span style="color:#78787e"># Variable-dependent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable <span style="color:#78787e"># A variable scanning a space with geometric segmentation</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>] <span style="color:#78787e"># default 300, minimum 50, maximum 100, 9 samples</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CSVExporter
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;snippet-variables-export&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
</span></span><span style="display:flex;"><span>      - time
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ] <span style="color:#78787e"># From Apache&#39;s UnivariateStatistic</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite <span style="color:#78787e"># discards NaN and Infinity</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
</span></span></code></pre></div></div>
</div>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>This example:</p>
<ul>
<li><a href="./howtos/simulation/repeatability/index.html">controls randomness by specifying the random seeds</a>,</li>
<li><a href="./howtos/simulation/variables/index.html">uses variables to define multiple scenarios at once and don&rsquo;t repeat itself</a></li>
<li><a href="./howtos/simulation/export/index.html">uses the data export infrastructure</a></li>
</ul>
  </div>
</details>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><div id="cite-3d939270058b1133" style="font-family:monospace;"></div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderCitation("10.1007/s11047-012-9324-y", "apa", "cite-3d939270058b1133");
    });
</script>
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><div id="cite-2541651178c637f3" style="font-family:monospace;"></div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderCitation("10.1109/FAS-W.2017.116", "apa", "cite-2541651178c637f3");
    });
</script>
&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Jan 19, 2022
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/aggregate/index.html">Aggregate</a></li>
    <li><a class="term-link" href="./tags/aggregate-computing/index.html">Aggregate Computing</a></li>
    <li><a class="term-link" href="./tags/aggregate-programming/index.html">Aggregate Programming</a></li>
    <li><a class="term-link" href="./tags/protelis/index.html">Protelis</a></li>
    <li><a class="term-link" href="./tags/tutorial/index.html">Tutorial</a></li>
  </ul>
</div>
  </header>

<h1 id="protelis-incarnation-tutorial">Protelis Incarnation Tutorial</h1>

<p><a href="https://protelis.github.io/" rel="external" target="_blank">Protelis</a>,
from the Latin word figuratively meaning &ldquo;regarding a team&rdquo;,
is a language targeting the aggregate of devices rather than the single one.
It has been developed on the solid foundation of <a href="https://doi.org/10.1145/3285956" rel="external" target="_blank">Field Calculus</a>,
a theoretical model of aggregate programming,
and it is written and interoperable with Java.</p>
<h3 id="learning-protelis">Learning Protelis</h3>
<p>The language and all the machinery of Protelis are out of the scope of this tutorial.
However, we warmly recommend to read <a href="https://doi.org/10.1145/2695664.2695913" rel="external" target="_blank">this paper</a> first,
and then to deepen your knowledge of Protelis by reading the resources available in
<a href="https://protelis.github.io/" rel="external" target="_blank">the official Protelis website</a>.</p>
<p>A tutorial similar to the <a href="./tutorials/basics/index.html">base tutorial</a>,
with increasingly rich examples and focused on the Protelis incarnation
can be found on <a href="https://github.com/AlchemistSimulator/Protelis-Incarnation-tutorial" rel="external" target="_blank">GitHub</a>.
The <code>README.md</code> file of the project explains the use and the steps to follow.</p>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>Something went wrong along the line? Drop us an
<a href="https://github.com/AlchemistSimulator/Protelis-Incarnation-tutorial/issues/new/choose" rel="external" target="_blank">issue report</a>
and we&rsquo;ll get back to you.</p>
  </div>
</details>
<h1 id="alchemist-tutorial-with-protelis">Alchemist tutorial with Protelis</h1>
<p>This tutorial includes a series of exercises of increasing complexity that showcase the Alchemist simulator's Protelis incarnation.</p>
<h2 id="how-to-launch">How to launch</h2>
<h3 id="prerequisites">Prerequisites</h3>
<p>The only prerequisite is a Java version compatible with Gradle.
This project is configured to automatically upgrade the version of Gradle it relies upon,
so usually the last entry of the <a href="https://docs.gradle.org/current/userguide/compatibility.html" rel="external" target="_blank">Gradle-Java compatibility matrix</a> is the one to consider.
At the time of writing, the minimum required version is Java 8.
You can verify the version by running <code>java -version</code> in a terminal.
In case you have no Java installed, we suggest to use the latest LTS version from <a href="https://adoptopenjdk.net/" rel="external" target="_blank">AdoptOpenJDK</a>.</p>
<p>Note that, internally, the simulator requires Java 11 or above.
The project is configured to self-provision a compatible Java environment,
assuming that network connection is available.</p>
<h3 id="using-gradle">Using Gradle</h3>
<p>The easiest way to launch the examples is by relying on the pre-configured <a href="http://gradle.org/" rel="external" target="_blank">Gradle</a> build script.
It will automatically download all the required libraries, set up the environment, and execute the simulator via command line for you.</p>
<p>Gradle has been preconfigured in this repository for executing available Alchemist simulations inside <code>src/main/yaml/</code>.
For each such file, one Gradle task is generated.
By executing <code>./gradlew tasks</code>, these tasks will be displayed in the <code>Run Alchemist tasks</code> category, similar to (this may change):</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>Run Alchemist tasks
-------------------
run00-minimal - Launches simulation 00-minimal
run01-nodes - Launches simulation 01-nodes
run02-manynodes - Launches simulation 02-manynodes
run03-grid - Launches simulation 03-grid
run04-perturb-grid - Launches simulation 04-perturb-grid
run05-content - Launches simulation 05-content
run06-program - Launches simulation 06-program
run07-gradient - Launches simulation 07-gradient
runAll - Launches all simulations</code></pre></div>
<p>Alchemist uses JSON files for modelling effects with the classic Swing UI.
If an effect file with the same name of the YAML simulation file is found in the <code>effects</code> folder,
it will be loaded as default graphics file.
If none is found, Alchemist will be started with the default effects set
(you can always fiddle with the rendering from within the simulator).</p>
<p>As first step, use <code>git</code> to locally clone this repository.</p>
<p>In order to launch all simulations, open a terminal and move to the project root folder, then on UNIX:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runAll</span></span></code></pre></div>
<p>On Windows:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>gradlew.bat runAll</code></pre></div>
<p>Note that the first launch will be rather slow, since Gradle will download all the required files.
They will get cached in the user's home folder (as per Gradle normal behavior).</p>
<h2 id="graphic-interface-shortcuts">Graphic interface shortcuts</h2>
<p>The graphical interface that pops up when Alchemist is executed providing a YAML file on the command line is a stripped-down version of the one that shows when the simulator is invoked by <code>java -jar</code> or by double clicking.</p>
<p>In order to use such interface, consider the following command list:</p>
<table>
  <thead>
      <tr>
          <th>Key binding</th>
          <th>Active</th>
          <th>Effect</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>L</td>
          <td>always</td>
          <td>(En/Dis)ables the painting of links between nodes</td>
      </tr>
      <tr>
          <td>M</td>
          <td>always</td>
          <td>(En/Dis)ables the painting of a marker on the closest node</td>
      </tr>
      <tr>
          <td>Mouse pan</td>
          <td>in normal mode</td>
          <td>Moves around</td>
      </tr>
      <tr>
          <td>Mouse wheel</td>
          <td>in normal mode</td>
          <td>Zooms in/out</td>
      </tr>
      <tr>
          <td>Double click</td>
          <td>in normal mode</td>
          <td>Opens a frame with the closest node information</td>
      </tr>
      <tr>
          <td>Right click</td>
          <td>in normal mode</td>
          <td>Enters screen rotation mode</td>
      </tr>
      <tr>
          <td>P</td>
          <td>always</td>
          <td>Plays/pauses the simulation</td>
      </tr>
      <tr>
          <td>R</td>
          <td>always</td>
          <td>Enables the real-time mode</td>
      </tr>
      <tr>
          <td>Left arrow</td>
          <td>always</td>
          <td>Speeds the simulation down (more calls to the graphics)</td>
      </tr>
      <tr>
          <td>Right arrow</td>
          <td>always</td>
          <td>Speeds the simulation up (less calls to the graphics)</td>
      </tr>
      <tr>
          <td>S</td>
          <td>always</td>
          <td>Enters / exits the select mode (nodes can be selected with the mouse)</td>
      </tr>
      <tr>
          <td>O</td>
          <td>in select mode</td>
          <td>Selected nodes can be moved by drag and drop</td>
      </tr>
      <tr>
          <td>E</td>
          <td>in select mode</td>
          <td>Enters edit mode (to manually change node contents)</td>
      </tr>
  </tbody>
</table>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/lsa/index.html">Lsa</a></li>
    <li><a class="term-link" href="./tags/sapere/index.html">Sapere</a></li>
    <li><a class="term-link" href="./tags/tuple/index.html">Tuple</a></li>
    <li><a class="term-link" href="./tags/tuple-centre/index.html">Tuple Centre</a></li>
    <li><a class="term-link" href="./tags/tuple-space/index.html">Tuple Space</a></li>
    <li><a class="term-link" href="./tags/tutorial/index.html">Tutorial</a></li>
  </ul>
</div>
  </header>

<h1 id="sapere-incarnation-tutorial">SAPERE Incarnation Tutorial</h1>

<p>An explanation of the basics of the SAPERE Incarnation is available <a href="./explanation/sapere/index.html">here</a>.
A tutorial similar to the <a href="./tutorials/basics/index.html">base tutorial</a>, with increasingly rich examples,
focused on the SAPERE incarnation.
Reference descriptions of the SAPERE LSA language inside the simulator are available
<a href="./reference/sapere/index.html">here</a></p>
<p>The tutorial can be found on <a href="https://github.com/AlchemistSimulator/Sapere-Incarnation-tutorial" rel="external" target="_blank">GitHub</a>.
The <code>README.md</code> file of the project explains the use and the steps to follow.</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Show README.md
  </summary>
  <div class="box-content">
<p><a href="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial/actions/workflows/build-and-deploy.yml" rel="external" target="_blank"><a href="#R-image-d931970c773d38feece1cb9cfbce60c2" class="lightbox-link"><img alt="CI" class="lazy lightbox figure-image" loading="lazy" src="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial/actions/workflows/build-and-deploy.yml/badge.svg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d931970c773d38feece1cb9cfbce60c2"><img alt="CI" class="lazy lightbox lightbox-image" loading="lazy" src="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial/actions/workflows/build-and-deploy.yml/badge.svg"></a></a></p>
<h1 id="hands-on-tutorial-with-the-alchemist-sapere-incarnation">Hands-on tutorial with the Alchemist SAPERE incarnation</h1>
<p>The goal of this tutorial is to showcase the usage of Alchemist-SAPERE,
by a sequence of working examples and increasingly challenging exercises.</p>
<p>Introductory material to the simulation world and to the process that led to the creation of Alchemist
and of its SAPERE incarnation are provided <a href="http://github.com/DanySK/Course-Simulation-Basics/releases/latest/download/Simulation.pdf" rel="external" target="_blank">here</a>.</p>
<p>More information on how to write simulations in Alchemist are provided on <a href="https://alchemistsimulator.github.io" rel="external" target="_blank">the official website</a>.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Alchemist requires a working installation of the Java Development Kit 11 or newer to run.
We do recommend either OpenJDK or OpenJ9 from <a href="https://adoptopenjdk.net/" rel="external" target="_blank">AdoptOpenJDK</a>.
Several architectures, operating systems, and JDK versions are tested for compatibility.</p>
<h3 id="prerequisites-with-docker">Prerequisites with docker</h3>
<p>When running with docker, installing Java Development Kit is not needed.
Docker and docker-compose are needed in order to run this project in container.
To run on OS X and Windows machines additional X Window System program will be needed.
Eg. <code>xquarts</code> for OS X and <code>Xming</code> for Windows.
To run run project use <code>docker-compose up</code>. Simulation can be specified eg. in <code>docker-compose.yml</code> file.</p>
<h2 id="lanching-simulations">Lanching simulations</h2>
<p>The project is managed via the <a href="https://gradle.org/" rel="external" target="_blank">Gradle Build Tool</a>.
You do not need to install it, the launch script will download the correct version for you.</p>
<p>In order to launch a simulation named <code>SIMNAME</code>,
a file named <code>SIMNAME.yml</code> <em>must</em> be in the <code>src/main/yaml</code> folder of the project.
That's where the build script will look up.
There will be one Gradle task for each simulation file, which can be executed as:</p>
<p><code>./gradlew SIMNAME</code></p>
<p>If an effects file named <code>SIMNAME.json</code> is present in the <code>effects</code> folder, it will be loaded automatically.</p>
<p><strong>NOTE</strong> the environment variable <code>CI</code> is used to determined whether the task is running in a headless continuous integration environment.
If you have <code>CI=true</code> in your environment, the graphical interface won't get pulled up.</p>
<h2 id="exercises">Exercises</h2>
<p>Using the provided simulation and the documentation provided on <a href="https://alchemistsimulator.github.io/" rel="external" target="_blank">the official Alchemist website</a>,
and in particular in <a href="https://alchemistsimulator.github.io/reference/yaml/" rel="external" target="_blank">reference guide to the YAML simulations</a> and
in <a href="https://alchemistsimulator.github.io/reference/sapere/" rel="external" target="_blank">the SAPERE incarnation reference</a>,
and the graphical interface usage description available <a href="https://alchemistsimulator.github.io/reference/default-ui/" rel="external" target="_blank">here</a>,
try to solve the following exercises:</p>
<ol>
<li>Add two nodes to an empty, continuous environment, and make them connected</li>
<li>Create 10000 nodes randomly displaced inside a circle centered in (0,0) and radius 10</li>
<li>Create a grid of nodes from (-5,-5) to (5,5), with nodes every (0.25,0.25) distance units, and no perturbance</li>
<li>Create a perturbed grid from the example above</li>
<li>Put some {token} LSAs in some nodes of the system</li>
<li>Write a &quot;dodgeball&quot; program</li>
<li>See how YAML can be used to write personalised sections and how they can be referred</li>
<li>Modify the dodgeball program so that it <em>counts</em> in the LSA the number of passes</li>
<li>Write an LSA diffusion program: after some time, every node of the network must have the {token} LSA. Use the <code>*</code> operator</li>
<li>Look at the <code>10-math.yml</code> file. Esperiment with it and try to move nodes around manually.</li>
<li>Write a gradient, it should:
<ol>
<li>convert a <code>{source}</code> to a <code>{gradient, 0}</code> (don't delete the source!)</li>
<li>diffuse to neighbors the gradient, whose value is increased of <code>#D</code></li>
<li>if there are multiple copies of the gradient, keep only the lowest (immediately!)</li>
<li>every some time &quot;age&quot; the information by increasing its value</li>
<li>delete gradients whose value is higher than some threshold (e.g. 20).</li>
</ol>
</li>
<li>Take a look to <code>12-sets.yml</code>, and see how the set arithmetic works. Run it, and see the result.</li>
<li>Modify the program above by changing the time distribution, using a personalised one: a DiracComb with parameter 0.5</li>
<li>Take a look to <code>14-yaml.vars.yml</code>, and make sure to understand how the variables system works</li>
<li>Take a look to <code>15-move.yml</code>, run it and play with its variables</li>
<li>Try to run <code>16-maps.yml</code> (note: it can take some time on the first load). Get a glance of the possible complexity of advanced scenarios. Discuss the result, modify the example as you like.</li>
</ol>
  </div>
</details>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>Something went wrong along the line? Drop us an
<a href="https://github.com/AlchemistSimulator/Sapere-Incarnation-tutorial/issues/new/choose" rel="external" target="_blank">issue report</a>
and we&rsquo;ll get back to you.</p>
  </div>
</details>
<h2 id="lsas">LSAs</h2>
<p><a href="./reference/sapere/index.html#lsa-syntax">Syntax details are available in the reference</a>.
The following code creates an irregular grid of devices,
of which those located around the center of such grid contain the tuple <code>{ token }</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>: <span style="color:#78787e"># A description of what will be included in the node</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: hello <span style="color:#78787e"># Everywhere</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>: <span style="color:#78787e"># Restrict the area to...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle <span style="color:#78787e"># ...a class implementing Shape with this name...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">1</span>, -<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>] <span style="color:#78787e"># ...which can get built with these parameters</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token <span style="color:#78787e"># Molecule to inject</span>
</span></span></code></pre></div>
<p>The relevant part here is <code>molecule: token</code>.
If we wanted to inject the tuple <code>{ foo, 1, bar, 2 }</code>, we could have written <code>molecule: foo, 1, bar, 2</code>.</p>
<h2 id="eco-laws">Eco-Laws</h2>
<p>Nodes can be programmed with Eco-Laws as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e"># A list of the sets of reactions programming the node</span>
</span></span><span style="display:flex;"><span>    - 
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># Frequency. If the class is not specified, the implementation to use is chosen by the incarnation. The SAPERE incarnation automatically loads ExponentialTime, which takes a number representing the Markovian rate.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># program lets the incarnation choose the class implementing Reaction, and passes down a string that, when parsed, produces the program</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">program</span>: &gt; <span style="color:#78787e"># &#34;&gt;&#34; begins a multiline string (quote mode)</span>
</span></span><span style="display:flex;"><span>          {token} --&gt; {firing}
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># If the time distribution is unspecified, the SAPERE incarnation assumes a &#34;ASAP&#34; behavior (rate = Infinity)</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{firing} --&gt; +{token}&#34;</span>
</span></span></code></pre></div>
<p>Eco-Laws can be programmed to send LSAs to neighbors, as well as to look into neighboring nodes for getting LSAs.
In order to do so, the LSA template in the Eco-Law must be preceded by a neighbor operator, either <code>+</code> or <code>*</code>.</p>
<p><code>+</code> means <em>in a neighbor</em>:
if used on the left hand side,
it considers the condition satisfied if at least one neighbor has at least one LSA matching the provided template;
if used on the right hand side,
sends the LSA to one random neighbor.</p>
<p><code>*</code> means <em>in all neighbors</em>:
if used on the left hand side,
it considers the condition satisfied if all neighbors have at least one LSA matching the provided template;
if used on the right hand side,
sends a copy of the LSA to all neighbors.</p>
<p>The following code exemplifies a diffusion program:
when <code>{ token }</code> is present locally, it is copied into neighboring nodes once per second;
and as soon as two copies of <code>{ token }</code> are present, one gets removed.</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;send</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token} --&gt; {token} *{token}</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token}{token} --&gt; {token}</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*send</span>
</span></span></code></pre></div>
<h3 id="rates">Rates</h3>
<p>The time distribution with which reactions should get scheduled can be controlled by thinkering with the yaml specification
as per every reaction in Alchemist.
If no
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-time-distribution/"><code>TimeDistribution</code></a>
is specified,
the Eco-Law is assumed to run &ldquo;as soon as possible&rdquo; (ASAP).</p>
<p>This may lead to unwanted behaviour.
For instance, programming a single node with:
<code> --&gt; { foo }</code>
will cause the simulation to schedule a reaction producing <code>{ foo }</code> at time zero,
and at each execution the time will remain zero:
the simulator will be producing copies over copies of the tuple,
never advancing in time (Alchemist is a discrete event simulator),
and possibly going on until the JVM memory limit is reached.</p>
<p>If a number is specified as time distribution, using the <code>time-distribution</code> key,
then it will be interpreted as the <a href="https://en.wikipedia.org/wiki/Markov_chain" rel="external" target="_blank">Markovian rate</a>
of an <a href="https://en.wikipedia.org/wiki/Exponential_distribution" rel="external" target="_blank">exponentially distributed time</a>.</p>
<p>Other distributions found at
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.timedistributions/"><code>it.unibo.alchemist.model.timedistributions</code></a>
can be used leveraging the
<a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<p>In the following example, two Eco-Laws are configured, and one of them is bound to an
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.timedistributions/-exponential-time/"><code>ExponentialTime</code></a>
with rate 1, namely, when the reaction can be executed
(the left hand LSAs have local matches),
it will execute at an average of once per second
(with a variance of 1 s²).</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e"># A list of the sets of reactions programming the node</span>
</span></span><span style="display:flex;"><span>    - 
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># Frequency. If the class is not specified, the implementation to use is chosen by the incarnation. The SAPERE incarnation automatically loads ExponentialTime, which takes a number representing the Markovian rate.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># program lets the incarnation choose the class implementing Reaction, and passes down a string that, when parsed, produces the program</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">program</span>: &gt; <span style="color:#78787e"># &#34;&gt;&#34; begins a multiline string (quote mode)</span>
</span></span><span style="display:flex;"><span>          {token} --&gt; {firing}
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># If the time distribution is unspecified, the SAPERE incarnation assumes a &#34;ASAP&#34; behavior (rate = Infinity)</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{firing} --&gt; +{token}&#34;</span>
</span></span></code></pre></div>
<h2 id="exercise">Exercise</h2>
<p>To better grasp details of the incarnation, we recommend looking at the examples available on
<a href="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial" rel="external" target="_blank">the Alchemist SAPERE Incarnation tutorial on GitHub</a>.</p>
<p>Besides examples with growing complexity,
there are a number of proposed exercises that should help you get acquainted with the SAPERE way of writing self-organizing behaviors.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/aggregate/index.html">Aggregate</a></li>
    <li><a class="term-link" href="./tags/aggregate-computing/index.html">Aggregate Computing</a></li>
    <li><a class="term-link" href="./tags/aggregate-programming/index.html">Aggregate Programming</a></li>
    <li><a class="term-link" href="./tags/scafi/index.html">Scafi</a></li>
    <li><a class="term-link" href="./tags/scala/index.html">Scala</a></li>
    <li><a class="term-link" href="./tags/scala-fields/index.html">Scala Fields</a></li>
    <li><a class="term-link" href="./tags/tutorial/index.html">Tutorial</a></li>
  </ul>
</div>
  </header>

<h1 id="scafi-incarnation-tutorial">Scafi Incarnation Tutorial</h1>

<p>ScaFi (Scala Fields) is a Scala-based library and framework for Aggregate Programming.
It implements a variant of the Higher-Order Field Calculus (HOFC) operational semantics,
which is made available as a usable domain-specific language (DSL),
and provides a platform and API for simulating and executing Aggregate Computing systems and applications.</p>
<h2 id="how-to-use-scafi-with-alchemist">How to use ScaFi with Alchemist</h2>
<p>For more details about ScaFi please read the
documentation in the <a href="https://scafi.github.io/docs/" rel="external" target="_blank">official site</a>
where you can find a description of how to integrate ScaFi toolkit
with Alchemist.</p>
<p>A tutorial similar to the <a href="./tutorials/basics/index.html">base tutorial</a>, with increasingly rich examples,
focused on the Scafi incarnation.</p>
<p>The tutorial can be found on <a href="https://github.com/scafi/learning-scafi-alchemist" rel="external" target="_blank">GitHub</a>.
The <code>README.md</code> file of the project explains the use and the steps to follow.</p>
<h1 id="simulations-with-alchemist-and-scafi-tutorial">Simulations with Alchemist and Scafi: tutorial</h1>
<p>This tutorial presents a sequence of increasingly rich examples using the <a href="https://scafi.github.io" rel="external" target="_blank">Scafi aggregate programming DSL</a> and <a href="https://alchemistsimulator.github.io/" rel="external" target="_blank">the Alchemist Simulator</a>.</p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>A <a href="https://docs.gradle.org/current/userguide/compatibility.html" rel="external" target="_blank">Gradle-compatible Java version</a> e.g., <a href="https://adoptium.net/temurin/releases/" rel="external" target="_blank">temurin</a></li>
<li>A local installation of <a href="https://git-scm.com/" rel="external" target="_blank">Git</a></li>
<li>[Optional] A working version of Python 3 for the plotting part</li>
</ul>
<p><strong>Check if it works</strong></p>
<p>Open a terminal and type</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>java -version
git --version</code></pre></div>
<p>Now you are ready to launch Alchemist &amp; ScaFi simulations</p>
<h2 id="quickstart">Quickstart</h2>
<p>Open a terminal and run:</p>
<p><strong>Windows</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#ff5c57">curl </span>https<span style="color:#ff5c57">:</span>//raw.githubusercontent.com/scafi/<span style="color:#ff5c57">learning-scafi</span>-alchemist/master/launch.ps1 | <span style="color:#ff5c57">Select-Object</span> -ExpandProperty Content | powershell.exe</span></span></code></pre></div>
<p><strong>Linux &amp; Mac</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl https://raw.githubusercontent.com/scafi/learning-scafi-alchemist/master/launch.sh | bash</span></span></code></pre></div>
<p>It will take some time for the system to download all the required dependencies,
at the end of the process you will be presented
the Alchemist default GUI
(<a href="https://alchemistsimulator.github.io/reference/default-ui/" rel="external" target="_blank">here</a> are instructions on how to interact with the simulator).
At this point, the simulation should be looking like this:
<a href="#R-image-c088c9b914e77d1b8a7bca2f41a282bf" class="lightbox-link"><img alt="Alchemist simulation start" class="lazy lightbox figure-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175499943-f346221b-9308-4cf0-8402-d90ad3bc56c6.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c088c9b914e77d1b8a7bca2f41a282bf"><img alt="Alchemist simulation start" class="lazy lightbox lightbox-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175499943-f346221b-9308-4cf0-8402-d90ad3bc56c6.png"></a></p>
<p>Click <kbd>P</kbd> to start the simulation.
The nodes will compute the ScaFi program described
<a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/scala/it/unibo/scafi/examples/HelloScafi.scala" rel="external" target="_blank">here</a>)
in rounds,
producing node colour changes.
<a href="#R-image-d029630496074e46f674fdaa652fe58c" class="lightbox-link"><img alt="Alchemist simulation evolution" class="lazy lightbox figure-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175502234-a2c5ae1a-c909-4545-ba5e-8cea0441cbd3.gif" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d029630496074e46f674fdaa652fe58c"><img alt="Alchemist simulation evolution" class="lazy lightbox lightbox-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175502234-a2c5ae1a-c909-4545-ba5e-8cea0441cbd3.gif"></a></p>
<h3 id="what-happened">What happened</h3>
<p>Issuing the one-liner command, you have:</p>
<ol>
<li>downloaded this repository using Git</li>
<li>created a folder called <code>learning-scafi-alchemist</code> that contains the simulations</li>
<li>executed the command <code>./gradlew runHelloScafi</code> inside the <code>learning-scafi-alchemist</code> created above.</li>
</ol>
<p>The last command produces the execution of the simulation called <code>helloScafi</code> described using a <code>yml</code> <a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/helloScafi.yml" rel="external" target="_blank">file</a>.
Particularly an Alchemist simulation typically consists of a network of devices that could communicate with each other by means of a neighbourhood relationship (you can see the connections by clicking <kbd>L</kbd>)
<a href="#R-image-1d090eb420b1f61213473f5a390d0ba9" class="lightbox-link"><img alt="Alchemist Neibourhood Relationship" class="lazy lightbox figure-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175505269-cb2f6281-d7f2-40ff-9a11-fe7301166092.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1d090eb420b1f61213473f5a390d0ba9"><img alt="Alchemist Neibourhood Relationship" class="lazy lightbox lightbox-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175505269-cb2f6281-d7f2-40ff-9a11-fe7301166092.png"></a>
In this case, the nodes&rsquo; positions are configured through real GPS traces from the Vienna marathon app.
The simulation effects (i.e., node shapes and colours) are highly configurable through JSON <a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/effects/helloScafi.json" rel="external" target="_blank">configuration</a>. Here the node colour depends on the output of the ScaFi program, which is executed in each device every 1 second. Particularly, the execution of a ScaFi program deals with local computations and interaction among neighbours through a distributed data structure called <em>computational field</em>. This distributed and repeated execution of <em>rounds</em> eventually produces a collective result (you can find more details about the execution model of ScaFi programs in the <a href="https://scafi.github.io/docs/#execution-model" rel="external" target="_blank">documentation</a>).</p>
<p>In this case, the program consists of the evaluation of the distance from the node with the ID 100 (in Aggregate Computing literature called &ldquo;gradient&rdquo;).</p>
<!--
* download repo
* creation folder xxx
* command uiiuiii executed inside xxx

* Network of devices
* colors based on ...
* the simulator runs the program every x seconds
* the interaction among devices builds the distributed data structure
-->
<p><strong>Something wrong?</strong></p>
<p>Try the following:</p>
<ol>
<li>clone manually using <code>git clone https://github.com/scafi/learning-scafi-alchemist.git</code>
<ol>
<li>alternatively: download the repository zip (<a href="https://github.com/scafi/learning-scafi-alchemist/archive/refs/heads/master.zip" rel="external" target="_blank"><kbd>Download!</kbd></a>)</li>
<li>then unzip the repository to a local folder</li>
</ol>
</li>
<li>open a terminal inside the cloned/downloaded folder</li>
<li>run <code>./gradlew runHelloScafi</code></li>
</ol>
<p>If you still have problems executing the experiments, please consider opening an issue! <a href="https://github.com/scafi/learning-scafi-alchemist/issues/new" rel="external" target="_blank"><kbd> New issues</kbd></a></p>
<h2 id="guided-examples">Guided examples</h2>
<p>from now on, we will assume all commands have been issued inside <code>learning-scafi-alchemist</code></p>
<h3 id="1-hello-scafi-a-gradient-in-space-and-time">1. Hello, ScaFi! A gradient in space and time</h3>
<h4 id="launch-command">Launch command</h4>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runHelloScafi</span></span></code></pre></div>
<h4 id="what-happened-1">What happened</h4>
<p>This is the example described in <a href="./tutorials/scafi/index.html#quickstart">Quickstart</a> section.
Particularly, the program consists of the description of the self-healing gradient: an algorithm that computes a gradient (i.e.,  a field mapping each device in the system with its minimum distance from the closest <em>source</em> device) field
and automatically adjusts it after changes in the source set and the connectivity network (more details about gradients can be found in <a href="https://ieeexplore-ieee-org.ezproxy.unibo.it/document/8064033" rel="external" target="_blank">Compositional Blocks for Optimal Self-Healing Gradients</a>).</p>
<h4 id="what-is-inside">What is inside</h4>
<table>
  <thead>
      <tr>
          <th>Configuration File</th>
          <th>ScaFi Program File</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/helloScafi.yml" rel="external" target="_blank">helloScafi.yml</a></td>
          <td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/scala/it/unibo/scafi/examples/HelloScafi.scala" rel="external" target="_blank">HelloScafi.scala</a></td>
      </tr>
  </tbody>
</table>
<p>An Alchemist simulation could be described through yml configurations.
In order to execute ScaFi script, you should at least define:</p>
<ul>
<li>the Scafi incarnation:</li>
</ul>
<!-- embedme ./src/main/yaml/helloScafi.yml#L1-L1 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: scafi</span></span></code></pre></div>
<ul>
<li>a <code>Reaction</code> that contains the <code>Action</code> <code>RunScafiProgram</code> with the full class name of the program chosen</li>
</ul>
<!-- embedme ./src/main/yaml/helloScafi.yml#L37-L46 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: <span style="color:#78787e">&amp;program</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: ExponentialTime
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*programRate]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">type</span>: RunScafiProgram
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">parameters</span>: [it.unibo.scafi.examples.HelloScafi, *retentionTime]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: send</span></span></code></pre></div>
<ul>
<li>a deployment that contains in the programs the Action specified above</li>
</ul>
<!-- embedme ./src/main/yaml/helloScafi.yml#L56-L60 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>: <span style="color:#78787e">## i.e, how to place nodes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: FromGPSTrace <span style="color:#78787e">## place nodes from gps traces</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*totalNodes,</span> <span style="color:#78787e">*gpsTraceFile,</span> <span style="color:#ff6ac1">true</span>, <span style="color:#5af78e">&#34;AlignToTime&#34;</span>, <span style="color:#78787e">*timeToAlign,</span> <span style="color:#ff6ac1">false</span>, <span style="color:#ff6ac1">false</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">## the reactions installed in each nodes</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#78787e">*program</span></span></span></code></pre></div>
<p>More details about the Alchemist configuration could be found in the <a href="http://alchemistsimulator.github.io/reference/yaml/" rel="external" target="_blank">official guide</a>.</p>
<p>The main logic of the node behaviour is described through the Scafi program file.
Particularly, a valid ScaFi program must:</p>
<ol>
<li>choose an incarnation</li>
</ol>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L3-L3 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">import</span> it.unibo.alchemist.model.scafi.ScafiIncarnationForAlchemist._</span></span></code></pre></div>
<ol start="2">
<li>extend the <code>AggregateProgram</code> trait</li>
</ol>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L7-L7 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">class</span> <span style="color:#f3f99d">HelloScafi</span> <span style="color:#ff6ac1">extends</span> <span style="color:#f3f99d">AggregateProgram</span></span></span></code></pre></div>
<ol start="3">
<li>mix-in the libraries required for the application</li>
</ol>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L8-L8 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">StandardSensors</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">ScafiAlchemistSupport</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">BlockG</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">Gradients</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">FieldUtils</span> <span style="color:#ff6ac1">{</span></span></span></code></pre></div>
<ol start="4">
<li>define the behaviour inside the <code>main</code> method.</li>
</ol>
<p>A ScaFi program typically deals with environment information through <strong>sensors</strong>.
<code>sense[Type](name)</code> is the built-in operator used to query the sensors attached to each node. Each <em>molecule</em> expressed in the yaml (i.e., the Alchemist variable concept) can be queried from the ScaFi program. For instance, in helloScafi, we write:</p>
<!-- embedme ./src/main/yaml/helloScafi.yml#L63-L64 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#ff6ac1">molecule</span>: test
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*source</span> <span style="color:#78787e"># anchor to &#34;source&#34; value, check line 17</span></span></span></code></pre></div>
<p>Therefore, in the program, we can get the <code>test</code> value as:</p>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L11-L12 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Access to node state through &#34;molecule&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> source <span style="color:#ff6ac1">=</span> sense<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Int</span><span style="color:#ff6ac1">](</span><span style="color:#5af78e">&#34;test&#34;</span><span style="color:#ff6ac1">)</span> <span style="color:#ff6ac1">//</span> <span style="color:#f3f99d">Alchemist</span> <span style="color:#f3f99d">API</span> <span style="color:#ff6ac1">=&gt;</span> node<span style="color:#ff6ac1">.</span>get<span style="color:#ff6ac1">(</span><span style="color:#5af78e">&#34;test&#34;</span><span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<p>There are several built-sensors (in <code>checkSensors</code> there are examples of local sensors and neighbouring sensors).
For more details, please check the <a href="http://scafi-docs.surge.sh/it/unibo/scafi/index.html" rel="external" target="_blank">Scaladoc</a>.</p>
<p>The main logic of the program is expressed in the following line:</p>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L13-L14 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// An aggregate operation
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> g <span style="color:#ff6ac1">=</span> classicGradient<span style="color:#ff6ac1">(</span>mid<span style="color:#ff6ac1">()</span> <span style="color:#ff6ac1">==</span> source<span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<p>Where <code>classicGradient</code> is a function defined in <code>BlockG</code> that implements the self-healing gradient described above. The first argument is a <code>Boolean</code> field that defines which part of the system could be considered a <em>source</em> zone. In this case, nodes are marked as source when the field of ids (i.e., <code>mid()</code>)  is equal to the value passed through the variable <code>test</code>. This can be expressed as <code>mid() == source</code>.</p>
<p>The value produced by Scafi definitions could be used to express <em>actuation</em>. In the Scafi incarnation, you can update the Alchemist variables through <code>node.put</code></p>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L15-L16 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Write access to node state (i.e., Actuation =&gt; it changes the node state)
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>node<span style="color:#ff6ac1">.</span>put<span style="color:#ff6ac1">(</span><span style="color:#5af78e">&#34;g&#34;</span><span style="color:#ff6ac1">,</span> g<span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<p>In the Alchemist default GUI you can inspect the node variables (i.e., molecules) by double-clicking a nodes
<a href="#R-image-d4e3809a6d24d03cd674bb6036c92c5f" class="lightbox-link"><img alt="Alchemist Molecule panel" class="lazy lightbox figure-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/176140035-dcc4078a-b71d-4eef-a8f2-5cdbc81b0c60.gif" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d4e3809a6d24d03cd674bb6036c92c5f"><img alt="Alchemist Molecule panel" class="lazy lightbox lightbox-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/176140035-dcc4078a-b71d-4eef-a8f2-5cdbc81b0c60.gif"></a></p>
<p>Finally, the last instruction of the main is the returned value of the Scafi program (in scala <code>return</code> is optional)</p>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L17-L18 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Return value of the program
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>g</span></span></code></pre></div>
<h4 id="minimal-changes">Minimal changes</h4>
<ol>
<li>As described above, the program is <em>self-healing</em>, so try to move node and see how the system eventually reaches a stable condition:
<ul>
<li>click <kbd>S</kbd> to enter into selection mode</li>
<li>start a selection by clicking the mouse left button and dragging it into the environment</li>
<li>once your selection is over, click <kbd>O</kbd> to enter into move mode</li>
<li>click over the selection and drag the element into another position
<a href="#R-image-a6bf7f85998b378b591cb5e18b2b7c71" class="lightbox-link"><img alt="Alchemist Move elements" class="lazy lightbox figure-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175920712-e193cf6d-6797-46e9-bc02-c0218f3bf583.gif" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a6bf7f85998b378b591cb5e18b2b7c71"><img alt="Alchemist Move elements" class="lazy lightbox lightbox-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175920712-e193cf6d-6797-46e9-bc02-c0218f3bf583.gif"></a></li>
</ul>
</li>
<li>Try to modify the source node (via yml configuration) and check the program output differences</li>
<li>Try to change the source node (i.e. with the ID == 10) after 10 seconds (check <code>BlockT</code> library, or you can implement the time progression with <code>rep(0 seconds)(time =&gt; time + deltaTime)</code>)</li>
</ol>
<h4 id="using-the-generated-data-with-the-embedded-plotting-script">Using the generated data with the embedded plotting script</h4>
<p>You can produce plots from the data generated by Alchemist simulations.
Indeed, each Alchemist simulation produces aggregated data as expressed in the <code>export</code> configuration <a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/helloScafi.yml#L68-L83" rel="external" target="_blank">section</a>. For more details about data exporting, please refer to the official Alchemist <a href="http://alchemistsimulator.github.io/howtos/simulation/export/" rel="external" target="_blank">guide</a>.<br>
Particularly, this command:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runHelloScafi -Pbatch<span style="color:#ff6ac1">=</span><span style="color:#ff5c57">true</span> -Pvariables<span style="color:#ff6ac1">=</span>random</span></span></code></pre></div>
<p>will run several simulations in batch, one for each possible value of the random variables (six in this case, as expressed in the <a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/helloScafi.yml#L4-L8" rel="external" target="_blank">helloScafi.yml</a>). Each simulation, will produce a csv file in <code>$exportPath/$fileNameRoot-randomValue.$fileExtension</code> (in this case, build/exports/helloScafi/experiment-x.txt, the values starting with $ are gathered from the simulation configuration file).</p>
<p>Typically, we use these data to produce charts that express the dynamics of the collective system.
This repository contains a highly configurable script (please look at the configuration defined in <a href="https://github.com/scafi/learning-scafi-alchemist/tree/master/plots" rel="external" target="_blank">plots</a>).</p>
<p>To run the script for this experiment, you should run:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ python plotter.py plots/helloScafi.yml ./build/exports/helloScafi <span style="color:#5af78e">&#34;.*&#34;</span> <span style="color:#5af78e">&#34;result&#34;</span> plots/ </span></span></code></pre></div>
<p>Where:</p>
<ul>
<li>the first argument is the plot configuration (expressed using a yaml file)</li>
<li>the second argument is where the files are located</li>
<li>the third argument is a regex used to select the simulations file</li>
<li>the fourth argument defines the initial names of the plot</li>
<li>the last argument devises the folder in which the plots will be stored</li>
</ul>
<h3 id="2-a-richer-pattern-self-organizing-coordination-regions">2. A richer pattern: Self-organizing Coordination Regions</h3>
<h4 id="launch-command-1">Launch command</h4>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runSelforgCoordRegions</span></span></code></pre></div>
<h4 id="what-happened-2">What happened</h4>
<p>This example shows an interesting pattern developed with ScaFi, the so-called Self-Organising Coordination Regions (SCR).
(more details in <a href="https://hal.inria.fr/hal-02365498/document" rel="external" target="_blank">Self-organising Coordination Regions: A Pattern for
Edge Computing</a>)</p>
<p>The idea of SCR is to organize a distributed activity
into multiple spatial <strong>regions</strong> (inducing a partition of the system),
each one controlled by a <strong>leader</strong> device,
which collects data from the area members
and spreads decisions to enact some area-wide policy.
Particularly, when you launch the command of SCR you will see something like this:</p>
<p><a href="#R-image-bf83b88972583531dec0c6991ad85e39" class="lightbox-link"><img alt="SCR result" class="lazy lightbox figure-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175658741-08537743-a325-4137-be14-a4dd6532237b.gif" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bf83b88972583531dec0c6991ad85e39"><img alt="SCR result" class="lazy lightbox lightbox-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175658741-08537743-a325-4137-be14-a4dd6532237b.gif"></a></p>
<p>Where the colour denotes the potential field (i.e., the gradient) that starts from the selected leader.
In this GIF, the leaders are the ones marked with blue colour.</p>
<h4 id="what-is-inside-1">What is inside</h4>
<table>
  <thead>
      <tr>
          <th>Configuration File</th>
          <th>ScaFi Program File</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/selforgCoordRegions.yml" rel="external" target="_blank">selforgCoordRegions.yml</a></td>
          <td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala" rel="external" target="_blank">SelforganisingCoordinationRegions.scala</a></td>
      </tr>
  </tbody>
</table>
<p>The SCR pattern consists of four main phases:</p>
<ol>
<li>leader election: using block <code>S</code> the system will produce a distributed leader election that tries to divide the system equally with a certain range (in S term, it is called <code>grain</code>):</li>
</ol>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala#L14-L15 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Sparse choice (leader election) of the cluster heads
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> leader <span style="color:#ff6ac1">=</span> S<span style="color:#ff6ac1">(</span>sense<span style="color:#ff6ac1">(</span><span style="color:#f3f99d">Params</span><span style="color:#ff6ac1">.</span><span style="color:#f3f99d">GRAIN</span><span style="color:#ff6ac1">),</span> metric <span style="color:#ff6ac1">=</span> nbrRange<span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<ol start="2">
<li>potential field definition: after the leader election process, there is another phase in which will be computed potential field from the leader. In this way, the slave node could send information to leader&rsquo;s</li>
</ol>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala#L16-L17 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// G block to run a gradient from the leaders
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> g <span style="color:#ff6ac1">=</span> distanceTo<span style="color:#ff6ac1">(</span>leader<span style="color:#ff6ac1">,</span> metric <span style="color:#ff6ac1">=</span> nbrRange<span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<ol start="3">
<li>collection phase: the slave node could collect local information (e.g., temperature) and send it to the leader. During the path, it will be an aggregation process that combines local information with area information (i.e., all the nodes that are inside the potential field of a leader)</li>
</ol>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala#L18-L19 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// C block to collect information towards the leaders
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> c <span style="color:#ff6ac1">=</span> C<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Double</span>,<span style="color:#9aedfe">Set</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">ID</span><span style="color:#ff6ac1">]](</span>g<span style="color:#ff6ac1">,</span> <span style="color:#ff6ac1">_</span><span style="color:#ff6ac1">++</span><span style="color:#ff6ac1">_</span><span style="color:#ff6ac1">,</span> <span style="color:#f3f99d">Set</span><span style="color:#ff6ac1">(</span>mid<span style="color:#ff6ac1">()),</span> <span style="color:#f3f99d">Set</span><span style="color:#ff6ac1">.</span>empty<span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<ol start="4">
<li>leader choice and share: with the information collected inside an area, the leader could perform an area-wide decision and then send it to the whole area (using <code>G</code>)</li>
</ol>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala#L20-L22 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// G block to propagate decisions or aggregated info from leaders to members
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> info <span style="color:#ff6ac1">=</span> G<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Set</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">ID</span><span style="color:#ff6ac1">]](</span>leader<span style="color:#ff6ac1">,</span> c<span style="color:#ff6ac1">,</span> identity<span style="color:#ff6ac1">,</span> metric <span style="color:#ff6ac1">=</span> nbrRange<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> head <span style="color:#ff6ac1">=</span> G<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">ID</span><span style="color:#ff6ac1">](</span>leader<span style="color:#ff6ac1">,</span> mid<span style="color:#ff6ac1">(),</span> identity<span style="color:#ff6ac1">,</span> metric <span style="color:#ff6ac1">=</span> nbrRange<span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<h4 id="minimal-changes-1">Minimal changes</h4>
<ol>
<li>Try to change the grain (check in the configuration file). It would lead to changes in area formation</li>
<li>Try to count the number of nodes inside an area and share this information with that area&mdash;suggestion: change phase 3. of the SCR</li>
<li>As in the previous example, the areas are self-healing. Therefore try to move leaders and see what happens in the leader formation. Try to remove nodes too (see the next clip)
<a href="#R-image-dcab4debee9b192df653c136581ece7f" class="lightbox-link"><img alt="ezgif com-gif-maker" class="lazy lightbox figure-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/179356424-bd31b95a-e38a-491a-80d3-cc448059e484.gif" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dcab4debee9b192df653c136581ece7f"><img alt="ezgif com-gif-maker" class="lazy lightbox lightbox-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/179356424-bd31b95a-e38a-491a-80d3-cc448059e484.gif"></a></li>
</ol>
<h3 id="3-overlapping-computations-in-space-and-time-with-aggregate-processes">3. Overlapping computations in space and time with aggregate processes</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runAggregateProcesses</span></span></code></pre></div>
<h4 id="what-happened-3">What happened</h4>
<p>This example shows an application of Aggregate Processes,
which is s a way to specify a dynamic number of collective
computations running on dynamic ensembles of devices (more details in <a href="https://www.sciencedirect.com/science/article/abs/pii/S0952197620303389" rel="external" target="_blank">Engineering collective intelligence at the edge with aggregate processes</a>).
<a href="#R-image-223f865fc31440ae039a965818979465" class="lightbox-link"><img alt="Processes API" class="lazy lightbox figure-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175660568-9906a920-d701-48ce-a0de-a0d6fa146425.gif" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-223f865fc31440ae039a965818979465"><img alt="Processes API" class="lazy lightbox lightbox-image" loading="lazy" src="https://user-images.githubusercontent.com/23448811/175660568-9906a920-d701-48ce-a0de-a0d6fa146425.gif"></a></p>
<p>The processes are the bigger circle around the nodes. The colour identifies the process ID. As you can see,
during the simulation the process starts, shrink and then could disappear.</p>
<h4 id="what-is-inside-2">What is inside</h4>
<table>
  <thead>
      <tr>
          <th>Configuration File</th>
          <th>ScaFi Program File</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/aggregateProcesses.yml" rel="external" target="_blank">aggregateProcesses.yml</a></td>
          <td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala" rel="external" target="_blank">SelforganisingCoordinationRegions.scala</a></td>
      </tr>
  </tbody>
</table>
<h4 id="minimal-changes-2">Minimal changes</h4>
<p>To start the process, you can use the <code>spawn</code> operators (and their variation, <code>sspawn</code>, <code>cspawn</code>, etc.):</p>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L24-L24 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> maps <span style="color:#ff6ac1">=</span> sspawn<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Pid</span>,<span style="color:#9aedfe">Unit</span>,<span style="color:#9aedfe">Double</span><span style="color:#ff6ac1">](</span>process<span style="color:#ff6ac1">,</span> pids<span style="color:#ff6ac1">,</span> <span style="color:#ff6ac1">{})</span></span></span></code></pre></div>
<p>Particularly, <code>sspawn</code> accepts:</p>
<ul>
<li>the process logic, that is a function <code>ID =&gt; Input =&gt; Pout[Out]</code>
<ul>
<li><code>ID</code> in this case is a <code>case class</code> that contains the <code>id</code> of a node that will start the process, the time in which it will effectively start and finally the time in which it will end.</li>
</ul>
  <!-- embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L41-L42 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">case</span> <span style="color:#ff6ac1">class</span> <span style="color:#f3f99d">Pid</span><span style="color:#ff6ac1">(</span>src<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">ID</span> <span style="color:#ff6ac1">=</span> mid<span style="color:#ff6ac1">(),</span> time<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Long</span> <span style="color:#ff6ac1">=</span> alchemistTimestamp<span style="color:#ff6ac1">.</span>toDouble<span style="color:#ff6ac1">.</span>toLong<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>              <span style="color:#ff6ac1">(</span><span style="color:#ff6ac1">val</span> terminateAt<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Long</span> <span style="color:#ff6ac1">=</span> <span style="color:#f3f99d">Long</span><span style="color:#ff6ac1">.</span><span style="color:#f3f99d">MaxValue</span><span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<ul>
<li>The input of the process (in this case is empty)</li>
<li>Finally, the <code>Pout[Double]</code> is the process output. <code>Pout</code> is a data structure that contains the output of the process and the status of the process (that could be <code>Output</code>, <code>Terminated</code> and <code>External</code>&mdash;more details in the paper).</li>
</ul>
</li>
<li>The key set of the process that will be spawn (<code>pids</code>)
<ul>
<li>In this case, the new <code>pids</code> associated to new processes are selected from Alchemist molecule.</li>
</ul>
   <!-- embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L11-L11 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">def</span> processesSpec<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Map</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Int</span>,<span style="color:#ff6ac1">(</span><span style="color:#9aedfe">Int</span>,<span style="color:#9aedfe">Int</span><span style="color:#ff6ac1">)]</span> <span style="color:#ff6ac1">=</span> sense<span style="color:#ff6ac1">(</span><span style="color:#f3f99d">MOLECULE_PROCS</span><span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<ul>
<li>From this information il will be created the <code>pids</code> for the processes:</li>
</ul>
  <!-- embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L18-L22 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Determine the processes to be generated (these are provided in a molecule &#34;procs&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> procs<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Set</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">ProcessSpec</span><span style="color:#ff6ac1">]</span> <span style="color:#ff6ac1">=</span> processesSpec<span style="color:#ff6ac1">.</span>map<span style="color:#ff6ac1">(</span>tp <span style="color:#ff6ac1">=&gt;</span> <span style="color:#f3f99d">ProcessSpec</span><span style="color:#ff6ac1">.</span>fromTuple<span style="color:#ff6ac1">(</span>tp<span style="color:#ff6ac1">.</span>_1<span style="color:#ff6ac1">,</span> tp<span style="color:#ff6ac1">.</span>_2<span style="color:#ff6ac1">)).</span>toSet
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> t <span style="color:#ff6ac1">=</span> alchemistTimestamp<span style="color:#ff6ac1">.</span>toDouble<span style="color:#ff6ac1">.</span>toLong
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> pids<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Set</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Pid</span><span style="color:#ff6ac1">]</span> <span style="color:#ff6ac1">=</span> procs<span style="color:#ff6ac1">.</span>filter<span style="color:#ff6ac1">(</span>tgen <span style="color:#ff6ac1">=&gt;</span> tgen<span style="color:#ff6ac1">.</span>device <span style="color:#ff6ac1">==</span> mid<span style="color:#ff6ac1">()</span> <span style="color:#ff6ac1">&amp;&amp;</span> t <span style="color:#ff6ac1">&gt;</span> tgen<span style="color:#ff6ac1">.</span>startTime <span style="color:#ff6ac1">&amp;&amp;</span> <span style="color:#ff6ac1">(</span>t <span style="color:#ff6ac1">-</span> <span style="color:#ff9f43">5</span><span style="color:#ff6ac1">)</span> <span style="color:#ff6ac1">&lt;</span> tgen<span style="color:#ff6ac1">.</span>startTime<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">.</span>map<span style="color:#ff6ac1">(</span>tgen <span style="color:#ff6ac1">=&gt;</span> <span style="color:#f3f99d">Pid</span><span style="color:#ff6ac1">(</span>time <span style="color:#ff6ac1">=</span> tgen<span style="color:#ff6ac1">.</span>startTime<span style="color:#ff6ac1">)(</span>terminateAt <span style="color:#ff6ac1">=</span> tgen<span style="color:#ff6ac1">.</span>endTime<span style="color:#ff6ac1">))</span></span></span></code></pre></div>
</li>
</ul>
<p>Particularly, in this case, the process logic is quite simple:</p>
<ul>
<li>it produces a potential field from the processes creator</li>
<li>it terminates if the <code>terminateAt</code> is reached</li>
<li>the nodes that belong to nodes are the ones that are inside the <code>bubble</code>, that is the nodes inside an area of 200 units</li>
</ul>
<!-- embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L44-L50 -->
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">def</span> process<span style="color:#ff6ac1">(</span>pid<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Pid</span><span style="color:#ff6ac1">)(</span>src<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Unit</span> <span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">())</span><span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">POut</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Double</span><span style="color:#ff6ac1">]</span> <span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">val</span> g <span style="color:#ff6ac1">=</span> classicGradient<span style="color:#ff6ac1">(</span>pid<span style="color:#ff6ac1">.</span>src<span style="color:#ff6ac1">==</span>mid<span style="color:#ff6ac1">())</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">val</span> s <span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">if</span><span style="color:#ff6ac1">(</span>pid<span style="color:#ff6ac1">.</span>src<span style="color:#ff6ac1">==</span>mid<span style="color:#ff6ac1">()</span> <span style="color:#ff6ac1">&amp;&amp;</span> pid<span style="color:#ff6ac1">.</span>terminateAt<span style="color:#ff6ac1">.</span>toDouble <span style="color:#ff6ac1">&lt;=</span> alchemistTimestamp<span style="color:#ff6ac1">.</span>toDouble<span style="color:#ff6ac1">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f3f99d">Terminated</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">}</span> <span style="color:#ff6ac1">else</span> <span style="color:#ff6ac1">if</span><span style="color:#ff6ac1">(</span>g <span style="color:#ff6ac1">&lt;</span> <span style="color:#ff9f43">200</span><span style="color:#ff6ac1">)</span> <span style="color:#f3f99d">Output</span> <span style="color:#ff6ac1">else</span> <span style="color:#f3f99d">External</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f3f99d">POut</span><span style="color:#ff6ac1">(</span>g<span style="color:#ff6ac1">,</span> s<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">}</span></span></span></code></pre></div>
<h4 id="minimal-changes-3">Minimal changes</h4>
<ul>
<li>Try to add the extension of the <code>bubble</code> as a parameter (as the start and end time)</li>
<li>Even in this case, the computation is self-healing. Therefore, try to move the process center to see how the system reacts</li>
<li>Try to add other processess (see the yaml configuration)</li>
</ul>
<h2 id="external-resources-to-improve-your-understanding">External resources to improve your understanding</h2>
<ul>
<li>The Alchemist metamodel: <a href="https://alchemistsimulator.github.io/explanation/" rel="external" target="_blank">https://alchemistsimulator.github.io/explanation/</a></li>
<li>The Alchemist Simulator reference <a href="https://alchemistsimulator.github.io/reference/yaml/" rel="external" target="_blank">https://alchemistsimulator.github.io/reference/yaml/</a></li>
<li>ScaFi documentation: <a href="https://scafi.github.io/docs/" rel="external" target="_blank">https://scafi.github.io/docs/</a></li>
<li>Main scientific papers about ScaFI (and that use ScaFi): <a href="https://scafi.github.io/papers/" rel="external" target="_blank">https://scafi.github.io/papers/</a></li>
</ul>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>Something went wrong along the line? Drop us an
<a href="https://github.com/scafi/learning-scafi-alchemist/issues/new/choose" rel="external" target="_blank">issue report</a>
and we&rsquo;ll get back to you.</p>
  </div>
</details>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="how-to-guides">How-to Guides</h1>

<h3 id="problem-oriented">Problem-oriented</h3>
<h1 id="how-to-guides">How-to Guides</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/preparation/index.html">Preparation</a><p>Preliminary operations for using Alchemist: installation, setup</p><ul>
  <li class="children-title"><a href="./howtos/preparation/jar/index.html">Alchemist stand-alone</a><p>The recommended way to run the simulator and fetch all the required modules.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/preparation/gradle/index.html">Alchemist via Gradle</a><p>The recommended way to run the simulator and fetch all the required modules.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/index.html">Simulation</a><p>Guides on how to create simulation environments, configure node behaviour, and control the simulation details</p><ul>
  <li class="children-title"><a href="./howtos/simulation/variables/index.html">Create reusable variables</a><p>Define reusable pieces of information and compute upon them, prepare for the execution of simulation batches.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/repeatability/index.html">Ensure repeatability</a><p>Control randomness, ensuring reproducibility and replicability of experiments.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/cognitive/index.html">Cognitive Agents</a><p>Agents with realistic human behavior.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/link/index.html">Create a network</a><p>Define how nodes should be connected with each other.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/layers/index.html">Create Layers</a><p>Define data layers that live in the environment</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/index.html">Create rich environments</a><p>How to create complex environments (obstacles, and so on)</p><ul>
  <li class="children-title"><a href="./howtos/simulation/environment/pathfinding/index.html">Find paths indoors</a><p>How to navigate the environment, especially indoors.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/maps/index.html">Maps and GPS traces</a><p>How to simulate using maps and GPS traces.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/indoor/index.html">Simulate indoor</a><p>How to create indoor environments based on planimetries.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/cognitive-physics/index.html">Simulate physical interactions among pedestrians</a><p>Physical interaction between nodes</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/index.html">Deploy Nodes</a><p>How to place nodes within Alchemist environments</p><ul>
  <li class="children-title"><a href="./howtos/simulation/deploy/grid/index.html">(Irregular) Grids</a><p>Deployment of nodes in (possibly irregular) grids.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/shape/index.html">Nodes inside shapes</a><p>Deployment of nodes randomly inside arbitrary shapes.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/gps/index.html">GPS Traces</a><p>Deployment of nodes on map-based environments using GPS data.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/graph/index.html">Graphs</a><p>Deployment of nodes into arbitrary graphs.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/export/index.html">Export data</a><p>Select which data the simulator should output, in which format, and where.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/graphql/index.html">Monitor and Control Simulations through GraphQL</a><p>Monitor and Control a Simulation through a set of GraphQL APIs.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/monitors/index.html">Monitoring Simulations through Custom Output Monitors</a><p>Create custom monitors to track simulation progression and interact with standard hooks.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/program/index.html">Program Nodes</a><p>How to define the behavior of nodes</p><ul>
  <li class="children-title"><a href="./howtos/simulation/program/move-on-maps/index.html">Move nodes on maps</a><p>How to move node around in geospatial environments.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/program/content/index.html">Node contents</a><p>Definition of the initial content of nodes.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/smartcam/index.html">Smart cameras and drones</a><p>Simulate robots with a field of view.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/execution/index.html">Execution</a><p>Execution of multiple simulations, locally or in a distributed environment</p><ul>
  <li class="children-title"><a href="./howtos/execution/swing-effects/index.html">Customize the Swing GUI</a><p>Customize the look of your simulation.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/termination/index.html">Define the termination criteria</a><p>Decide when the simulator should stop and consider the simulation concluded.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/multivesta/index.html">MultiVeStA</a><p>How to integrate MultiVesta in Alchemist</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/batch/index.html">Parameter Sweeping with simulation batches</a><p>Execute multiple instances of a simulation with different parameters</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/engine/index.html">Simulation Engine Configuration</a><p>Available simulation engine configurations.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/workarounds/index.html">Workarounds</a><p>Pre-concocted solutions to well-known issues</p><ul>
  <li class="children-title"><a href="./howtos/workarounds/swing-glitch/index.html">Graphical Glitches in Swing</a><p>Known issues with Swing and OpenGL acceleration, especially with legacy AMD/ATi drivers.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/workarounds/max-map-count/index.html">Memory leaks under Linux</a><p>Known issue of some Java Virtual Machine implementations when requested to use more than 64GB of RAM</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/extensions/index.html">Experiment-specific extensions</a><p>One-time changes or additions to the simulator behavior</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/index.html">Development</a><p>How to contribute to the project, hence achieving eternal glory</p><ul>
  <li class="children-title"><a href="./howtos/development/contributions/index.html">Developer&#39;s guide</a><p>How to contribute</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/graphql/index.html">Enrich the GraphQL API</a><p>How to create a new Query, Subscription, or Mutation using the GraphQL API</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/ide-import/index.html">Import Alchemist in an IDE</a><p>The recommended way to get and import the Alchemist project in an IDE</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/building/index.html">Build and run the QA</a><p>How to locally build and test the simulator</p><ul></ul></li></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of How-to Guides</h1>
<article class="default">
  <header class="headline">
  </header>

<h1 id="preparation">Preparation</h1>

<h3 id="set-up-the-simulation-environment">Set up the simulation environment</h3>
<h1 id="preparation">Preparation</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/preparation/jar/index.html">Alchemist stand-alone</a><p>The recommended way to run the simulator and fetch all the required modules.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/preparation/gradle/index.html">Alchemist via Gradle</a><p>The recommended way to run the simulator and fetch all the required modules.</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Preparation</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/example/index.html">Example</a></li>
    <li><a class="term-link" href="./tags/fatjar/index.html">Fatjar</a></li>
    <li><a class="term-link" href="./tags/gradle/index.html">Gradle</a></li>
    <li><a class="term-link" href="./tags/jar/index.html">Jar</a></li>
    <li><a class="term-link" href="./tags/launch/index.html">Launch</a></li>
    <li><a class="term-link" href="./tags/run/index.html">Run</a></li>
    <li><a class="term-link" href="./tags/shadowjar/index.html">Shadowjar</a></li>
  </ul>
</div>
  </header>

<h1 id="alchemist-stand-alone">Alchemist stand-alone</h1>

<p>Although we recommend to <a href="./howtos/preparation/gradle/index.html">run the simulator via Gradle</a>,
Alchemist can be executed through the redistributable jar file.</p>
<p>Such jar file can be downloaded from the <a href="https://github.com/AlchemistSimulator/Alchemist/releases" rel="external" target="_blank">releases section on github</a>.</p>
<p>Obtain <a href="https://github.com/AlchemistSimulator/Alchemist/releases/latest/" rel="external" target="_blank">the runnable jar of alchemist-full from GitHub</a>,
the open a terminal and move to the folder where the jar is located, then issue:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -jar alchemist-full-VERSION-all.jar --help</span></span></code></pre></div>
<p>Remember to substitute <code>VERSION</code> with the Alchemist version you actually have downloaded.
You can still use alchemist in a modularized form using jars.
In this case, use <code>alchemist-VERSION-all.jar</code> and all the jars corresponding to the modules you need.
Pass them to the <code>java</code> command as classpath, e.g.:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -cp alchemist-VERSION-all.jar:alchemist-incarnation-protelis-VERSION-all.jar:alchemist-swingui-VERSION-all.jar it.unibo.alchemist.Alchemist --help</span></span></code></pre></div>
<p>Under Windows, the separator is <code>;</code> in place of <code>:</code></p>
<p>This command will print information on the available <a href="./reference/cli/index.html">command line options</a>.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/example/index.html">Example</a></li>
    <li><a class="term-link" href="./tags/gradle/index.html">Gradle</a></li>
    <li><a class="term-link" href="./tags/launch/index.html">Launch</a></li>
    <li><a class="term-link" href="./tags/run/index.html">Run</a></li>
  </ul>
</div>
  </header>

<h1 id="alchemist-via-gradle">Alchemist via Gradle</h1>

<p>We recommend to start by generating a new GitHub repository through the
<a href="https://github.com/AlchemistSimulator/alchemist-primer" rel="external" target="_blank">Alchemist Primer template repository</a>.</p>
<p>We report here the README.md file contents as reference</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Alchemist Primer README file
  </summary>
  <div class="box-content">
<h1 id="alchemist-primer">Alchemist Primer</h1>
<p>This is a template project to spawn projects using the <a href="https://github.com/AlchemistSimulator/Alchemist" rel="external" target="_blank">Alchemist Simulator</a>.
It provides a pre-configured gradle build.</p>
<p>This project is a quick start for the <a href="https://github.com/AlchemistSimulator/Alchemist" rel="external" target="_blank">Alchemist</a> simulator, it shows how to use the simulator via <a href="https://gradle.org" rel="external" target="_blank">Gradle</a> to run a simple simulation. More information can be found on <a href="https://alchemistsimulator.github.io" rel="external" target="_blank">the official Alchemist website</a>.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>A <a href="https://docs.gradle.org/current/userguide/compatibility.html" rel="external" target="_blank">Gradle-compatible Java version</a>.</p>
<h2 id="how-to-launch">How to launch</h2>
<p>To run the example you can rely on the pre-configured <a href="https://gradle.org" rel="external" target="_blank">Gradle</a> build script.
It will automatically download all the required libraries, set up the environment, and execute the simulator via command line for you.
As first step, use <code>git</code> to locally clone this repository.</p>
<p>Simulations can be included in the <code>src/main/yaml</code> folder,
and executed via the <code>runAll</code> Gradle task.</p>
<p>For each YAML file in <code>src/main/yaml</code> a task <code>runFileName</code> will be created.</p>
<p>In order to launch, open a terminal and move to the project root folder, then on UNIX:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runAll</span></span></code></pre></div>
<p>On Windows:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>gradlew.bat runAll</code></pre></div>
<p>Press &lt;kb&gt;P&lt;/kb&gt; to start the simulation.
For further information about the gui, see the <a href="https://alchemistsimulator.github.io/" rel="external" target="_blank">Alchemist documentation</a>.</p>
<p>Note that the first launch will take some time, since Gradle will download all the required files.
They will get cached in the user's home folder (as per Gradle normal behavior).</p>
<h2 id="the-build-script">The build script</h2>
<p>Let's explain how things work by looking at the <code>build.gradle.kts</code> script and the <code>gradle/libs.versions.toml</code> file.
The latter is a <a href="https://docs.gradle.org/current/userguide/platforms.html#sub:conventional-dependencies-toml" rel="external" target="_blank">Gradle dependency catalog file</a>
including the specification of the required libraries,
including their name, their version, and how they get bundled;
while the former is the actual script that launches the simulator.</p>
<p>The build script imports the bundled alchemist dependencies as:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>dependencies {
</span></span><span style="display:flex;"><span>    implementation(libs.bundles.alchemist)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>You will either need to import the full version of alchemist (but it's not recommended, as it pulls in a lot of dependencies you probably don't want),
or manually declare which modules you want to include into your Alchemist simulations.</p>
<p>At the very least, you want to pull in an incarnation.
This can be done directly in the build file, or (recommended way) through the TOML catalog.</p>
<p>For instance,
let's say that you want to pull in the module for simulating on real-world maps,
and that you also need a library named <code>bar</code> at version <code>1.2.3</code>, from group <code>io.github.foo</code>, available on <a href="https://search.maven.org/" rel="external" target="_blank">Maven Central</a>.
You could import both of them by changing the catalog as follows:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[versions]
</span></span><span style="display:flex;"><span>alchemist = <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;&amp;lt;the version of alchemist is here&amp;gt;&amp;#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[libraries]
</span></span><span style="display:flex;"><span>alchemist = { module = <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;it.unibo.alchemist:alchemist&amp;#34;, version.ref = &amp;#34;alchemist&amp;#34; }</span>
</span></span><span style="display:flex;"><span>alchemist-incarnation-protelis = { module = <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;it.unibo.alchemist:alchemist-incarnation-protelis&amp;#34;, version.ref = &amp;#34;alchemist&amp;#34; }</span>
</span></span><span style="display:flex;"><span>alchemist-swingui = { module = <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;it.unibo.alchemist:alchemist-swingui&amp;#34;, version.ref = &amp;#34;alchemist&amp;#34; }</span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># The following two lines are additions, the first defines the maps module of alchemist...</span>
</span></span><span style="display:flex;"><span>alchemist-maps = { module = <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;it.unibo.alchemist:alchemist-maps&amp;#34;, version.ref = &amp;#34;alchemist&amp;#34; }</span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># ...the second the custom library with a more compact syntax as there is no need to reuse the version defined above.</span>
</span></span><span style="display:flex;"><span>foobar = <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;io.github.foo:bar:1.2.3&amp;#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[bundles]
</span></span><span style="display:flex;"><span>alchemist = [
</span></span><span style="display:flex;"><span>    <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;alchemist&amp;#34;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;alchemist-incarnation-protelis&amp;#34;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;alchemist-swingui&amp;#34;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#78787e"># Adding the newly defined libraries to the alchemist bundle makes them available automatically</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;alchemist-maps&amp;#34;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff5c57">&amp;</span><span style="color:#78787e">#34;foobar&amp;#34;</span>
</span></span><span style="display:flex;"><span>]</span></span></code></pre></div>
<p>The build script defines some tasks meant to run Alchemist from the command line through Gradle with ease.
There will be one task for each simulation file in <code>src/main/yaml</code>, dynamically detected and prepared by Gradle.
You can see a summary of the tasks for running Alchemist by issuing
<code>./gradlew tasks --all</code>
(or <code>gradlew.bat tasks --all</code> under Windows)
and looking for the <code>Run Alchemist</code> task group.</p>
<p>Internally, the task relies on the Alchemist command-line interface.
Alchemist simulations are <a href="https://yaml.org/spec/" rel="external" target="_blank">YAML</a> files,
more information about them can be found <a href="https://alchemistsimulator.github.io/" rel="external" target="_blank">here</a>.</p>
  </div>
</details>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>Although Alchemist requires Java 11 or above to run,
Gradle users can rely on <a href="https://docs.gradle.org/current/userguide/compatibility.html" rel="external" target="_blank">any Gradle-compatible Java version</a>
and leverage the Gradle toolchains to obtain an Alchemist-compatible Java Virtual Machine.</p>
  </div>
</details>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="simulation">Simulation</h1>

<h3 id="prepare-the-simulated-environment">Prepare the simulated environment</h3>
<h1 id="simulation">Simulation</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/simulation/variables/index.html">Create reusable variables</a><p>Define reusable pieces of information and compute upon them, prepare for the execution of simulation batches.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/repeatability/index.html">Ensure repeatability</a><p>Control randomness, ensuring reproducibility and replicability of experiments.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/cognitive/index.html">Cognitive Agents</a><p>Agents with realistic human behavior.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/link/index.html">Create a network</a><p>Define how nodes should be connected with each other.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/layers/index.html">Create Layers</a><p>Define data layers that live in the environment</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/index.html">Create rich environments</a><p>How to create complex environments (obstacles, and so on)</p><ul>
  <li class="children-title"><a href="./howtos/simulation/environment/pathfinding/index.html">Find paths indoors</a><p>How to navigate the environment, especially indoors.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/maps/index.html">Maps and GPS traces</a><p>How to simulate using maps and GPS traces.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/indoor/index.html">Simulate indoor</a><p>How to create indoor environments based on planimetries.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/cognitive-physics/index.html">Simulate physical interactions among pedestrians</a><p>Physical interaction between nodes</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/index.html">Deploy Nodes</a><p>How to place nodes within Alchemist environments</p><ul>
  <li class="children-title"><a href="./howtos/simulation/deploy/grid/index.html">(Irregular) Grids</a><p>Deployment of nodes in (possibly irregular) grids.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/shape/index.html">Nodes inside shapes</a><p>Deployment of nodes randomly inside arbitrary shapes.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/gps/index.html">GPS Traces</a><p>Deployment of nodes on map-based environments using GPS data.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/graph/index.html">Graphs</a><p>Deployment of nodes into arbitrary graphs.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/export/index.html">Export data</a><p>Select which data the simulator should output, in which format, and where.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/graphql/index.html">Monitor and Control Simulations through GraphQL</a><p>Monitor and Control a Simulation through a set of GraphQL APIs.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/monitors/index.html">Monitoring Simulations through Custom Output Monitors</a><p>Create custom monitors to track simulation progression and interact with standard hooks.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/program/index.html">Program Nodes</a><p>How to define the behavior of nodes</p><ul>
  <li class="children-title"><a href="./howtos/simulation/program/move-on-maps/index.html">Move nodes on maps</a><p>How to move node around in geospatial environments.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/program/content/index.html">Node contents</a><p>Definition of the initial content of nodes.</p><ul></ul></li></ul></li>
  <li class="children-title"><a href="./howtos/simulation/smartcam/index.html">Smart cameras and drones</a><p>Simulate robots with a field of view.</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Simulation</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/dry/index.html">Dry</a></li>
    <li><a class="term-link" href="./tags/groovy/index.html">Groovy</a></li>
    <li><a class="term-link" href="./tags/jsr223/index.html">Jsr223</a></li>
    <li><a class="term-link" href="./tags/kotlin/index.html">Kotlin</a></li>
    <li><a class="term-link" href="./tags/language/index.html">Language</a></li>
    <li><a class="term-link" href="./tags/metric/index.html">Metric</a></li>
    <li><a class="term-link" href="./tags/scala/index.html">Scala</a></li>
    <li><a class="term-link" href="./tags/variable/index.html">Variable</a></li>
  </ul>
</div>
  </header>

<h1 id="create-reusable-variables">Create reusable variables</h1>

<h2 id="declaring-variables">Declaring variables</h2>
<p>The <a href="./reference/yaml/index.html#variables"><code>variables</code></a> section lists variable simulation values.
A variable defines some kind of value that can be referenced in the simulation file.</p>
<p>There are two kinds of variables: free and dependent variables.
Free variables are meant to provide support for running batches of simulations with varying parameters;
dependent variables are either single valued or can be computed from the values of other variables
(free or dependent), and they are designed to simplify the simulation code.</p>
<h2 id="free-variables">Free variables</h2>
<p>Free variables define a set of values and a default.
Their main scope is enabling Alchemist to run a set of simulations with different parameters (values of variables)
without the need to duplicate the simulation code.
When used in this mode (called &ldquo;batch mode&rdquo;),
Alchemist by default produces the cartesian product of all the variables values&rsquo; selected for the batch,
and runs a simulation for each combination.
If the simulation is not executed as batch, then the default value is used.</p>
<h3 id="linear-variables">Linear variables</h3>
<p>A variable generating values in a range, starting from a minimum value, and increasing by some step.
Represented by <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-linear-variable/"><code>LinearVariable</code></a>.</p>
<h4 id="examples">Examples</h4>
<p>
<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">myvar</span>: <span style="color:#78787e">&amp;myvar</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: LinearVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">0.2</span>]
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">rate</span>: <span style="color:#78787e">&amp;rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">9</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">size</span>: <span style="color:#78787e">&amp;size</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: LinearVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">mSize</span>: <span style="color:#78787e">&amp;mSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: -size
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceStart</span>: <span style="color:#78787e">&amp;sourceStart</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: mSize / 10
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceSize</span>: <span style="color:#78787e">&amp;sourceSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: size / 5
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;grad</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#78787e">*rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{token, N, L} --&gt; {token, N, L} *{token, N+#D, L add [#NODE;]}&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, N, L}{token, def: N2&gt;=N, L2} --&gt; {token, N, L}</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*size,</span> <span style="color:#78787e">*size,</span> <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceSize,</span> <span style="color:#78787e">*sourceSize]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: token, 0, []
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*grad</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span> <span style="color:#78787e"># Must be a valid Groovy snippet</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin <span style="color:#78787e"># Pick whatever JSR223 language you like and add it to the classpath</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: | <span style="color:#78787e"># The following is pure Kotlin code. Other variables can be referenced!</span>
</span></span><span style="display:flex;"><span>      import java.io.File
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImage()</span>: String? = walkTopDown().find { image_name in it.name }?.absolutePath
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImageRecursively(): String = findImage() ?</span>: File(this, &#34;..&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>      File(&#34;.&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">timeout</span>: <span style="color:#ff9f43">5000</span>
</span></span><span style="display:flex;"><span>  <span style="color:#78787e"># Linear free variable</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> } <span style="color:#78787e"># 100 samples</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed } <span style="color:#78787e"># Variable-dependent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable <span style="color:#78787e"># A variable scanning a space with geometric segmentation</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>] <span style="color:#78787e"># default 300, minimum 50, maximum 100, 9 samples</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CSVExporter
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;snippet-variables-export&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
</span></span><span style="display:flex;"><span>      - time
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ] <span style="color:#78787e"># From Apache&#39;s UnivariateStatistic</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite <span style="color:#78787e"># discards NaN and Infinity</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> <span style="color:#78787e"># You can give the anchor any name, assigning the name of the variable is convenient, though</span>
</span></span><span style="display:flex;"><span>    {<span style="color:#ff6ac1">min: 0, max: 1, step: 1, default</span>: <span style="color:#ff9f43">0</span>} <span style="color:#78787e"># This variable ranges in [0, 9], steps of 1, defaulting to 0</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">10</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_program-pools</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">compute-gradient</span>: <span style="color:#78787e">&amp;gradient</span>
</span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">time-distribution: 1, program</span>: <span style="color:#5af78e">&#34;advanced:converge&#34;</span> }
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">move</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: { <span style="color:#ff6ac1">type: ExponentialTime, parameters</span>: [<span style="color:#ff9f43">1</span>] }
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>: { <span style="color:#ff6ac1">type: MoveToTarget, parameters</span>: [destination, 1] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>: { <span style="color:#ff6ac1">type: Circle, parameters: [50, 0, 0, 5], programs</span>: [<span style="color:#78787e">*gradient,</span> <span style="color:#78787e">*move]</span> }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>: { <span style="color:#ff6ac1">type: AfterTime, parameters</span>: [<span style="color:#ff9f43">20</span>] }
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">testVar</span>: <span style="color:#78787e">&amp;testVar</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">2</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#78787e">*testVar</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_molecules</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">testref</span>: <span style="color:#78787e">&amp;testRef</span> test
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.5</span>]
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_pool</span>: <span style="color:#78787e">&amp;program</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#78787e">*testVar</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: test
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff6ac1">null</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">conditions</span>: []
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: BrownianMove
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Trigger
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">conditions</span>: []
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: BrownianMove
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_contents</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">source</span>: <span style="color:#78787e">&amp;content</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.2</span>, -<span style="color:#ff9f43">0.2</span>, <span style="color:#ff9f43">2.4</span>, <span style="color:#ff9f43">2.4</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: source
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">true</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">test</span>: <span style="color:#78787e">&amp;test</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*testRef</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*testVar</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">2.8</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*content</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*program</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: StepCount
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">2000</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">time</span>: <span style="color:#78787e">&amp;time</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Flag
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff6ac1">false</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">small</span>: <span style="color:#78787e">&amp;small</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Flag
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff6ac1">false</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">n</span>: <span style="color:#78787e">&amp;n</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">100</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">range</span>: <span style="color:#78787e">&amp;range</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">30</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">width</span>: <span style="color:#78787e">&amp;w</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">200</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">height</span>: <span style="color:#78787e">&amp;h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">20</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">freq</span>: <span style="color:#78787e">&amp;freq</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sp</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">bp</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">retain</span>: <span style="color:#78787e">&amp;retain</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">1</span> / minfreq
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">fc</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;time ? (small ? sp : bp) : 0&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">minfreq</span>: <span style="color:#78787e">&amp;minfreq</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;freq * (1 - fc)&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">maxfreq</span>: <span style="color:#78787e">&amp;maxfreq</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;freq * (1 + fc)&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">speed</span>: <span style="color:#78787e">&amp;speed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;if (time as Boolean) 0 else 1&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">199</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#78787e">*seed</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#78787e">*seed</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*range]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_pools</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;program</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: RandomDiracComb
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*minfreq,</span> <span style="color:#78787e">*maxfreq]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff6ac1">type</span>: RunProtelisProgram
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;1&#34;</span>, <span style="color:#78787e">*retain]</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff6ac1">null</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;program2</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: tomacs
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff6ac1">null</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff6ac1">type</span>: MoveToTarget
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [target, *speed]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*n,</span> <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#78787e">*w,</span> <span style="color:#78787e">*h]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: time
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*time</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: speed
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*speed</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: small
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*small</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*program</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*move</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">category</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">subcategory</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">anothercategory</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">three</span>: <span style="color:#78787e">&amp;three</span>
</span></span><span style="display:flex;"><span>              <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">3</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">_formula</span>: <span style="color:#78787e">&amp;formula</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: JSR223Variable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [groovy, *three]
</span></span><span style="display:flex;"><span>  <span style="color:#78787e">*three:</span> <span style="color:#78787e">&amp;max</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*formula</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">min</span>: <span style="color:#78787e">&amp;min</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: three * 0
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">myvar</span>: <span style="color:#78787e">&amp;myvar</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: LinearVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#78787e">*min,</span> <span style="color:#78787e">*max,</span> <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">mydepvar</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">10</span> / myvar
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">rate</span>: <span style="color:#78787e">&amp;rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">9</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">size</span>: <span style="color:#78787e">&amp;size</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">mSize</span>: <span style="color:#78787e">&amp;mSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: -size
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceStart</span>: <span style="color:#78787e">&amp;sourceStart</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: mSize / 10
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceSize</span>: <span style="color:#78787e">&amp;sourceSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: size / 5
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;grad</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#78787e">*rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{token, N, L} --&gt; {token, N, L} *{token, N+#D, L add [#NODE;]}&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, N, L}{token, def: N2&gt;=N, L2} --&gt; {token, N, L}</span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># Age information</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, def: N&gt;0, L} --&gt; {token, N + 1, L}</span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># Cleanup old information</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, def: N&gt;30, L} --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_move</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">0.5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: BrownianMove
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*size,</span> <span style="color:#78787e">*size,</span> <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceSize,</span> <span style="color:#78787e">*sourceSize]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token, 0, []
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*grad</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*move</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.4</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">9</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">speed</span>: <span style="color:#78787e">&amp;speed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: ArbitraryVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>, [<span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">1</span>]]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">latencies</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;[0.001, 0.01, 0.1, 1]&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">tolerances</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;[0, 0.01, 0.03, 0.1, 0.3, 1, 3]&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">controlParameters</span>: <span style="color:#78787e">&amp;control</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: GroovyCollections.combinations(latencies, tolerances) + [[Double.NaN, Double.NaN]]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">algorithm</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: ArbitraryVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [[<span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.01</span>], <span style="color:#78787e">*control]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">network_mean_latency</span>: <span style="color:#78787e">&amp;network_mean_latency</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: algorithm[0]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">tolerance</span>: <span style="color:#78787e">&amp;tolerance</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: algorithm[1]
</span></span></code></pre></div></div>
</div></p>
<h3 id="geometric-variables">Geometric variables</h3>
<p>A variable generating geometrically-distributed samples across a range.
Ideal for exploring non-linear phenomena, or for exploring very large ranges of values whose effect is unknown.
Implemented as <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-geometric-variable/"><code>GeometricVariable</code></a>.</p>
<h4 id="examples-1">Examples</h4>
<p>
<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">var0</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span> <span style="color:#78787e"># Must be a valid Groovy snippet</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin <span style="color:#78787e"># Pick whatever JSR223 language you like and add it to the classpath</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: | <span style="color:#78787e"># The following is pure Kotlin code. Other variables can be referenced!</span>
</span></span><span style="display:flex;"><span>      import java.io.File
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImage()</span>: String? = walkTopDown().find { image_name in it.name }?.absolutePath
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImageRecursively(): String = findImage() ?</span>: File(this, &#34;..&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>      File(&#34;.&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">timeout</span>: <span style="color:#ff9f43">5000</span>
</span></span><span style="display:flex;"><span>  <span style="color:#78787e"># Linear free variable</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> } <span style="color:#78787e"># 100 samples</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed } <span style="color:#78787e"># Variable-dependent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable <span style="color:#78787e"># A variable scanning a space with geometric segmentation</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>] <span style="color:#78787e"># default 300, minimum 50, maximum 100, 9 samples</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CSVExporter
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;snippet-variables-export&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
</span></span><span style="display:flex;"><span>      - time
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ] <span style="color:#78787e"># From Apache&#39;s UnivariateStatistic</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite <span style="color:#78787e"># discards NaN and Infinity</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">rate</span>: <span style="color:#78787e">&amp;rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">9</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">size</span>: <span style="color:#78787e">&amp;size</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: LinearVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">mSize</span>: <span style="color:#78787e">&amp;mSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: -size
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceStart</span>: <span style="color:#78787e">&amp;sourceStart</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: mSize / 10
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceSize</span>: <span style="color:#78787e">&amp;sourceSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: size / 5
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;grad</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#78787e">*rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{token, N, L} --&gt; {token, N, L} *{token, N+#D, L add [#NODE;]}&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, N, L}{token, def: N2&gt;=N, L2} --&gt; {token, N, L}</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*size,</span> <span style="color:#78787e">*size,</span> <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceSize,</span> <span style="color:#78787e">*sourceSize]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: token, 0, []
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*grad</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">rate</span>: <span style="color:#78787e">&amp;rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">9</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">size</span>: <span style="color:#78787e">&amp;size</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">mSize</span>: <span style="color:#78787e">&amp;mSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: -size
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceStart</span>: <span style="color:#78787e">&amp;sourceStart</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: mSize / 10
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceSize</span>: <span style="color:#78787e">&amp;sourceSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: size / 5
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;grad</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#78787e">*rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{token, N, L} --&gt; {token, N, L} *{token, N+#D, L add [#NODE;]}&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, N, L}{token, def: N2&gt;=N, L2} --&gt; {token, N, L}</span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># Age information</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, def: N&gt;0, L} --&gt; {token, N + 1, L}</span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># Cleanup old information</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, def: N&gt;30, L} --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_move</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">0.5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: BrownianMove
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*size,</span> <span style="color:#78787e">*size,</span> <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceSize,</span> <span style="color:#78787e">*sourceSize]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token, 0, []
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*grad</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*move</span>
</span></span></code></pre></div></div>
</div></p>
<h3 id="arbitrary-valued-variables">Arbitrary-valued variables</h3>
<p>Generates an <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-arbitrary-variable/"><code>ArbitraryVariable</code></a> spanning on an arbitrary set of values.</p>
<h4 id="examples-2">Examples</h4>
<p>
<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">foo</span>: <span style="color:#78787e">&amp;foo</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">bar</span>: <span style="color:#78787e">&amp;bar</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">5</span> * foo
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">baz</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: ArbitraryVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, [<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">3</span>, <span style="color:#ff9f43">4</span>, <span style="color:#ff9f43">5</span>]]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">fiz</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: ArbitraryVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, [<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">3</span>, <span style="color:#ff9f43">4</span>, <span style="color:#ff9f43">5</span>]]
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.4</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">9</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">speed</span>: <span style="color:#78787e">&amp;speed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: ArbitraryVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>, [<span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">1</span>]]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">latencies</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;[0.001, 0.01, 0.1, 1]&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">tolerances</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;[0, 0.01, 0.03, 0.1, 0.3, 1, 3]&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">controlParameters</span>: <span style="color:#78787e">&amp;control</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: GroovyCollections.combinations(latencies, tolerances) + [[Double.NaN, Double.NaN]]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">algorithm</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: ArbitraryVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [[<span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.01</span>], <span style="color:#78787e">*control]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">network_mean_latency</span>: <span style="color:#78787e">&amp;network_mean_latency</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: algorithm[0]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">tolerance</span>: <span style="color:#78787e">&amp;tolerance</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: algorithm[1]
</span></span></code></pre></div></div>
</div></p>
<h2 id="dependent-variables">Dependent variables</h2>
<p>Some variables are combination of other variables.
Let&rsquo;s suppose that we want to deploy on a circle,
but for some reason
(e.g. because it is required by the constructor of some <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-action/"><code>Action</code></a>)
we need to compute and have available radius and perimeter.
We don&rsquo;t need to control both of them: the perimeter can be computed from the radius
(or vice versa).</p>
<p>To favor reusability and
apply the DRY principle, the simulator allows defining variables whose values
possibly depend on values of other variables through <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-j-s-r223-variable/"><code>JSR223Variable</code></a>.
Their values can be expressed, by default, in Groovy, but any JSR-223-compatible language can be used, in principle.
If a compatible JSR-223 implementation of the language is available in the classpath,
Alchemist will load and use it transparently.
By default, <code>groovy</code>, <code>kotlin</code> (or <code>kts</code>), and <code>scala</code> are available as scripting languages for dependent variables.</p>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>The <a href="https://jcp.org/en/jsr/detail?id=223" rel="external" target="_blank">JSR-223 specification</a> defines mechanisms
allowing scripting language programs to access information developed in the Java Platform.</p>
<p>Many languages (including <a href="https://groovy-lang.org/integrating.html#jsr223" rel="external" target="_blank">Groovy</a>,
<a href="https://wiki.python.org/jython/UserGuide#using-jsr-223" rel="external" target="_blank">Python (Jython)</a>,
<a href="https://github.com/Kotlin/kotlin-script-examples/blob/master/jvm/jsr223/jsr223.md" rel="external" target="_blank">Kotlin</a>,
and Scala provide bindings for JSR-223).</p>
  </div>
</details>
<p>Variables can be defined in any order.
Alchemist figures out the dependencies automatically, as far as there are no cyclic dependencies (e.g. variable <code>a</code> requires <code>b</code>, and <code>b</code> requires <code>a</code>).
Please note that the simulator variable dependency resolution system is not designed to solve mathematical systems,
so even though the problem has a well-formed mathematical solution, the actual variable resolution may fail;
e.g. if <code>a</code> is defined as <code>2 * b + 1</code>, and <code>b</code> is defined as <code>4 - a</code>, the system <strong>won&rsquo;t</strong> bind <code>a</code> to <code>3</code> and <code>b</code> to <code>1</code>,
but will simply fail complaining about circular dependencies.</p>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Multiline programs
  </summary>
  <div class="box-content">
<p>Sometimes data manipulation can get tricky and trivial scripting may no longer be enough.
In such cases, and especially with modern languages that allow for a reduced usage of cerimonial semicolons
(such as Kotlin and Scala), it can be useful to write multiline programs.
This can be achieved in YAML by using the pipe <code>|</code> operator, as exemplified in the following snippet:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">multiline-string</span>: |<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">  note that the string
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">  needs to be indented.
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">  Newlines will be preserved!</span></span></span></code></pre></div>
  </div>
</details>
<h4 id="examples-3">Examples</h4>
<p>
<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.4</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">9</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">speed</span>: <span style="color:#78787e">&amp;speed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: ArbitraryVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>, [<span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">1</span>]]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">latencies</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;[0.001, 0.01, 0.1, 1]&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">tolerances</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;[0, 0.01, 0.03, 0.1, 0.3, 1, 3]&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">controlParameters</span>: <span style="color:#78787e">&amp;control</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: GroovyCollections.combinations(latencies, tolerances) + [[Double.NaN, Double.NaN]]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">algorithm</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: ArbitraryVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [[<span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.01</span>], <span style="color:#78787e">*control]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">network_mean_latency</span>: <span style="color:#78787e">&amp;network_mean_latency</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: algorithm[0]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">tolerance</span>: <span style="color:#78787e">&amp;tolerance</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: algorithm[1]
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">var0</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">var1</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_program</span>: <span style="color:#78787e">&amp;program</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{A, 1}--&gt;{A, 1}&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">10</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: path
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">true</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: interestThr
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff9f43">0.2</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: veryInterestThr
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff9f43">0.5</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: estimationK
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff9f43">0.5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#78787e">*program</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">var</span>: <span style="color:#78787e">&amp;var</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: scala
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: List(5, 3, 4).min
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">var2</span>: <span style="color:#78787e">&amp;var2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: scala
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: List(10, 3, 4).max
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*var,</span> <span style="color:#78787e">*var2]</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">a</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">22</span> + 1
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kts
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">test</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: |<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      import it.unibo.alchemist.boundary.Loader
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      import kotlin.collections.listOf
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      val b = 5.5
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      listOf(bindings[&#34;a&#34;], b)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">test2</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: |<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      val b = 5.5
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      listOf(&#34;a&#34;, b)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">test3</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: test + test2
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">myvar</span>: <span style="color:#78787e">&amp;myvar</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">myvar2</span>: <span style="color:#78787e">&amp;myvar2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: myvar * 100
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: it.unibo.alchemist.test.util.DummyRule
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [[<span style="color:#78787e">*myvar,</span> <span style="color:#78787e">*myvar2],</span> [<span style="color:#78787e">*myvar,</span> <span style="color:#78787e">*myvar2]]</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">var0</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">var1</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">2</span></span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span> <span style="color:#78787e"># Must be a valid Groovy snippet</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin <span style="color:#78787e"># Pick whatever JSR223 language you like and add it to the classpath</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: | <span style="color:#78787e"># The following is pure Kotlin code. Other variables can be referenced!</span>
</span></span><span style="display:flex;"><span>      import java.io.File
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImage()</span>: String? = walkTopDown().find { image_name in it.name }?.absolutePath
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImageRecursively(): String = findImage() ?</span>: File(this, &#34;..&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>      File(&#34;.&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">timeout</span>: <span style="color:#ff9f43">5000</span>
</span></span><span style="display:flex;"><span>  <span style="color:#78787e"># Linear free variable</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> } <span style="color:#78787e"># 100 samples</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed } <span style="color:#78787e"># Variable-dependent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable <span style="color:#78787e"># A variable scanning a space with geometric segmentation</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>] <span style="color:#78787e"># default 300, minimum 50, maximum 100, 9 samples</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CSVExporter
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;snippet-variables-export&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
</span></span><span style="display:flex;"><span>      - time
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ] <span style="color:#78787e"># From Apache&#39;s UnivariateStatistic</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite <span style="color:#78787e"># discards NaN and Infinity</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">group1</span>: <span style="color:#78787e">&amp;group1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: it.unibo.alchemist.model.cognitive.groups.GroupFactory.friends()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">group2</span>: <span style="color:#78787e">&amp;group2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: it.unibo.alchemist.model.cognitive.groups.GroupFactory.friends()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*group1]</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*group2]</span></span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">danger</span>: <span style="color:#78787e">&amp;danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;\&#34;danger\&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.0</span>, <span style="color:#ff9f43">0.0</span>, <span style="color:#ff9f43">20.0</span>, <span style="color:#ff9f43">15.0</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentAvoidLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*danger]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">50</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;female&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Cognitive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">initial_latitude</span>: <span style="color:#78787e">&amp;initial_latitude</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">12.613</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">initial_longitude</span>: <span style="color:#78787e">&amp;initial_longitude</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">43.715</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">final_latitude</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">12.663</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">final_longitude</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">43.738</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">latitude_space</span>: <span style="color:#78787e">&amp;latitude_space</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: final_latitude - initial_latitude
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">longitude_space</span>: <span style="color:#78787e">&amp;longitude_space</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: final_longitude - initial_longitude
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: OSMEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    - maps/urbino.pbf
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">true</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectIfInLineOfSigthOnMap
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">43.719368</span>, <span style="color:#ff9f43">12.623865</span>]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">43.718901</span>, <span style="color:#ff9f43">12.623047</span>]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff9f43">100</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*initial_longitude</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*initial_latitude</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*longitude_space</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*latitude_space</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">6</span>, -<span style="color:#ff9f43">6</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">molecule</span>: source
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">true</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">category</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">subcategory</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">anothercategory</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">three</span>: <span style="color:#78787e">&amp;three</span>
</span></span><span style="display:flex;"><span>              <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">3</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">_formula</span>: <span style="color:#78787e">&amp;formula</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: JSR223Variable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [groovy, *three]
</span></span><span style="display:flex;"><span>  <span style="color:#78787e">*three:</span> <span style="color:#78787e">&amp;max</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*formula</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">min</span>: <span style="color:#78787e">&amp;min</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: three * 0
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">myvar</span>: <span style="color:#78787e">&amp;myvar</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: LinearVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#78787e">*min,</span> <span style="color:#78787e">*max,</span> <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">mydepvar</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">10</span> / myvar
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">rate</span>: <span style="color:#78787e">&amp;rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">9</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">size</span>: <span style="color:#78787e">&amp;size</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: LinearVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">mSize</span>: <span style="color:#78787e">&amp;mSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: -size
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceStart</span>: <span style="color:#78787e">&amp;sourceStart</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: mSize / 10
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceSize</span>: <span style="color:#78787e">&amp;sourceSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: size / 5
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;grad</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#78787e">*rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{token, N, L} --&gt; {token, N, L} *{token, N+#D, L add [#NODE;]}&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, N, L}{token, def: N2&gt;=N, L2} --&gt; {token, N, L}</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*size,</span> <span style="color:#78787e">*size,</span> <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceSize,</span> <span style="color:#78787e">*sourceSize]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: token, 0, []
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*grad</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">rate</span>: <span style="color:#78787e">&amp;rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">9</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">size</span>: <span style="color:#78787e">&amp;size</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">mSize</span>: <span style="color:#78787e">&amp;mSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: -size
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceStart</span>: <span style="color:#78787e">&amp;sourceStart</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: mSize / 10
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sourceSize</span>: <span style="color:#78787e">&amp;sourceSize</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: size / 5
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;grad</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#78787e">*rate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{token, N, L} --&gt; {token, N, L} *{token, N+#D, L add [#NODE;]}&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, N, L}{token, def: N2&gt;=N, L2} --&gt; {token, N, L}</span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># Age information</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, def: N&gt;0, L} --&gt; {token, N + 1, L}</span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># Cleanup old information</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token, def: N&gt;30, L} --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_move</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">0.5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: BrownianMove
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*mSize,</span> <span style="color:#78787e">*size,</span> <span style="color:#78787e">*size,</span> <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceStart,</span> <span style="color:#78787e">*sourceSize,</span> <span style="color:#78787e">*sourceSize]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token, 0, []
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*grad</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*move</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span> <span style="color:#78787e"># Must be a valid Groovy snippet</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin <span style="color:#78787e"># Pick whatever JSR223 language you like and add it to the classpath</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: | <span style="color:#78787e"># The following is pure Kotlin code. Other variables can be referenced!</span>
</span></span><span style="display:flex;"><span>      import java.io.File
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImage()</span>: String? = walkTopDown().find { image_name in it.name }?.absolutePath
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImageRecursively(): String = findImage() ?</span>: File(this, &#34;..&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>      File(&#34;.&#34;).findImageRecursively()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">timeout</span>: <span style="color:#ff9f43">5000</span>
</span></span><span style="display:flex;"><span>  <span style="color:#78787e"># Linear free variable</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> } <span style="color:#78787e"># 100 samples</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed } <span style="color:#78787e"># Variable-dependent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable <span style="color:#78787e"># A variable scanning a space with geometric segmentation</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>] <span style="color:#78787e"># default 300, minimum 50, maximum 100, 9 samples</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CSVExporter
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;snippet-variables-export&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
</span></span><span style="display:flex;"><span>      - time
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ] <span style="color:#78787e"># From Apache&#39;s UnivariateStatistic</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite <span style="color:#78787e"># discards NaN and Infinity</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
</span></span></code></pre></div></div>
</div></p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/random/index.html">Random</a></li>
    <li><a class="term-link" href="./tags/randomness/index.html">Randomness</a></li>
    <li><a class="term-link" href="./tags/replicability/index.html">Replicability</a></li>
    <li><a class="term-link" href="./tags/reproducibility/index.html">Reproducibility</a></li>
    <li><a class="term-link" href="./tags/seed/index.html">Seed</a></li>
  </ul>
</div>
  </header>

<h1 id="ensure-repeatability">Ensure repeatability</h1>

<p><em>Debugging</em> a simulation requires the ability to reproduce the same behavior multiple times:
an unexpected behavior requiring investigation may happen far into the simulation,
or in corner conditions encountered by chance.
Randomness is controlled by setting the random generator seeds <em>separately for the deployments and the simulation execution</em>,
allowing for running different simulations on the same random deployment.</p>
<p>Alchemist simulations can be reproduced by feeding them the same random number generator.
This assumption is true as far as the custom component in use:</p>
<ul>
<li>do not use any other random generators but the one provided by the simulation framework (all the standard components are guaranteed to do so);</li>
<li>do not iterate over collections with no predicible iteration order (e.g., Java&rsquo;s <code>Set</code> and <code>Map</code>)
containing elements (or keys) whose <code>hashCode()</code> has not been overridden to return the same value regardless of the specific JVM in use;</li>
<li>do not run operations in parallel.</li>
</ul>
<p>The <a href="./reference/yaml/index.html#seeds"><code>seeds</code></a> section control the random generation process and  may contain two optional values:
<a href="./reference/yaml/index.html#scenario"><code>scenario</code></a> and <a href="./reference/yaml/index.html#simulation"><code>simulation</code></a>.
The former is the seed of the pseudo-random generator used during the creation of the simulation, e.g. for deploying
nodes in random arrangements.
The latter is the seed of the pseudo-random generator used during the simulation, e.g. for computing time distributions
or generating random positions.
A typical example in which one may want to have different values, is to keep the same random deployment of devices in
some scenario but allow events to happen with different timings.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea</span></span></code></pre></div></div>
</div>
<p>Usually, in batches, you wan to run multiple runs per experiment, varying the simulation seed, in order to get more
reliable data (and appropriate error bars).
As per any other value, variables can be feeded as random generator seeds.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/agents/index.html">Agents</a></li>
    <li><a class="term-link" href="./tags/cognitive/index.html">Cognitive</a></li>
    <li><a class="term-link" href="./tags/pedestrian/index.html">Pedestrian</a></li>
  </ul>
</div>
  </header>

<h1 id="cognitive-agents">Cognitive Agents</h1>

<p>We recommend to read our <a href="./explanation/cognitive/index.html">explanation of the cognitive agents</a>
to better understand the contents of this how-to.</p>
<p>Different kinds of pedestrians are obtainable by attaching
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-node-property/"><code>NodeProperty</code></a>s
to nodes (e.g <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.nodes/-generic-node/"><code>GenericNode</code></a>).
Common properties concern abilities such as perceiving other nodes
(<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive/-perceptive-property/"><code>PerceptiveProperty</code></a>)
and occuping space in an environment
(<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.properties/-occupies-space-property/"><code>OccupiesSpaceProperty</code></a>).</p>
<h2 id="homogeneous-pedestrian">Homogeneous Pedestrian</h2>
<p>As shown in the example below, this kind of pedestrian is obtained by attaching the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.properties/-pedestrian/"><code>Pedestrian</code></a>
property.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social</span></span></code></pre></div></div>
</div>
<h2 id="heterogeneous-pedestrian">Heterogeneous Pedestrian</h2>
<p>The age groups available are: <em>child</em>, <em>adult</em>, and <em>elderly</em>;
alternatively, if the exact age is specified,
they are assigned to one of the aforementioned groups automatically.
The genders available are: <em>male</em> and <em>female</em>.
This informations is included in the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.properties/-human/"><code>Human</code></a>
property and it is used by the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.properties/-heterogeneous-pedestrian/"><code>HeterogeneousPedestrian</code></a>
property, along with the age.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;elderly&#34;</span>, <span style="color:#5af78e">&#34;female&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeterogeneousPedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;child&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeterogeneousPedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea</span></span></code></pre></div></div>
</div>
<h2 id="cognitive-pedestrian">Cognitive Pedestrian</h2>
<p>Cognitive pedestrians are heterogeneous pedestrians with cognitive capabilities given by a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive/-cognitive-property/"><code>CognitiveProperty</code></a>.
They have an emotional state and are able to influence and be influenced by others with the same capabilities.
As an example, cognitive pedestrians can perceive fear via social contagion
(e.g. seeing other people fleeing may cause them flee as well despite they haven&rsquo;t directly seen the danger).
To express how a cognitive pedestrians move, based on their emotional state, attach the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.properties/-cognitive-pedestrian/"><code>CognitivePedestrian</code></a>
property.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Cognitive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;female&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Cognitive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>
<h2 id="homogeneous-orienting-pedestrian">Homogeneous orienting pedestrian</h2>
<p>These are homogeneous pedestrians that can be equipped with a given knowledge degree of the environment.
Such quantity is a <code>Double</code> value in <code>[0,1]</code>
describing the percentage of environment the pedestrian is familiar with prior to the start of the simulation
(thus it does not take into account the knowledge the pedestrian will gain during it).
Note that despite their name (&ldquo;homogeneous&rdquo;),
knowledge degrees of different homogeneous orienting pedestrians may differ,
and even pedestrians with the same knowledge degree can be different as each one
can be familiar with different portions of the environment.
Be also aware that orienting pedestrians can only be placed in an
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.environments/-environment-with-graph/"><code>EnvironmentWithGraph</code></a>
which is a type of environment providing a navigation graph.
In order to give a node orienting capabilities enhance a node with an
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive/-orienting-property/"><code>OrientingProperty</code></a>.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">path</span>: planimetry.png
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">zoom</span>: <span style="color:#ff9f43">0.05</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span></code></pre></div></div>
</div>
<h2 id="cognitive-orienting-pedestrian">Cognitive orienting pedestrian</h2>
<p>These are cognitive pedestrians equipable with a given knowledge degree of the environment.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">path</span>: planimetry.png
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">zoom</span>: <span style="color:#ff9f43">0.05</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Cognitive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>
<h2 id="groups">Groups</h2>
<p>It is likely that a pedestrian doesn&rsquo;t move on its own,
but there is a group consisting of multiple people
which are related each other and whose behaviors are strictly dependent on that structure.
The only way you can currently assign a group to a pedestrian is by creating it as a variable and passing it
as a parameter when the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-node/"><code>Node</code></a>s
created are of pedestrian type.
If you don&rsquo;t specify any group in this phase,
automatically a new group of type
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.groups/-alone/"><code>Alone</code></a>
is assigned.</p>
<p>The following simulation example loads two groups of homogeneous pedestrians
representing friends around the center of the scene,
one having 10 members and the other 15.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">group1</span>: <span style="color:#78787e">&amp;group1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: it.unibo.alchemist.model.cognitive.groups.GroupFactory.friends()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">group2</span>: <span style="color:#78787e">&amp;group2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: it.unibo.alchemist.model.cognitive.groups.GroupFactory.friends()
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*group1]</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*group2]</span></span></span></code></pre></div></div>
</div>
<h2 id="steering-actions">Steering Actions</h2>
<p>Steering actions are
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-action/"><code>Action</code></a>s
whose purpose is moving a node inside an environment.
These actions  can be divided into two categories:</p>
<ul>
<li>greedy, i.e. performing only local choices;</li>
<li><a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive/-navigation-action/"><code>NavigationAction</code></a>s,
which exploit the spatial information available to orienting pedestrians
in order to navigate the environment consciously
(e.g. without getting stuck in U-shaped obstacles).</li>
</ul>
<p>For a complete overview of the available actions refer to the api documentation.
The creation of complex movements can be accomplished by combining different steering actions together.
The only way currently available to do so is by using some
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.reactions/-steering-behavior/"><code>SteeringBehavior</code></a>
extending
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-reaction/"><code>Reaction</code></a>, which can recognize, across all the actions specified,
the steering ones to trait them in a separate way.</p>
<p>In this simulation 50 people wander around the environment and,
if they are approaching an obstacle, they avoid it.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [planimetry.png]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeadTowardRandomDirection
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentWander
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">6</span>, <span style="color:#ff9f43">4</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentObstacleAvoidance
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">4</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">25</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>
<h2 id="steering-strategies">Steering Strategies</h2>
<p>In order to decide the logic according to which the different steering actions must be combined,
the concept of steering strategy has been introduced and related to it different reactions are available to be used
with the aim of computing the desired route for the pedestrians.
If you want a pedestrian to execute a single steering action at a time,
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.reactions/-priority-steering/"><code>PrioritySteering</code></a>
is a reaction
which gives relevance only to the steering action whose target point is the nearest to the current pedestrian position.
If you want a pedestrian to execute a movement considering multiple actions at a time,
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.reactions/-blended-steering/"><code>BlendedSteering</code></a>
weights them considering their target distance to the current pedestrian position.
There is no limit to the number of steering actions which can be used together but some messy compositions
can result in unpredictable behaviors, so pay attention.</p>
<p>In the example below a pedestrian reaches a point of interest, avoiding in the meantime to approach another position.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: BlendedSteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentSeek
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>, <span style="color:#ff9f43">500</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFlee
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">500</span>, -<span style="color:#ff9f43">500</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>
<h2 id="danger-and-evacuations">Danger and evacuations</h2>
<p>Pedestrians can be loaded in any kind of
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-environment/"><code>Environment</code></a>
but it is recommended to use
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics/-physics-environment/"><code>PhysicsEnvironment</code></a>s
since they
have properties such as non-overlapping shapes which are advisable to be taken into consideration
when working with a crowd.
To specify the existence of a potential danger or a significative zone in general inside the environment you can use
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-layer/"><code>Layer</code></a>s.
You must specify to any cognitive pedestrian the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a>
representing danger in the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-environment/"><code>Environment</code></a>,
otherwise it won&rsquo;t have the ability to recognize its presence.</p>
<p>In the following example,
100 adult females with cognitive capabilities get away from a zone in the environment where
there is a potential danger.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">danger</span>: <span style="color:#78787e">&amp;danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;\&#34;danger\&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.0</span>, <span style="color:#ff9f43">0.0</span>, <span style="color:#ff9f43">20.0</span>, <span style="color:#ff9f43">15.0</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentAvoidLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*danger]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">50</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;female&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Cognitive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>
<h3 id="hardcoded-parameters">Hardcoded parameters</h3>
<p>Here&rsquo;s a list of all the hardcoded parameters.</p>
<table>
  <thead>
      <tr>
          <th>Name</th>
          <th>Value</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>knownImpasseWeight</td>
          <td>10</td>
          <td>Weight assigned to known impasses (= areas with a single door). It&rsquo;s usually a high value, allowing to avoid them.</td>
      </tr>
      <tr>
          <td>toleranceAngle</td>
          <td>45 degrees</td>
          <td>Used by <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.steering/-single-prevalent/"><code>SinglePrevalent</code></a>, that linearly combines multiple steering actions (= multiple forces) assuming one of them is prevalent. Weights for the linear combination are determined so that the resulting force forms with the prevalent one an angle smaller than or equal to the tolerance angle. The prevalent force usually wants to move the pedestrian consciously, whereas other forces are more &ldquo;greedy&rdquo;. The purpose of the tolerance angle is allowing to steer the pedestrian towards the target defined by the prevalent force, while using a trajectory which takes into account other urges as well.</td>
      </tr>
      <tr>
          <td>alpha</td>
          <td>0.5</td>
          <td>Used by <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.steering/-single-prevalent/"><code>SinglePrevalent</code></a>, an exponential smoothing with this alpha is applied to the resulting force in order to reduce oscillatory movements.</td>
      </tr>
      <tr>
          <td>maxWalkRatio</td>
          <td>0.3</td>
          <td>Used by <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.steering/-single-prevalent/"><code>SinglePrevalent</code></a>. When the pedestrian is subject to contrasting forces the resulting one may be small in magnitude, hence a lower bound for such quantity is set to (maximum distance walkable by the pedestrian) * (this parameter) so as to avoid extremely slow movements.</td>
      </tr>
      <tr>
          <td>delta</td>
          <td>0.05</td>
          <td>Used by <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.steering/-single-prevalent/"><code>SinglePrevalent</code></a>. The weight assigned to disturbing forces is set to 1 and then iteratively decreased by delta until the resulting force satisfies the required conditions (see the api). This is similar to a gradient descent.</td>
      </tr>
  </tbody>
</table>
<h3 id="physical-pedestrians">Physical pedestrians</h3>
<p>Physical pedestrians are capable of pushing and bumping into each other.
To express those physical interactions use a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.properties/-physical-pedestrian/"><code>PhysicalPedestrian</code></a>
property.</p>
<h3 id="physical-steering-strategies">Physical steering strategies</h3>
<p>In order to work properly,
physical pedestrians should be equipped with physical steering strategies.
Such strategies define how steering actions (which are intentional)
are combined with physical forces
(which are mostly unintentional).
At present, only
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.reactions/-physical-blended-steering/"><code>PhysicalBlendedSteering</code></a>
and
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.reactions/-navigation-prioritized-steering-with-physics/"><code>NavigationPrioritizedSteeringWithPhysics</code></a>
are available.</p>
<p>Here&rsquo;s a simple code for loading a homogeneous pedestrian with physical properties
with
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.actions/-cognitive-agent-seek/"><code>CognitiveAgentSeek</code></a>
and
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.actions/-cognitive-agent-flee/"><code>CognitiveAgentFlee</code></a>:</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">path</span>: planimetry.png
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">zoom</span>: <span style="color:#ff9f43">0.05</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: PhysicalPedestrian2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: PhysicalBlendedSteering
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">type</span>: CognitiveAgentSeek
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>, <span style="color:#ff9f43">500</span>]
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">type</span>: CognitiveAgentFlee
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">500</span>, -<span style="color:#ff9f43">500</span>]
</span></span></code></pre></div></div>
</div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/connect/index.html">Connect</a></li>
    <li><a class="term-link" href="./tags/connection/index.html">Connection</a></li>
    <li><a class="term-link" href="./tags/linking-rule/index.html">Linking Rule</a></li>
    <li><a class="term-link" href="./tags/neighborhood/index.html">Neighborhood</a></li>
    <li><a class="term-link" href="./tags/network/index.html">Network</a></li>
    <li><a class="term-link" href="./tags/network-model/index.html">Network Model</a></li>
  </ul>
</div>
  </header>

<h1 id="create-a-network">Create a network</h1>

<p>Alchemist nodes can connect to each other and form a network.</p>
<p>The <a href="./reference/yaml/index.html#network-model"><code>network-model</code></a> key is used to load the implementation of
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-linking-rule/"><code>LinkingRule</code></a>
to be used in the simulation,
which determines the neighborhood of every node.</p>
<p>The key is optional, but defaults to <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.linkingrules/-no-links/"><code>NoLinks</code></a>,
so, if unspecified, nodes in the environment don&rsquo;t get connected.</p>
<p>Omitting the key is equivalent to writing any of the following:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: NoLinks</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: NoLinks
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: []</span></span></code></pre></div>
<h2 id="linking-nodes-based-on-their-respective-distance">Linking nodes based on their respective distance</h2>
<p>One of the most common ways of linking nodes is to connect those which are close enough to each other.
To do so, you can use <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.linkingrules/-connect-within-distance/"><code>ConnectWithinDistance</code></a>,
passing a parameter representing the maximum connection distance.</p>
<p>Note that such distance depends on the environment: while the definition of distance is straightforward for euclidean spaces,
it&rsquo;s not so for <a href="https://en.wikipedia.org/wiki/Riemannian_geometry" rel="external" target="_blank">Riemannian manifolds</a>,
which is a fancy name to define manifolds such as the one typical of a urban map
(you can roughly interpret it as a euclidean space &ldquo;with holes&rdquo;).</p>
<p>For instance, in case of environments using
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-geo-position/"><code>GeoPosition</code></a>, the distance is computed in meters, so the
distance between <code>[44.133254, 12.237770]</code> and <code>[44.146680, 12.258627]</code> is about <code>2240</code> (meters).</p>
<p>In the following example, nodes are connected when closer than a threshold:

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere <span style="color:#78787e"># The incarnation is always mandatory</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance <span style="color:#78787e"># Loads a class with this name implementing LinkingRule</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>] <span style="color:#78787e"># Connection radius (parameter of a ConnectWithinDistance&#39;s constructor)</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point <span style="color:#78787e"># Loads a class with this name implementing Deployment</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>] <span style="color:#78787e"># Coordinates</span>
</span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: Point, parameters</span>: [<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>] }
</span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: Point, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>] }
</span></span></code></pre></div></div>
</div></p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/data/index.html">Data</a></li>
    <li><a class="term-link" href="./tags/layer/index.html">Layer</a></li>
    <li><a class="term-link" href="./tags/layers/index.html">Layers</a></li>
    <li><a class="term-link" href="./tags/light/index.html">Light</a></li>
    <li><a class="term-link" href="./tags/pollution/index.html">Pollution</a></li>
    <li><a class="term-link" href="./tags/temperature/index.html">Temperature</a></li>
  </ul>
</div>
  </header>

<h1 id="create-layers">Create Layers</h1>

<p><a href="#R-image-46e41f60804f9bec8d318ad802e41605" class="lightbox-link"><img alt="simulation with layer" class="lazy lightbox figure-image" loading="lazy" src="./howtos/simulation/layers/layer.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-46e41f60804f9bec8d318ad802e41605"><img alt="simulation with layer" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/simulation/layers/layer.jpeg"></a></p>
<p>It is possible to define overlays (layers) of data that can be sensed everywhere in the environment.
Layers can be used to model physical properties, such as pollution, light, temperature, and so on.
As opposed to nodes&rsquo; contents, layers have no dependency optimization.
This implies that reactions that read values from layers should have special care in defining their <code>context</code> appropriately.</p>
<p>Layers are created with the <a href="./reference/yaml/index.html#arbitrary-class-loading-system"><code>type/parameter</code> syntax</a>,
as in this example:</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: StepLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: A
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: StepLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">2</span>, -<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">100</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: B
</span></span></code></pre></div></div>
</div>
<p>The following example shows the syntax for initializing multiple
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.layers/-bidimensional-gaussian-layer/"><code>BidimensionalGaussianLayer</code></a>s:</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_danger</span>: <span style="color:#78787e">&amp;danger</span>
</span></span><span style="display:flex;"><span>  danger
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_target</span>: <span style="color:#78787e">&amp;target</span>
</span></span><span style="display:flex;"><span>  targe
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">80</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">20</span>]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*target</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">50</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: BlendedSteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentAvoidLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*danger]</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*target]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">conditions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: WantToEscape
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeadTowardRandomDirection
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_nodes</span>: <span style="color:#78787e">&amp;nodes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [ <span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span> ]
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Cognitive2D
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [ <span style="color:#78787e">*danger</span> ]
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*behavior</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">25</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">8</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*nodes</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">75</span>, <span style="color:#ff9f43">60</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*nodes</span>
</span></span></code></pre></div></div>
</div>
<p>If the target layer is written in Kotlin, it can be loaded using named parameters,
which arguably reads more clearly.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">6</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    [<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">100</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: grain
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff9f43">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">molecule</span>: layer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">centerX</span>: <span style="color:#ff9f43">30</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">centerY</span>: <span style="color:#ff9f43">30</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">norm</span>: <span style="color:#ff9f43">30</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">sigmaX</span>: <span style="color:#ff9f43">15</span>
</span></span></code></pre></div></div>
</div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
  </header>

<h1 id="create-rich-environments">Create rich environments</h1>

<h3 id="configuration-of-the-environment">Configuration of the environment</h3>
<h1 id="create-rich-environments">Create rich environments</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/simulation/environment/pathfinding/index.html">Find paths indoors</a><p>How to navigate the environment, especially indoors.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/maps/index.html">Maps and GPS traces</a><p>How to simulate using maps and GPS traces.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/indoor/index.html">Simulate indoor</a><p>How to create indoor environments based on planimetries.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/environment/cognitive-physics/index.html">Simulate physical interactions among pedestrians</a><p>Physical interaction between nodes</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Create rich environments</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/navigation-mesh/index.html">Navigation Mesh</a></li>
    <li><a class="term-link" href="./tags/node/index.html">Node</a></li>
    <li><a class="term-link" href="./tags/nodes/index.html">Nodes</a></li>
    <li><a class="term-link" href="./tags/pathfinding/index.html">Pathfinding</a></li>
  </ul>
</div>
  </header>

<h1 id="find-paths-indoors">Find paths indoors</h1>

<p>The background regarding the navigation system is explained <a href="./explanation/pathfinding/index.html">here</a>.</p>
<h2 id="generating-navigation-graphs-from-images">Generating navigation graphs from images</h2>
<p>If your environment is codified as an image,
generating a navigation graph is straight-forward.
All you have to do is mark the areas of the environment where to plant initial seeds in blue (RGB #0000FF).
In the image below you can see the generation of a navigation graph.
The blue regions in the original image indicate where to plant initial seeds.
These are then grown and crossings are found between them.</p>
<p><a href="#R-image-ba0553c84b8e4a7f07c4be0d54335f46" class="lightbox-link"><img alt="navigation graph generation" class="lazy lightbox figure-image" loading="lazy" src="./explanation/pathfinding/navigation-graph-generation.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ba0553c84b8e4a7f07c4be0d54335f46"><img alt="navigation graph generation" class="lazy lightbox lightbox-image" loading="lazy" src="./explanation/pathfinding/navigation-graph-generation.jpeg"></a></p>
<p>Once you have your image ready for the generation of the navigation graph, you can exploit the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.environments/-image-environment-with-graph/"><code>ImageEnvironmentWithGraph</code></a> class to produce it for you.
This will read your image, extract the positions you marked blue and pass them to the NaviGator algorithm.</p>
<h3 id="examples">Examples</h3>
<p>
<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/building-planimetry.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentReachDestination
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">135</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/congestion-avoidance.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentReachKnownDestination
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">55</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">70</span>, <span style="color:#ff9f43">50</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">27</span>, <span style="color:#ff9f43">52</span>, <span style="color:#ff9f43">56</span>, <span style="color:#ff9f43">58</span>, <span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.3</span>, <span style="color:#ff9f43">0.3</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">30</span>, <span style="color:#ff9f43">40</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">45</span>, <span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.3</span>, <span style="color:#ff9f43">0.3</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/building-planimetry.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentExplore
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.0</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/building-planimetry.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowRoute
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">40</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">60</span>, <span style="color:#ff9f43">80</span>, <span style="color:#ff9f43">70</span>, <span style="color:#ff9f43">105</span>, <span style="color:#ff9f43">85</span>, <span style="color:#ff9f43">80</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.0</span>]
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*behavior</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/congestion-avoidance.png, 0.1, 12, 60]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: OrientingBehavior2D
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">130</span>, <span style="color:#ff9f43">70</span>, <span style="color:#ff9f43">52</span>, <span style="color:#ff9f43">5</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">nodes</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: HomogeneousOrientingPedestrian2D
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">27</span>, <span style="color:#ff9f43">52</span>, <span style="color:#ff9f43">56</span>, <span style="color:#ff9f43">58</span>, <span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.3</span>, <span style="color:#ff9f43">0.3</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">nodes</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: HomogeneousPedestrian2D
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">30</span>, <span style="color:#ff9f43">40</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">45</span>, <span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.3</span>, <span style="color:#ff9f43">0.3</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">nodes</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: HomogeneousPedestrian2D
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/building-planimetry.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentReachDestination
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">103</span>, <span style="color:#ff9f43">99</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#78787e"># destination is unknown as pedestrian&#39;s cognitive map is empty</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">108</span>, <span style="color:#ff9f43">88</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.0</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/building-planimetry.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentReachDestination
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">135</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#78787e"># destination is unknown as pedestrian&#39;s cognitive map is empty</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.0</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/building-planimetry.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentReachKnownDestination
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">135</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.3</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/building-planimetry.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentPursue
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">135</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#78787e"># Pursuing assumes the destination is known (despite the pedestrian&#39;s cognitive map is empty)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.0</span>]
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*behavior</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/building-planimetry.png, 0.1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentReachDestination
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">60</span>, <span style="color:#ff9f43">40</span>, <span style="color:#ff9f43">85</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#78787e"># (85, 15) will be known, (60, 40) won&#39;t be known but will be reached because found along the way to the former</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">15</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.4</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">path</span>: planimetry.png
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">zoom</span>: <span style="color:#ff9f43">0.05</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Cognitive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironmentWithGraph
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">path</span>: planimetry.png
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">zoom</span>: <span style="color:#ff9f43">0.05</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Orienting2D
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">path</span>: planimetry.png
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">zoom</span>: <span style="color:#ff9f43">0.05</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: PhysicalPedestrian2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: PhysicalBlendedSteering
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">type</span>: CognitiveAgentSeek
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>, <span style="color:#ff9f43">500</span>]
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">type</span>: CognitiveAgentFlee
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">500</span>, -<span style="color:#ff9f43">500</span>]
</span></span></code></pre></div></div>
</div></p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/environment/index.html">Environment</a></li>
    <li><a class="term-link" href="./tags/geo-spatial-data/index.html">Geo-Spatial Data</a></li>
    <li><a class="term-link" href="./tags/gps/index.html">Gps</a></li>
    <li><a class="term-link" href="./tags/maps/index.html">Maps</a></li>
    <li><a class="term-link" href="./tags/planimetry/index.html">Planimetry</a></li>
    <li><a class="term-link" href="./tags/traces/index.html">Traces</a></li>
  </ul>
</div>
  </header>

<h1 id="maps-and-gps-traces">Maps and GPS traces</h1>

<hr>
<p>Alchemist is equipped with the ability to load and simulate on real-world maps.
Navigation on maps can be done by using gps traces,
by moving along roads (Alchemist relies on <a href="https://www.graphhopper.com/" rel="external" target="_blank">GraphHopper</a> to provide directions),
by interpolating gps traces with on-the-road-movements,
or by ignoring the map information and just move as you would in a continuous space.</p>
<h2 id="setting-up-a-map-environment">Setting up a map environment</h2>
<p>In order to run simulations on real world maps, an appropriate environment must be selected, such as
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.maps.environments/-o-s-m-environment/"><code>OSMEnvironment</code></a>.</p>
<p>If you need map data to perform <em>on-streets routing</em>,
you need to feed it to the simulator.
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.maps.environments/-o-s-m-environment/"><code>OSMEnvironment</code></a>
supports <a href="https://www.openstreetmap.org" rel="external" target="_blank">OpenStreetMap</a> extracts in several formats,
we recommend using the
<a href="https://wiki.openstreetmap.org/wiki/PBF_Format" rel="external" target="_blank">protocol buffer binary format (pbf)</a>
to save time and space.</p>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    OpenStreetMap extracts
  </summary>
  <div class="box-content">
<p>It is likely that you do not need a simulation that requires navigation capabilities on
<a href="https://planet.openstreetmap.org/" rel="external" target="_blank">the whole planet</a>,
especially considering that, even in binary format,
it contains <strong>more than 50GB of data</strong>.
We recommend thus to use an <strong>extract</strong> with the data relative to the area you are interested in simulating in.
One great way to obtain an extract is through <a href="https://extract.bbbike.org/" rel="external" target="_blank"><strong>BBBike</strong></a>.</p>
<p>If you rely on their service, consider donating to the project.</p>
  </div>
</details>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Deploying nodes using GPS traces
  </summary>
  <div class="box-content">
<p>We prepared <a href="./howtos/simulation/deploy/gps/index.html">a dedicated page</a> on the argument</p>
  </div>
</details>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Navigate nodes in map environment
  </summary>
  <div class="box-content">
<p>We prepared <a href="./howtos/simulation/program/move-on-maps/index.html">a dedicated page</a> on the argument</p>
  </div>
</details>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/environment/index.html">Environment</a></li>
    <li><a class="term-link" href="./tags/indoor/index.html">Indoor</a></li>
    <li><a class="term-link" href="./tags/planimetry/index.html">Planimetry</a></li>
  </ul>
</div>
  </header>

<h1 id="simulate-indoor">Simulate indoor</h1>

<p><a href="#R-image-adb19dded904542e49c0de569c53d944" class="lightbox-link"><img alt="indoor simulation" class="lazy lightbox figure-image" loading="lazy" src="./howtos/simulation/environment/indoor/indoor_simulation.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-adb19dded904542e49c0de569c53d944"><img alt="indoor simulation" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/simulation/environment/indoor/indoor_simulation.png"></a></p>
<p>Indoor environments
(bidimensional spaces with obstacles)
can be generated from images by leveraging
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.environments/-image-environment/"><code>ImageEnvironment</code></a>,
which loads the map as raster image from file,
interpreting the black pixels as obstacles
(wall-like areas not accessible to nodes).
Color of pixels that represents obstacles can be set to
every color with a constructor&rsquo;s parameter, black is default.</p>
<p>By default, each pixel is considered as a 1x1 block.
As a consequence, a 1200x600 image with a vertical line of black pixels at coordinate 500 will be interpreted as a single
obstacle of size 1x600 starting at coordinate (500, 0).
It is possible to scale up or down the size of the environment by acting on the zoom parameter of
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.environments/-image-environment/"><code>ImageEnvironment</code></a>,
as well as changing the initial coordinates.</p>
<h2 id="examples">Examples</h2>
<p><a href="#R-image-5da3e93ba9de2178a83e13d945d9267a" class="lightbox-link"><img alt="image from the project repository" class="lazy lightbox figure-image" loading="lazy" src="https://github.com/AlchemistSimulator/Alchemist/raw/master/alchemist-cognitive-agents/src/test/resources/images/multiple-exits.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5da3e93ba9de2178a83e13d945d9267a"><img alt="image from the project repository" class="lazy lightbox lightbox-image" loading="lazy" src="https://github.com/AlchemistSimulator/Alchemist/raw/master/alchemist-cognitive-agents/src/test/resources/images/multiple-exits.png"></a></p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">danger</span>: <span style="color:#78787e">&amp;danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;\&#34;danger\&#34;&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">exit1</span>: <span style="color:#78787e">&amp;exit1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;\&#34;exit1\&#34;&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">exit2</span>: <span style="color:#78787e">&amp;exit2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;\&#34;exit2\&#34;&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">exit3</span>: <span style="color:#78787e">&amp;exit3</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;\&#34;exit3\&#34;&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">exit4</span>: <span style="color:#78787e">&amp;exit4</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;\&#34;exit4\&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/multiple-exits.png, 0.0416]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">20</span>, <span style="color:#ff9f43">8</span>]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*exit1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.0</span>, <span style="color:#ff9f43">10.0</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*exit2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10.0</span>, <span style="color:#ff9f43">20.0</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*exit3</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">20.0</span>, <span style="color:#ff9f43">10.0</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*exit4</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10.0</span>, <span style="color:#ff9f43">0.0</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">conditions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: WantToEvacuate
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentAvoidLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*danger]</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*exit1]</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*exit2]</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*exit3]</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*exit4]</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.25</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeadTowardRandomDirection
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">75</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">10</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">nodes</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: CognitivePedestrian2D
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span>, <span style="color:#78787e">*danger]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">75</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">10</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">nodes</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: CognitivePedestrian2D
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;female&#34;</span>, <span style="color:#78787e">*danger]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>
<hr>
<p><a href="#R-image-ffe81c20c7171dea6658c8a1fe29e97c" class="lightbox-link"><img alt="image from the project repository" class="lazy lightbox figure-image" loading="lazy" src="https://github.com/AlchemistSimulator/Alchemist/raw/master/alchemist-cognitive-agents/src/test/resources/images/obstacles.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ffe81c20c7171dea6658c8a1fe29e97c"><img alt="image from the project repository" class="lazy lightbox lightbox-image" loading="lazy" src="https://github.com/AlchemistSimulator/Alchemist/raw/master/alchemist-cognitive-agents/src/test/resources/images/obstacles.png"></a></p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">danger</span>: <span style="color:#78787e">&amp;danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;\&#34;danger\&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [images/obstacles.png]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*danger</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">600.0</span>, <span style="color:#ff9f43">240.0</span>, <span style="color:#ff9f43">10.0</span>, <span style="color:#ff9f43">100.0</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.25</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: BlendedSteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowLayer
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*danger]</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentObstacleAvoidance
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_homogeous_pedestrian</span>: <span style="color:#78787e">&amp;homogeneous_pedestrian</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">20</span>, -<span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">240</span>, <span style="color:#ff9f43">30</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*homogeneous_pedestrian</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">30</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">600</span>, <span style="color:#ff9f43">50</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*homogeneous_pedestrian</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">40</span>, <span style="color:#ff9f43">100</span>, -<span style="color:#ff9f43">60</span>, <span style="color:#ff9f43">40</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*homogeneous_pedestrian</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>
<hr>
<p><a href="#R-image-a2edde3fb4add40b6270ab9af007fb06" class="lightbox-link"><img alt="image from the project repository" class="lazy lightbox figure-image" loading="lazy" src="https://github.com/AlchemistSimulator/Alchemist/raw/master/src/test/resources/planimetry.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a2edde3fb4add40b6270ab9af007fb06"><img alt="image from the project repository" class="lazy lightbox lightbox-image" loading="lazy" src="https://github.com/AlchemistSimulator/Alchemist/raw/master/src/test/resources/planimetry.png"></a></p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ImageEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [planimetry.png]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">3.0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: PrioritySteering
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeadTowardRandomDirection
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentWander
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">6</span>, <span style="color:#ff9f43">4</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentObstacleAvoidance
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">4</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">25</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*behavior</span></span></span></code></pre></div></div>
</div>
<hr>
<p><a href="#R-image-412ee3b7113964e44a14f3e6bca12d8d" class="lightbox-link"><img alt="image from the project repository" class="lazy lightbox figure-image" loading="lazy" src="https://github.com/AlchemistSimulator/Alchemist/raw/master/src/test/resources/chiaravalle.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-412ee3b7113964e44a14f3e6bca12d8d"><img alt="image from the project repository" class="lazy lightbox lightbox-image" loading="lazy" src="https://github.com/AlchemistSimulator/Alchemist/raw/master/src/test/resources/chiaravalle.png"></a></p>
<ul>
<li>Direct reference to the image

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [chiaravalle.png, 0.1] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send <span style="color:#78787e"># Actual network message delivery</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Event
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#ff9f43">1.4</span>] }
  </span></span></code></pre></div></div>
  </div></li>
<li>Search for the image in the file system via Kotlin

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span> <span style="color:#78787e"># Must be a valid Groovy snippet</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin <span style="color:#78787e"># Pick whatever JSR223 language you like and add it to the classpath</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: | <span style="color:#78787e"># The following is pure Kotlin code. Other variables can be referenced!</span>
  </span></span><span style="display:flex;"><span>      import java.io.File
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImage()</span>: String? = walkTopDown().find { image_name in it.name }?.absolutePath
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fun File.findImageRecursively(): String = findImage() ?</span>: File(this, &#34;..&#34;).findImageRecursively()
  </span></span><span style="display:flex;"><span>      File(&#34;.&#34;).findImageRecursively()
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">timeout</span>: <span style="color:#ff9f43">5000</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#78787e"># Linear free variable</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> } <span style="color:#78787e"># 100 samples</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed } <span style="color:#78787e"># Variable-dependent</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable <span style="color:#78787e"># A variable scanning a space with geometric segmentation</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>] <span style="color:#78787e"># default 300, minimum 50, maximum 100, 9 samples</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CSVExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;snippet-variables-export&#34;</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ] <span style="color:#78787e"># From Apache&#39;s UnivariateStatistic</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite <span style="color:#78787e"># discards NaN and Infinity</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
  </span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
  </span></span></code></pre></div></div>
  </div></li>
</ul>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/interaction/index.html">Interaction</a></li>
    <li><a class="term-link" href="./tags/pedestrian/index.html">Pedestrian</a></li>
    <li><a class="term-link" href="./tags/physics/index.html">Physics</a></li>
  </ul>
</div>
  </header>

<h1 id="simulate-physical-interactions-among-pedestrians">Simulate physical interactions among pedestrians</h1>

<p>Before reading the following explanation you may want to look at the
<a href="./explanation/cognitive/index.html">explanation of the cognitive agents</a> and then at
<a href="./howtos/simulation/cognitive/index.html">how to work with them</a>.</p>
<h2 id="configuring-the-physics-environment">Configuring the physics environment</h2>
<p>The simulator is equipped with a special type of <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-environment/"><code>Environment</code></a>
named <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.environments/-environment-with-dynamics/"><code>EnvironmentWithDynamics</code></a>
which performs collision detection and response between nodes and with obstacles.</p>
<p>Here&rsquo;s a minimal configuration of a physics simulation:

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span></code></pre></div></div>
</div></p>
<p>It&rsquo;s also possibile to specify an image path for including obstacles in the environment

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [planimentry.png]
</span></span></code></pre></div></div>
</div></p>
<h2 id="adding-nodes-to-the-environment">Adding nodes to the environment</h2>
<p>Nodes added to the <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.environments/-environment-with-dynamics/"><code>EnvironmentWithDynamics</code></a>
are required to have at least a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive/-pedestrian-property/"><code>PedestrianProperty</code></a>,
a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.properties/-physical-pedestrian/"><code>PhysicalPedestrian</code></a> and a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.properties/-occupies-space-property/"><code>OccupiesSpaceProperty</code></a>.</p>
<p>Here&rsquo;s an example:

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameteres</span>: [planimetry.png]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: PhysicalPedestrian2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span></code></pre></div></div>
</div></p>
<h2 id="configuring-nodes-programs">Configuring nodes programs</h2>
<p>When using the <code>EnvironmentWithDynamics</code>, any suitable <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-reaction/"><code>Reaction</code></a> can be used,
however, in order to take advantage of the physical micro-interactions between nodes such as avoidance,
pushing behavior and falls, derived from the work of <a href="https://doi.org/10.2312/SCA/SCA07/099-108" rel="external" target="_blank">Pelechano et al.</a> you need
to use the <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.reactions/-physical-blended-steering/"><code>PhysicalBlendedSteering</code></a>.</p>
<p>Here&rsquo;s an example:

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">path</span>: planimetry.png
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">zoom</span>: <span style="color:#ff9f43">0.05</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: PhysicalPedestrian2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: PhysicalBlendedSteering
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">type</span>: CognitiveAgentSeek
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>, <span style="color:#ff9f43">500</span>]
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">type</span>: CognitiveAgentFlee
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">500</span>, -<span style="color:#ff9f43">500</span>]
</span></span></code></pre></div></div>
</div></p>
<h2 id="updating-the-physics-engine">Updating the physics engine</h2>
<p>The <code>EnvironmentWithDynamics</code> internally uses a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-global-reaction/"><code>GlobalReaction</code></a> called
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.reactions/-physics-update/"><code>PhysicsUpdate</code></a> to update nodes positions.
By deault this reaction uses a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.timedistributions/-dirac-comb/"><code>DiracComb</code></a>
with a default rate. If you want, it&rsquo;s possible to override the reaction with a custom
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-time-distribution/"><code>TimeDistribution</code></a> and update rate.</p>
<p>Here&rsquo;s some examples:

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameteres</span>: [planimetry.png]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">global-programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: PhysicsUpdate
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: PhysicalPedestrian2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span></code></pre></div></div>
</div></p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameteres</span>: [planimetry.png]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">global-programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.5</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: PhysicsUpdate
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: PhysicalPedestrian2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EnvironmentWithDynamics
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameteres</span>: [planimetry.png]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">global-programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: ExponentialTime
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: PhysicsUpdate
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Pedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: PhysicalPedestrian2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span></code></pre></div></div>
</div>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="deploy-nodes">Deploy Nodes</h1>

<h3 id="displacement-of-nodes-and-group-of-nodes-inside-the-simulated-environment">Displacement of nodes and group of nodes inside the simulated environment</h3>
<h1 id="deploy-nodes">Deploy nodes</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/simulation/deploy/grid/index.html">(Irregular) Grids</a><p>Deployment of nodes in (possibly irregular) grids.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/shape/index.html">Nodes inside shapes</a><p>Deployment of nodes randomly inside arbitrary shapes.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/gps/index.html">GPS Traces</a><p>Deployment of nodes on map-based environments using GPS data.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/deploy/graph/index.html">Graphs</a><p>Deployment of nodes into arbitrary graphs.</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Deploy Nodes</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/deployment/index.html">Deployment</a></li>
    <li><a class="term-link" href="./tags/grid/index.html">Grid</a></li>
    <li><a class="term-link" href="./tags/node/index.html">Node</a></li>
    <li><a class="term-link" href="./tags/nodes/index.html">Nodes</a></li>
  </ul>
</div>
  </header>

<h1 id="irregular-grids">(Irregular) Grids</h1>

<p>One common way to deploy nodes in a bidimensional space is on a grid.
Grid-like deployments can be easily performed in Alchemist
leveraging the <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-grid/"><code>Grid</code></a> <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-deployment/"><code>Deployment</code></a>.</p>
<p>The following example shows a grid centered in <code>(0, 0)</code>,
with nodes distanced of <code>0.25</code> both horizontally and vertically.

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>]
</span></span></code></pre></div></div>
</div></p>
<p>Often, symmetric structures may induce corner behaviors in self-organising systems,
and real-world &ldquo;grid&rdquo; deployments are not usually geometrically perfect.
Indeed, it is common to <em>perturb</em> the grid shape randomly,
in order to account for potential irregularities of the real-world system
being simulated.
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-grid/"><code>Grid</code></a> supports perturbation natively:
for instance, here is an example of a grid where positions are
randomly perturbed of ±0.1 distance units.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span></code></pre></div></div>
</div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/deployment/index.html">Deployment</a></li>
    <li><a class="term-link" href="./tags/node/index.html">Node</a></li>
    <li><a class="term-link" href="./tags/nodes/index.html">Nodes</a></li>
    <li><a class="term-link" href="./tags/random/index.html">Random</a></li>
    <li><a class="term-link" href="./tags/shape/index.html">Shape</a></li>
  </ul>
</div>
  </header>

<h1 id="nodes-inside-shapes">Nodes inside shapes</h1>

<p>Sometimes it is useful to deploy a bunch of nodes randomly inside some area marked by a shape.
Circles and polygons are first-class citizens,
but of course users may create their own deployments by implementing
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-deployment/"><code>Deployment</code></a>.</p>
<p>This example places 1000 nodes randomly in a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-circle/"><code>Circle</code></a>
with center in (0, 0) and radius 10.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>]
</span></span></code></pre></div></div>
</div>
<p>In the following example, they are instead deployed randomly within a 10x20
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-rectangle/"><code>Rectangle</code></a>
originating in (0,0).</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">20</span>]
</span></span></code></pre></div></div>
</div>
<p><a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-polygon/"><code>Polygon</code></a>s
can be specified by providing all vertices.
In the following example, we deploy some nodes within the Venice lagoon.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type</span>: OSMEnvironment }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">1000</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_venice_lagoon</span>: <span style="color:#78787e">&amp;lagoon</span>
</span></span><span style="display:flex;"><span>  [[<span style="color:#ff9f43">45.2038121</span>, <span style="color:#ff9f43">12.2504425</span>], [<span style="color:#ff9f43">45.2207426</span>, <span style="color:#ff9f43">12.2641754</span>], [<span style="color:#ff9f43">45.2381516</span>, <span style="color:#ff9f43">12.2806549</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2570053</span>, <span style="color:#ff9f43">12.2895813</span>], [<span style="color:#ff9f43">45.276336</span>, <span style="color:#ff9f43">12.2957611</span>], [<span style="color:#ff9f43">45.3029049</span>, <span style="color:#ff9f43">12.2991943</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3212544</span>, <span style="color:#ff9f43">12.3046875</span>], [<span style="color:#ff9f43">45.331875</span>, <span style="color:#ff9f43">12.3040009</span>], [<span style="color:#ff9f43">45.3453893</span>, <span style="color:#ff9f43">12.3040009</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3502151</span>, <span style="color:#ff9f43">12.3156738</span>], [<span style="color:#ff9f43">45.3622776</span>, <span style="color:#ff9f43">12.3232269</span>], [<span style="color:#ff9f43">45.3719259</span>, <span style="color:#ff9f43">12.3300934</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3830193</span>, <span style="color:#ff9f43">12.3348999</span>], [<span style="color:#ff9f43">45.395557</span>, <span style="color:#ff9f43">12.3445129</span>], [<span style="color:#ff9f43">45.3998964</span>, <span style="color:#ff9f43">12.3300934</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4018249</span>, <span style="color:#ff9f43">12.3136139</span>], [<span style="color:#ff9f43">45.4105023</span>, <span style="color:#ff9f43">12.3122406</span>], [<span style="color:#ff9f43">45.4167685</span>, <span style="color:#ff9f43">12.311554</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4278531</span>, <span style="color:#ff9f43">12.3012543</span>], [<span style="color:#ff9f43">45.4408627</span>, <span style="color:#ff9f43">12.2902679</span>], [<span style="color:#ff9f43">45.4355628</span>, <span style="color:#ff9f43">12.2772217</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4206242</span>, <span style="color:#ff9f43">12.2703552</span>], [<span style="color:#ff9f43">45.3994143</span>, <span style="color:#ff9f43">12.2744751</span>], [<span style="color:#ff9f43">45.3738553</span>, <span style="color:#ff9f43">12.2676086</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3579354</span>, <span style="color:#ff9f43">12.2614288</span>], [<span style="color:#ff9f43">45.3429763</span>, <span style="color:#ff9f43">12.2497559</span>], [<span style="color:#ff9f43">45.3198059</span>, <span style="color:#ff9f43">12.2408295</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2975921</span>, <span style="color:#ff9f43">12.2346497</span>], [<span style="color:#ff9f43">45.2802014</span>, <span style="color:#ff9f43">12.2408295</span>], [<span style="color:#ff9f43">45.257972</span>, <span style="color:#ff9f43">12.233963</span>],
</span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2038121</span>, <span style="color:#ff9f43">12.2504425</span>]]
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Polygon
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">500</span>, <span style="color:#78787e">*lagoon]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>: { <span style="color:#ff6ac1">type: BrownianMove, parameters</span>: [<span style="color:#ff9f43">0.0005</span>]}
</span></span></code></pre></div></div>
</div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/deployment/index.html">Deployment</a></li>
    <li><a class="term-link" href="./tags/gps/index.html">Gps</a></li>
    <li><a class="term-link" href="./tags/gpx/index.html">Gpx</a></li>
    <li><a class="term-link" href="./tags/node/index.html">Node</a></li>
    <li><a class="term-link" href="./tags/nodes/index.html">Nodes</a></li>
    <li><a class="term-link" href="./tags/traces/index.html">Traces</a></li>
  </ul>
</div>
  </header>

<h1 id="gps-traces">GPS Traces</h1>


<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Importing maps
  </summary>
  <div class="box-content">
<p>GPS traces require a <strong>geospatial environment</strong>. We prepared <a href="./howtos/simulation/environment/maps/index.html">a dedicated page</a> on the topic.</p>
  </div>
</details>
<p>GPS traces can be used to deploy nodes on a map.
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.maps.deployments/-from-g-p-s-trace/"><code>FromGPSTrace</code></a>
is a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-deployment/"><code>Deployment</code></a>
that takes care of setting the initial position of the nodes depending the first position of the GPS traces.</p>
<p>The class supports deploying more nodes than there are available traces by reusing them cyclically.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: OSMEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;vcm.pbf&#34;</span>, <span style="color:#ff6ac1">false</span>] <span style="color:#78787e"># Requires the file vcm.pbf in the classpath!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_pools</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">0.1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff6ac1">type</span>: ReproduceGPSTrace
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;gpsTrace&#34;</span>, <span style="color:#ff6ac1">true</span>, <span style="color:#5af78e">&#34;AlignToSimulationTime&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: FromGPSTrace
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">7</span>, <span style="color:#5af78e">&#34;gpsTrace&#34;</span>, <span style="color:#ff6ac1">true</span>, <span style="color:#5af78e">&#34;AlignToSimulationTime&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*move</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: StableForSteps
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">equalIntervals</span>: <span style="color:#ff9f43">5</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">checkInterval</span>: <span style="color:#ff9f43">100</span>
</span></span></code></pre></div></div>
</div>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Get GPS data for your experiments
  </summary>
  <div class="box-content">
<p>The great folks at <a href="https://openstreetmap.org" rel="external" target="_blank">OpenStreetMap</a> release GPS data for
<a href="https://planet.openstreetmap.org/gps/" rel="external" target="_blank">the whole planet</a>.
As per the map information,
regional extracts
are available
(the full data pack is otherwise larger than 50GB uncompressed).</p>
  </div>
</details>
<h3 id="alignment-of-time">Alignment of time</h3>
<p>Often, GPS traces are collected at different points in time.
When this is the case, a strategy must be concted to &ldquo;align&rdquo; them:
for instance, we may want all traces to be interpreted as beginning at the same time,
regardless of the actual time they were taken;
or we might want to discard the first hour of data;
or maybe we want to use them just as they are.</p>
<p>Alignment is performed by the subclasses of
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.gps/"><code>it.unibo.alchemist.boundary.gps</code></a></p>
<p>The strategies available to align time of GPS trace are the following:</p>
<h3 id="noalignment"><a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.gps.alignments/-no-alignment/"><code>NoAlignment</code></a></h3>
<p>No alignment is performed, traces are left untouched.</p>
<table>
  <thead>
      <tr>
          <th>Trace</th>
          <th>Original time samples</th>
          <th>Aligned time samples</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>A</td>
          <td>[2, 5]</td>
          <td>[2, 5]</td>
      </tr>
      <tr>
          <td>B</td>
          <td>[4, 6]</td>
          <td>[4, 6]</td>
      </tr>
  </tbody>
</table>
<h3 id="aligntofirsttrace"><a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.gps.alignments/-align-to-first-trace/"><code>AlignToFirstTrace</code></a>:</h3>
<p>All traces get aligned to the start time of the first trace,
keeping their relative distance.</p>
<table>
  <thead>
      <tr>
          <th>Trace</th>
          <th>Original time samples</th>
          <th>Aligned time samples</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>A</td>
          <td>[2, 5]</td>
          <td>[0, 3]</td>
      </tr>
      <tr>
          <td>B</td>
          <td>[4, 6]</td>
          <td>[2, 4]</td>
      </tr>
  </tbody>
</table>
<h3 id="aligntosimulationtime"><a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.gps.alignments/-align-to-simulation-time/"><code>AlignToSimulationTime</code></a>:</h3>
<p>Aligns all traces to the initial simulation time,
not preserving relative time differences.</p>
<table>
  <thead>
      <tr>
          <th>Trace</th>
          <th>Original time samples</th>
          <th>Aligned time samples</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>A</td>
          <td>[2, 5]</td>
          <td>[0, 3]</td>
      </tr>
      <tr>
          <td>B</td>
          <td>[4, 6]</td>
          <td>[0, 2]</td>
      </tr>
  </tbody>
</table>
<h3 id="aligntotime"><a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.gps.alignments/-align-to-time/"><code>AlignToTime</code></a>:</h3>
<p>Aligns all traces with the given time in seconds from Epoch.
Discards all points before the provided epoch,
and shifts back all points located after that time to the initial
simulation time, preserving relative distances</p>
<table>
  <thead>
      <tr>
          <th>Trace</th>
          <th>Provided Epoch</th>
          <th>Original time samples</th>
          <th>Aligned time samples</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>A</td>
          <td>3</td>
          <td>[2, 5]</td>
          <td>[2]</td>
      </tr>
      <tr>
          <td>B</td>
          <td>3</td>
          <td>[4, 6]</td>
          <td>[1, 3]</td>
      </tr>
  </tbody>
</table>
<h2 id="examples">Examples</h2>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: OSMEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;vcm.pbf&#34;</span>, <span style="color:#ff6ac1">false</span>] <span style="color:#78787e"># Requires the file vcm.pbf in the classpath!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_pools</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">0.1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff6ac1">type</span>: ReproduceGPSTrace
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;gpsTrace&#34;</span>, <span style="color:#ff6ac1">true</span>, <span style="color:#5af78e">&#34;AlignToSimulationTime&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: FromGPSTrace
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">7</span>, <span style="color:#5af78e">&#34;gpsTrace&#34;</span>, <span style="color:#ff6ac1">true</span>, <span style="color:#5af78e">&#34;AlignToSimulationTime&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*move</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: StableForSteps
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">equalIntervals</span>: <span style="color:#ff9f43">5</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">checkInterval</span>: <span style="color:#ff9f43">100</span>
</span></span></code></pre></div></div>
</div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/deployment/index.html">Deployment</a></li>
    <li><a class="term-link" href="./tags/graph/index.html">Graph</a></li>
    <li><a class="term-link" href="./tags/graphstream/index.html">Graphstream</a></li>
    <li><a class="term-link" href="./tags/node/index.html">Node</a></li>
    <li><a class="term-link" href="./tags/nodes/index.html">Nodes</a></li>
    <li><a class="term-link" href="./tags/scale-free/index.html">Scale Free</a></li>
  </ul>
</div>
  </header>

<h1 id="graphs">Graphs</h1>

<p><a href="#R-image-c48935f817e1860ce76a5f90cfaa47ae" class="lightbox-link"><img alt="Arbitrary graphs" class="lazy lightbox figure-image" loading="lazy" src="./images/simulator/graphstream.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c48935f817e1860ce76a5f90cfaa47ae"><img alt="Arbitrary graphs" class="lazy lightbox lightbox-image" loading="lazy" src="./images/simulator/graphstream.png"></a></p>
<p>Alchemist supports <a href="https://graphstream-project.org/" rel="external" target="_blank">Graphstream</a>-based deployments,
allowing for rich graphs to be used as node deployments.</p>
<p>Deployments of this kind can be instanced through
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-graph-stream-deployment/"><code>GraphStreamDeployment</code></a>.</p>
<p>The most important parameter is the graph name, which must be a valid graph
<a href="https://www.javadoc.io/doc/org.graphstream/gs-algo/latest/org/graphstream/algorithm/generator/Generator.html" rel="external" target="_blank"><code>Generator</code></a>
name in GraphStream.
If the generator&rsquo;s name ends in <code>Generator</code>, the last part can be omitted.
The trailing parameters are passed directly to the constructor of the generator.</p>
<p>In the following example, the deployment is used to generate a
<a href="https://doi.org/10.1016/j.ipl.2012.09.008" rel="external" target="_blank">Lobster graph</a>:</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: GraphStreamDeployment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">400</span>, <span style="color:#5af78e">&#34;Lobster&#34;</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">10</span>]
</span></span></code></pre></div></div>
</div>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/csv/index.html">Csv</a></li>
    <li><a class="term-link" href="./tags/data/index.html">Data</a></li>
    <li><a class="term-link" href="./tags/data-analysis/index.html">Data Analysis</a></li>
    <li><a class="term-link" href="./tags/export/index.html">Export</a></li>
    <li><a class="term-link" href="./tags/mongodb/index.html">Mongodb</a></li>
  </ul>
</div>
  </header>

<h1 id="export-data">Export data</h1>

<p>The simulator provides tools for exporting data automatically.
An  export section on the simulation file instructs which data is considered interesting,
and should be thus exported with the selected sampling frequency.
Data can be exported separately for each node, or can be aggregated on the fly using any
univariate statistic function (e.g., mean, sum, product, percentile, median&hellip;).
The treatment of missing or non-finite values can be specified as well. Results
are exported in comma-separated values files, easily importable in a variety of
data analysis tools.</p>
<p>Data export is realized by
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-exporter/"><code>Exporter</code></a>s.
Exporters are defined in the <a href="./reference/yaml/index.html#export"><code>export</code></a> section of the configuration,
by specifying their <a href="./reference/yaml/index.html#exportertype"><code>type</code></a>,
their constructor <a href="./reference/yaml/index.html#parameters"><code>parameters</code></a>,
and the <a href="./reference/yaml/index.html#data"><code>data</code></a> they should export.
The elements under <a href="./reference/yaml/index.html#data"><code>data</code></a> must be instanceable implementations of
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-extractor/"><code>Extractor</code></a>.</p>
<h2 id="export-data-as-csv">Export data as CSV</h2>
<p>Alchemist can export data to a custom comma-separated-values format.
This is the classic way data is exported from the simulator, and relies on
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.exporters/-c-s-v-exporter/"><code>CSVExporter</code></a>.</p>
<h3 id="examples">Examples</h3>
<ul>
<li>Export of the output of a Protelis program every 3 simulated seconds:

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;test_export_interval&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">interval</span>: <span style="color:#ff9f43">3.0</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span></code></pre></div></div>
  </div></li>
<li>Export data to both a csv file and a MongoDB instance:

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;test_exporters_loading&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">interval</span>: <span style="color:#ff9f43">2.0</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: MongoDBExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">uri</span>: <span style="color:#5af78e">&#34;mongodb://localhost:27017/&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">dbName</span>: <span style="color:#5af78e">&#34;test&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">interval</span>: <span style="color:#ff9f43">2.5</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span></code></pre></div></div>
  </div></li>
<li>Export of the <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.extractors/-mean-squared-error/"><code>MeanSquaredError</code></a> of some custom properties:

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;test-custom-export&#34;</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: MeanSquaredError
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [ <span style="color:#5af78e">&#34;A&#34;</span>, <span style="color:#5af78e">&#34;A&#34;</span>, product, &#34;A&#34;, &#34;A&#34; ]
    </span></span></code></pre></div></div>
    </div></li>
<li>Export of the output of a Protelis program, values generated from nodes get accumulated into mean, max, min, variance, and median:

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      import java.io.File
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      File(&#34;../..&#34;).walkTopDown().find { image_name in it.name }?.absolutePath ?: image_name</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>]
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;00-testing_csv_export&#34;</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ]
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;fixed-decimals&#34;</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Time
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">precision</span>: <span style="color:#ff9f43">2</span>
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">property</span>: <span style="color:#5af78e">&#34;self.nextRandomDouble()&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">precision</span>: <span style="color:#ff9f43">2</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ]
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">5</span>] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
  </span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: AfterTime
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">10</span></span></span></code></pre></div></div>
  </div></li>
</ul>
<h2 id="export-data-to-a-mongodb-instance">Export data to a MongoDB instance</h2>
<p>Alchemist can send data directly to a pre-existing MongoDB instance through its
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.exporters/-mongo-d-b-exporter/"><code>MongoDBExporter</code></a>.</p>
<h3 id="examples-1">Examples</h3>
<ul>
<li>Export data to both a csv file and a MongoDB instance:

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;test_exporters_loading&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">interval</span>: <span style="color:#ff9f43">2.0</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: MongoDBExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">uri</span>: <span style="color:#5af78e">&#34;mongodb://localhost:27017/&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">dbName</span>: <span style="color:#5af78e">&#34;test&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">interval</span>: <span style="color:#ff9f43">2.5</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span></code></pre></div></div>
  </div></li>
<li>Export of the output of a Protelis program, values generated from nodes get accumulated into mean, max, min, variance, and median:

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      import java.io.File
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      File(&#34;../..&#34;).walkTopDown().find { image_name in it.name }?.absolutePath ?: image_name</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>]
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: MongoDBExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">uri</span>: <span style="color:#5af78e">&#34;mongodb://localhost:27017/&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">dbName</span>: <span style="color:#5af78e">&#34;test&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">interval</span>: <span style="color:#ff9f43">2.0</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ]
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
  </span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: AfterTime
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">3</span>
  </span></span></code></pre></div></div>
  </div></li>
</ul>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/api/index.html">Api</a></li>
    <li><a class="term-link" href="./tags/graphql/index.html">Graphql</a></li>
  </ul>
</div>
  </header>

<h1 id="monitor-and-control-simulations-through-graphql">Monitor and Control Simulations through GraphQL</h1>

<p>A simulation in Alchemist can be monitored and controlled by a set of GraphQL
APIs which provide a standard and flexible way to query the system.</p>
<p>In the following guide, you will learn how to use the API service for having a
simple overview of the running simulation thanks to the playground
<a href="https://github.com/graphql/graphiql" rel="external" target="_blank">GraphiQL</a> with the ability to control the
simulation, or to develop an Alchemist sub-module that uses the API service.</p>
<h2 id="use-graphql-service-inside-alchemist">Use GraphQL service inside Alchemist</h2>
<p>In order to attach the GraphQL API service to a simulation, you must specify
the <code>GraphQLMonitor</code> in the simulation&rsquo;s YAML file, providing the
server&rsquo;s host and port (if not specified, default URL is: <code>127.0.0.1:8081</code>) as
shown in the following example:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#ff6ac1">monitors</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: GraphQLMonitor
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">host</span>: &lt;my-custom-host&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">port</span>: &lt;my-custom-port&gt;</span></span></code></pre></div>
<p>Once the YAML file is ready, the simulation can be started as usual.</p>
<h3 id="simulations-overview-in-the-web-browser">Simulation&rsquo;s overview in the Web Browser</h3>
<p>Once the simulation is up and running, you can visit on your local web browser
the URL: <code>http://&lt;my-custom-host&gt;:&lt;my-custom-port&gt;/graphiql</code>. In this GraphiQL
playground you will be able to lookup all the operations and types structure
that are defined in the GraphQL schema, thanks to the documentation on the
sidebar, or execute operations defining the structure of the data that you will
need.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/monitors/index.html">Monitors</a></li>
    <li><a class="term-link" href="./tags/output-monitors/index.html">Output Monitors</a></li>
    <li><a class="term-link" href="./tags/simulation-monitoring/index.html">Simulation Monitoring</a></li>
  </ul>
</div>
  </header>

<h1 id="monitoring-simulations-through-custom-output-monitors">Monitoring Simulations through Custom Output Monitors</h1>

<p>In Alchemist, custom monitors provide a flexible way to observe the progression of simulations and respond to standard hooks. To set up a custom monitor, follow the steps below:</p>
<ol>
<li>
<p><strong>Extend the OutputMonitor Class:</strong>
Create a new class extending the <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-output-monitor/"><code>OutputMonitor</code></a> class.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#ff6ac1">package</span> it.unibo.foo
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">import</span> it.unibo.alchemist.model.boundary.OutputMonitor
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">import</span> it.unibo.alchemist.model.interfaces.Position
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">class</span> <span style="color:#f3f99d">FooMonitor</span>&lt;T, P : Position&lt;P&gt;&gt; : OutputMonitor&lt;T, P&gt;()</span></span></code></pre></div>
</li>
<li>
<p><strong>Update Simulation Configuration:</strong>
Add your custom monitor to the simulation configuration file.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">monitors</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: it.unibo.foo.FooMonitor</span></span></code></pre></div>
</li>
</ol>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
  </header>

<h1 id="program-nodes">Program Nodes</h1>

<h3 id="configuration-and-programming-of-the-node-behavior">Configuration and programming of the node behavior</h3>
<h1 id="program-nodes">Program Nodes</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/simulation/program/move-on-maps/index.html">Move nodes on maps</a><p>How to move node around in geospatial environments.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/simulation/program/content/index.html">Node contents</a><p>Definition of the initial content of nodes.</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Program Nodes</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/behavior/index.html">Behavior</a></li>
    <li><a class="term-link" href="./tags/geospatial/index.html">Geospatial</a></li>
    <li><a class="term-link" href="./tags/gps/index.html">Gps</a></li>
    <li><a class="term-link" href="./tags/interpolation/index.html">Interpolation</a></li>
    <li><a class="term-link" href="./tags/maps/index.html">Maps</a></li>
    <li><a class="term-link" href="./tags/program/index.html">Program</a></li>
    <li><a class="term-link" href="./tags/reaction/index.html">Reaction</a></li>
  </ul>
</div>
  </header>

<h1 id="move-nodes-on-maps">Move nodes on maps</h1>

<p>There are several possibilities to move nodes in gep-spatial environment.</p>
<h2 id="ignore-geo-spatial-information">Ignore geo-spatial information</h2>
<p><a href="#R-image-8a3304e2d555f86e56871d91b75fbf56" class="lightbox-link"><img alt="orthodromes" class="lazy lightbox figure-image" loading="lazy" src="./howtos/simulation/program/move-on-maps/no_map_information.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8a3304e2d555f86e56871d91b75fbf56"><img alt="orthodromes" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/simulation/program/move-on-maps/no_map_information.png"></a></p>
<p>This is of course the easiest way:
all data about the map is ignored.
This strategy makes sense if you need a geo-spatial coordinate system,
but you are simulating objects that are mostly or entirely unaffected by the street-level structure
(buildings, roads, etc.);
for instance, if the simulation involves unmanned aerial vehicles.
There is no need of <a href="./howtos/simulation/environment/maps/index.html">importing actual map data</a> when navigating this way.</p>
<p>This kind of navigation can be realized using
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/-move-to-target/"><code>MoveToTarget</code></a>.</p>
<h3 id="examples">Examples</h3>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> <span style="color:#78787e"># You can give the anchor any name, assigning the name of the variable is convenient, though</span>
</span></span><span style="display:flex;"><span>    {<span style="color:#ff6ac1">min: 0, max: 1, step: 1, default</span>: <span style="color:#ff9f43">0</span>} <span style="color:#78787e"># This variable ranges in [0, 9], steps of 1, defaulting to 0</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">10</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_program-pools</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">compute-gradient</span>: <span style="color:#78787e">&amp;gradient</span>
</span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">time-distribution: 1, program</span>: <span style="color:#5af78e">&#34;advanced:converge&#34;</span> }
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">move</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: { <span style="color:#ff6ac1">type: ExponentialTime, parameters</span>: [<span style="color:#ff9f43">1</span>] }
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>: { <span style="color:#ff6ac1">type: MoveToTarget, parameters</span>: [destination, 1] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>: { <span style="color:#ff6ac1">type: Circle, parameters: [50, 0, 0, 5], programs</span>: [<span style="color:#78787e">*gradient,</span> <span style="color:#78787e">*move]</span> }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>: { <span style="color:#ff6ac1">type: AfterTime, parameters</span>: [<span style="color:#ff9f43">20</span>] }
</span></span></code></pre></div></div>
</div>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">time</span>: <span style="color:#78787e">&amp;time</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Flag
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff6ac1">false</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">small</span>: <span style="color:#78787e">&amp;small</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Flag
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff6ac1">false</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">n</span>: <span style="color:#78787e">&amp;n</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">100</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">range</span>: <span style="color:#78787e">&amp;range</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">30</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">width</span>: <span style="color:#78787e">&amp;w</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">200</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">height</span>: <span style="color:#78787e">&amp;h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">20</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">freq</span>: <span style="color:#78787e">&amp;freq</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">sp</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">bp</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">retain</span>: <span style="color:#78787e">&amp;retain</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">1</span> / minfreq
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">fc</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;time ? (small ? sp : bp) : 0&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">minfreq</span>: <span style="color:#78787e">&amp;minfreq</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;freq * (1 - fc)&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">maxfreq</span>: <span style="color:#78787e">&amp;maxfreq</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;freq * (1 + fc)&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">speed</span>: <span style="color:#78787e">&amp;speed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;if (time as Boolean) 0 else 1&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">min</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">max</span>: <span style="color:#ff9f43">199</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">step</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">default</span>: <span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#78787e">*seed</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#78787e">*seed</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*range]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_pools</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;program</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: RandomDiracComb
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*minfreq,</span> <span style="color:#78787e">*maxfreq]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff6ac1">type</span>: RunProtelisProgram
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;1&#34;</span>, <span style="color:#78787e">*retain]</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff6ac1">null</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;program2</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: tomacs
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff6ac1">null</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff6ac1">type</span>: MoveToTarget
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [target, *speed]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*n,</span> <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#78787e">*w,</span> <span style="color:#78787e">*h]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: time
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*time</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: speed
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*speed</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: small
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*small</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*program</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*move</span>
</span></span></code></pre></div></div>
</div>
<p><strong>From the showcase</strong></p>
<p><a href="./showcase/2020-jcee/index.html">Optimal resilient distributed data collection in mobile edge environments</a></p>
<h2 id="navigate-along-the-streets">Navigate along the streets</h2>
<p><a href="#R-image-195923d533d8cab5bc5d2b99e07f9584" class="lightbox-link"><img alt="navigate along the streets" class="lazy lightbox figure-image" loading="lazy" src="./howtos/simulation/program/move-on-maps/use_map_information.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-195923d533d8cab5bc5d2b99e07f9584"><img alt="navigate along the streets" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/simulation/program/move-on-maps/use_map_information.png"></a></p>
<p>Moves along the available paths, depending on the specific vehicle being used.
Requires actual geo-spatial information.</p>
<p>This kind of navigation can be realized using
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.maps.actions/-target-map-walker/"><code>TargetMapWalker</code></a>.</p>
<h2 id="reproduce-a-gps-trace">Reproduce a GPS Trace</h2>
<p><a href="#R-image-157ea11e6cfb402fc40a394b07831ea3" class="lightbox-link"><img alt="reproduce a GPS trace" class="lazy lightbox figure-image" loading="lazy" src="./howtos/simulation/program/move-on-maps/reproduce_gps_trace.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-157ea11e6cfb402fc40a394b07831ea3"><img alt="reproduce a GPS trace" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/simulation/program/move-on-maps/reproduce_gps_trace.png"></a></p>
<p>Ignores the map geospatial information and relies on a GPS trace instead,
starting from its first position and reaching the last,
navigating from point to point in &ldquo;straight lines&rdquo;
(on maps, these are actually <a href="https://en.wikipedia.org/wiki/Great-circle_distance" rel="external" target="_blank">orthodromes</a>).</p>
<p>This kind of navigation can be realized using
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.maps.actions/-reproduce-g-p-s-trace/"><code>ReproduceGPSTrace</code></a>.</p>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Deploying nodes using GPS traces
  </summary>
  <div class="box-content">
<p>You probably want your nodes to <em>start</em> from the position that marks the beggining of a trace.
We discussed <a href="./howtos/simulation/deploy/gps/index.html">how to do so here</a>.</p>
  </div>
</details>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Time alignment of GPS traces
  </summary>
  <div class="box-content">
<p>Navigation with GPS traces usually require that they get correctly aligned with time,
especially if they come from samples taken at different times.
We discussed the alignment of GPS traces <a href="./howtos/simulation/deploy/gps/index.html#alignment-of-time">here</a>,
the same alignment system used for importing traces is used for using them during navigation.</p>
  </div>
</details>
<h3 id="examples-1">Examples</h3>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: OSMEnvironment
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;vcm.pbf&#34;</span>, <span style="color:#ff6ac1">false</span>] <span style="color:#78787e"># Requires the file vcm.pbf in the classpath!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_pools</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">pool</span>: <span style="color:#78787e">&amp;move</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">0.1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff6ac1">type</span>: ReproduceGPSTrace
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;gpsTrace&#34;</span>, <span style="color:#ff6ac1">true</span>, <span style="color:#5af78e">&#34;AlignToSimulationTime&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: FromGPSTrace
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">7</span>, <span style="color:#5af78e">&#34;gpsTrace&#34;</span>, <span style="color:#ff6ac1">true</span>, <span style="color:#5af78e">&#34;AlignToSimulationTime&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#78787e">*move</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: StableForSteps
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">equalIntervals</span>: <span style="color:#ff9f43">5</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">checkInterval</span>: <span style="color:#ff9f43">100</span>
</span></span></code></pre></div></div>
</div>
<h3 id="interpolate-gps-traces-with-street-data">Interpolate GPS traces with street data</h3>
<p><a href="#R-image-4e5e50e98f0d4119b283c509abf64532" class="lightbox-link"><img alt="interpolate GPS traces" class="lazy lightbox figure-image" loading="lazy" src="./howtos/simulation/program/move-on-maps/interpolate_gps_trace_with_street_data.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4e5e50e98f0d4119b283c509abf64532"><img alt="interpolate GPS traces" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/simulation/program/move-on-maps/interpolate_gps_trace_with_street_data.png"></a></p>
<p>Navigates along a GPS trace, but computes the point-to-point distance using the navigation system,
rather than &ldquo;straight lines&rdquo; (<a href="https://en.wikipedia.org/wiki/Great-circle_distance" rel="external" target="_blank">orthodromes</a>).</p>
<p>This kind of navigation can be realized using
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.maps.actions/-g-p-s-trace-walker/"><code>GPSTraceWalker</code></a>.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/concentration/index.html">Concentration</a></li>
    <li><a class="term-link" href="./tags/content/index.html">Content</a></li>
    <li><a class="term-link" href="./tags/deployment/index.html">Deployment</a></li>
    <li><a class="term-link" href="./tags/molecule/index.html">Molecule</a></li>
    <li><a class="term-link" href="./tags/node/index.html">Node</a></li>
    <li><a class="term-link" href="./tags/nodes/index.html">Nodes</a></li>
  </ul>
</div>
  </header>

<h1 id="node-contents">Node contents</h1>

<p>It is possible to set the content of the nodes in a deployment.
Node contents are defined in terms of molecules and their corresponding concentration.
As such, they depend on the specific <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/"><code>Incarnation</code></a> in use.</p>
<p>This is done by listing the contents under <a href="./reference/yaml/index.html#deploymentcontents"><code>deployments.contents</code></a>,
specifying a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a> name and its <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-concentration/"><code>Concentration</code></a>.</p>
<p>Unless the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">type/parameter syntax</a> is used, the data gets processed
by the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/"><code>Incarnation</code></a>
through the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/create-molecule.html"><code>Incarnation.createMolecule</code></a>
and
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/create-concentration.html"><code>Incarnation.createConcentration</code></a>
methods, respectively.</p>
<p>In the following example, three molecules are created and injected into all nodes deployed in the scenario:</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">7</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_gradient</span>: <span style="color:#78787e">&amp;gradient</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: RunProtelisProgram
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [distanceTo, 1.01]
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>,<span style="color:#ff9f43">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: source
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">false</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: enabled
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">true</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: data
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff9f43">1</span> / 0
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*gradient</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: StepCount
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">5000</span>
</span></span></code></pre></div></div>
</div>
<p>By default, all nodes in the deployment will be injected with the required contents.
It is possible, though, to select only a subset of them through the <a href="./reference/yaml/index.html#contentin"><code>in</code></a> keyword,
which expects enough information to be able to build a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-position-based-filter/"><code>PositionBasedFilter</code></a>
through the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<p>In the following example, only molecules located inside a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.positionfilters/-rectangle/"><code>Rectangle</code></a>
get the <code>ball</code> molecule:</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">0.5</span>] }
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>] <span style="color:#78787e"># A perturbed grid of devices</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;{hit, 0}&#34;</span> <span style="color:#78787e"># Everywhere, no one has been hit</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>: { <span style="color:#ff6ac1">type: Rectangle, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>] } <span style="color:#78787e"># Inside this shape...</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: ball <span style="color:#78787e"># ...every node has a ball</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># This is a frequency, time distribution type is left to the incarnation</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># &#39;program&#39; specs are passed down to the incarnation for being interpreted as reactions</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{ball} {hit, N} --&gt; {hit, N + 1} {launching}&#34;</span> <span style="color:#78787e"># If hit, count the hit</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{launching} --&gt; +{ball}&#34;</span> <span style="color:#78787e"># As soon as possible, throw the ball to a neighbor</span>
</span></span></code></pre></div></div>
</div>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/drone/index.html">Drone</a></li>
    <li><a class="term-link" href="./tags/smart-camera/index.html">Smart Camera</a></li>
  </ul>
</div>
  </header>

<h1 id="smart-cameras-and-drones">Smart cameras and drones</h1>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/yuaY_8Vr3oc?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>
<h2 id="prerequisites">Prerequisites</h2>
<p>This guide assumes you already know
<a href="./explanation/metamodel/index.html">the Alchemist metamodel</a>
and that you keep the <a href="./reference/yaml/index.html">YAML reference</a> at your fingertips.</p>
<h2 id="smartcam">Smartcam</h2>
<p>A smartcam is a camera able to detect objects of interest and to communicate with other smartcameras.
In many cases it is also assumed to be mounted on a drone as to be able to freely move around in the environment.
In Alchemist, smartcams are simulated as
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-node/"><code>Node</code></a>s
equipped with specific
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-reaction/"><code>Reaction</code></a>s
defining their capabilities and behaviour.
Single capabilities are expressed as
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-action/"><code>Action</code></a>s.</p>
<h3 id="vision">Vision</h3>
<p>The most basic example of a camera is a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-node/"><code>Node</code></a>
containing a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-reaction/"><code>Reaction</code></a>
with the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/-camera-see/"><code>CameraSee</code></a>
action.</p>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>Note: the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/-camera-see/"><code>CameraSee</code></a>
action currently
only works in 2D environments supporting euclidean geometry,
for example
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.environments/-continuous2-d-environment/"><code>Continuous2DEnvironment</code></a>.</p>
  </div>
</details>
<p><a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/-camera-see/"><code>CameraSee</code></a>
requires the following parameters:</p>
<ol>
<li>the distance of the field of view,</li>
<li>its angle in degrees, and</li>
<li>the name of the <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a> which will contain the ouput,
namely, the list of nodes contained in the field of view,
which is updated every time the action is triggered,</li>
<li>optionally, a fourth parameter can be defined in order to filter the output,
such parameter is expected to be the name of a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a>
which has to be contained in a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-node/"><code>Node</code></a> for it to be visible,
e.g., if it is <code>wanted</code> then only nodes containing a molecule named <code>wanted</code> will be seen.</li>
</ol>
<h3 id="movement">Movement</h3>
<p>The ability to move can be defined using movement actions such as
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/-move-to-target/"><code>MoveToTarget</code></a>
or
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/-follow-at-distance/"><code>FollowAtDistance</code></a>.</p>
<p><a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/-move-to-target/"><code>MoveToTarget</code></a>
expects 2 parameters:</p>
<ol>
<li>the name of the molecule containing the target&rsquo;s position, and</li>
<li>the movement speed.</li>
</ol>
<p><a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/-follow-at-distance/"><code>FollowAtDistance</code></a> requires:</p>
<ol>
<li>the name of the molecule containing the target&rsquo;s position,</li>
<li>the distance to mantain from the target, and</li>
<li>the movement speed.</li>
</ol>
<h3 id="rotation">Rotation</h3>
<p><a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.actions/-head-toward-target/"><code>HeadTowardTarget</code></a>
can be used to instruct cameras to always face the specified target.</p>
<p><a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.physics.actions/-spin/"><code>Spin</code></a>
only requires the angular speed and will make the camera spin around itself like a radar.</p>
<h3 id="other-behavior">Other behavior</h3>
<p>Without defining an algorithm the cameras wouldn&rsquo;t do anything interesting.
Algorithms can be definied in a moltitude of different ways, depending on the incarnation.
Usually, camera readings are used as sensors that get read by,
e.g., Protelis or Scafi programs.</p>
<h3 id="further-references">Further references</h3>
<p><a href="https://doi.org/10.1145/3131885.3131909" rel="external" target="_blank">Lukas Esterle, Peter R. Lewis<br>
Online Multi-object k-coverage with Mobile Smart Cameras<br>
In Proceedings of the International Conference on Distributed Smart Cameras (ICDSC). Nominated for best paper. 2017.</a></p>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="execution">Execution</h1>

<h3 id="run-batches-locally-or-in-a-distributed-fashion">Run batches, locally or in a distributed fashion</h3>
<h1 id="execution">Execution</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/execution/swing-effects/index.html">Customize the Swing GUI</a><p>Customize the look of your simulation.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/termination/index.html">Define the termination criteria</a><p>Decide when the simulator should stop and consider the simulation concluded.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/multivesta/index.html">MultiVeStA</a><p>How to integrate MultiVesta in Alchemist</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/batch/index.html">Parameter Sweeping with simulation batches</a><p>Execute multiple instances of a simulation with different parameters</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/execution/engine/index.html">Simulation Engine Configuration</a><p>Available simulation engine configurations.</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Execution</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/draw/index.html">Draw</a></li>
    <li><a class="term-link" href="./tags/drawing/index.html">Drawing</a></li>
    <li><a class="term-link" href="./tags/effects/index.html">Effects</a></li>
    <li><a class="term-link" href="./tags/graphics/index.html">Graphics</a></li>
  </ul>
</div>
  </header>

<h1 id="customize-the-swing-gui">Customize the Swing GUI</h1>

<p>T.B.D.</p>
<h3 id="drawing-navigation-graphs">Drawing navigation graphs</h3>
<p>The GUI includes a simple effect to draw the navigation graph of an
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.cognitive.environments/-image-environment-with-graph/"><code>ImageEnvironmentWithGraph</code></a>
in the gui is available as well.
Its name is <code>DrawNavigationGraph</code>,
you can just select it from the available effects in the gui to have your graph drawn.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/termination/index.html">Termination</a></li>
    <li><a class="term-link" href="./tags/time/index.html">Time</a></li>
  </ul>
</div>
  </header>

<h1 id="define-the-termination-criteria">Define the termination criteria</h1>

<p>Alchemist supports the possibility to write termination conditions for any simulation.
Termination conditions are checked after every event, and, if met, cause the immediate termination of a simulation.
Termination conditions are expected to be found in the {{ anchor(&lsquo;it.unibo.alchemist.model.implementations.terminators&rsquo;) }} package.</p>
<p>They are defined in the <a href="./reference/yaml/index.html#terminate"><code>terminate</code></a> section of the configuration file.
Multiple terminators are allowed, the first terminator matching causes the termination of the simulation (they are in and).</p>
<h2 id="terminating-the-simulation-after-some-time">Terminating the simulation after some time</h2>
<p>One of the simplest terminators availables allows for declaring a simulation completed when a certain simulated time is reached.
In the following example, it is used in conjunction with a number of variables, showing how it&rsquo;s possible to use such
variables to produce batches of simulations terminating at different times.</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">30</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;source&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">true</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">107.96487911806524</span>, <span style="color:#ff9f43">102.49167432603535</span>, <span style="color:#ff9f43">10</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># This is a frequency</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">           import protelis:coord:spreading
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">           distanceTo(self.getDeviceUID().getId() == 0)</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: send
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: AfterTime
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">1</span>
</span></span></code></pre></div></div>
</div>
<h2 id="terminating-the-simulation-if-the-environment-is-not-changing">Terminating the simulation if the environment is not changing</h2>
<p>A terminator is provided for terminating when a simulation is &ldquo;stable&rdquo;
(nothing changes in terms of positions and nodes&rsquo; content).
The class implementing it is <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.terminators/-stable-for-steps/"><code>StableForSteps</code></a>.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/analysis/index.html">Analysis</a></li>
    <li><a class="term-link" href="./tags/execution/index.html">Execution</a></li>
    <li><a class="term-link" href="./tags/multivesta/index.html">Multivesta</a></li>
  </ul>
</div>
  </header>

<h1 id="multivesta">MultiVeStA</h1>

<p>Once you have your simulation project configured as you want, you need to:</p>
<ol>
<li>Add dependency on the multivesta jar <code>implementation(files(&quot;libs/multivesta.jar&quot;))</code>. You can require the jar by going to <a href="https://github.com/andrea-vandin/MultiVeStA" rel="external" target="_blank">MultiVesta&rsquo;s repository</a></li>
<li>Include the following dependency in build.gradle.kts <code>implementation(&quot;it.unibo.alchemist:alchemist-multivesta-adapter&quot;)</code></li>
<li>Copy the <code>AlchemistSimState</code> class from current repo (you can reach it in following location <em>alchemist-multivesta-adapter/dist/AlchemistSimState.kt</em>) and paste it in the package you prefer</li>
<li>Set the main class as follows <code>mainClass.set(&quot;it.unibo.alchemist.multivesta.adapter.AlchemistMultiVesta&quot;)</code>, inside the JavaExec Gradle task</li>
<li>When you configure Alchemist arguments with Gradle <code>args</code> method, add another <code>args</code> call after traditional Alchemist arguments and pass all MultiVeStA arguments in a single string with key <code>&quot;-mv&quot;</code>, e.g. <code>args(&quot;-mv&quot;, &quot;-c -sots 1 -bs 30 -a 0.05 -ds [0.1] -l 12 com.example.AlchemistSimState -f myquery.multiquatex&quot;)</code>.<br> <strong>Important</strong>: MultiVeStA arguments must include the fully qualified name of the class you have copied on point 3 (in the example it is <code>-com.example.AlchemistSimState</code>) and the desired multiquatex file (in the example it is <code>-f myquery.multiquatex</code>)</li>
<li>Add <code>MultiVestaExporter</code> to your Alchemist configuration file, specifying the desired Extractor type: it will supply all available properties to MultiVeStA</li>
</ol>
<p>If you prefer avoiding to add the exporter in Alchemist configuration file, you can add the Alchemist argument <code>-e ExporterClass</code>, that will use such exporter to supply the desired observation to MultiVeStA.</p>
<p>You are now ready to start your simulation as usually with Gradle JavaExec task!</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/batch/index.html">Batch</a></li>
    <li><a class="term-link" href="./tags/dry/index.html">Dry</a></li>
    <li><a class="term-link" href="./tags/variables/index.html">Variables</a></li>
  </ul>
</div>
  </header>

<h1 id="parameter-sweeping-with-simulation-batches">Parameter Sweeping with simulation batches</h1>

<p>In some cases you may need to test the same simulation configuration
with different <em>parameters</em>. Suppose for example that you want to see what
happens when you place a bunch of pedestrian in a circle
(for sake of semplicity we&rsquo;ll ignore their behavior).
You may want to
observe the scenario with 50 pedestrians placed in a 5 meters radius circle.
Then you may like to observe it with 100 pedestrian and perhaps by changing
the circle radius also. Instead of re-writing the configuration file over-and-over
for each parameter combination, Alchemist offers the possibility to write the
configuration once, and it will then derive a batch of simulations.the same configuration</p>
<h2 id="launching-batch-simulations">Launching batch simulations</h2>
<p>To exploit this mechanism, you must declare the &ldquo;parameters&rdquo;
as <strong>variables</strong>. In our example, they would be the <em>number of pedestrian</em> and
the <em>radius of the circle</em> where to place them. Let&rsquo;s write the configuration file,
specifing that we want to test the simulation with 10, 30, 50, 70, 90 pedestrians
and a 5, 10, 15 meters circle radius:</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">pedestrianNumber</span>: <span style="color:#78787e">&amp;pedestrianNumber</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: LinearVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">10</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">circleRadius</span>: <span style="color:#78787e">&amp;cicleRadius</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: LinearVariable
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*pedestrianNumber,</span> <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#78787e">*cicleRadius]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span>]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Cognitive2D
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: DiracComb
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [ <span style="color:#ff9f43">1.0</span> ]
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: BlendedSteering
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;time_export&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">interval</span>: <span style="color:#ff9f43">1.5</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
</span></span><span style="display:flex;"><span>      - time
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: StableForSteps
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">30</span>, <span style="color:#ff9f43">25</span>]
</span></span></code></pre></div></div>
</div>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>To understand how variables work refer to <a href="./howtos/simulation/variables/index.html">this page</a>.
You may also want to learn how to <a href="./howtos/simulation/export/index.html">export data</a>
and specifying <a href="./howtos/execution/termination/index.html">termination criteria</a>.</p>
  </div>
</details>
<p>Now we can launch the batch of simulations by providing the simulator the following command-line arguments:</p>
<ul>
<li><code>-b</code>: enable batch mode</li>
<li><code>-var pedestrianNumber</code>: all values of variable <code>pedestrianNumber</code> will be tested</li>
<li><code>-var circleRadius</code>: all values of variable <code>circleRadius</code> will be tested</li>
</ul>
<p>Under the hood, the simulator will compute the cartesian product of the all possible values of the variables selected with the <code>-var</code> option.
Variables not selected for the batch will have their default value.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/batch/index.html">Batch</a></li>
    <li><a class="term-link" href="./tags/configuration/index.html">Configuration</a></li>
    <li><a class="term-link" href="./tags/engine/index.html">Engine</a></li>
    <li><a class="term-link" href="./tags/parallel/index.html">Parallel</a></li>
  </ul>
</div>
  </header>

<h1 id="simulation-engine-configuration">Simulation Engine Configuration</h1>

<h2 id="engine-configuration">Engine Configuration</h2>
<p>The default Alchemist execution requires no special configuration,
however different engine implementations are available.</p>
<p>In order to configure a different engine, simply add an EngineConfiguration object into
the simulation configuration file as per the alchemist
<a href="https://alchemistsimulator.github.io/reference/yaml/index.html" rel="external" target="_blank">Arbitrary class loading system</a>.</p>
<h3 id="parallel-batch-engines">Parallel Batch Engines</h3>
<p>Parallel batch engine is an implementaion of Alchemist&rsquo;s base engine
that speeds up the computations by processing event batches
in parallel <strong>at the price of determinism</strong>.</p>
<p>All batch engine implementations require the following parameters:</p>
<ul>
<li>outputReplayStrategy - determines how the output monitors get notified after the
batch has been processed. Available values:
<ul>
<li>aggregate - only the state after the batch processing is sent to the monitors</li>
<li>replay - all the state changes get sent to the monitors ordered by scheduled time.</li>
</ul>
</li>
</ul>
<h4 id="fixed-size-batch-engine">Fixed Size Batch Engine</h4>
<p>Fixed size batch engine processes events in parallel in batches of fixed size.</p>
<p>Sample configuration:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">engine-configuration</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: FixedBatchEngineConfiguration
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">outputReplayStrategy</span>: aggregate
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">batchSize</span>: <span style="color:#ff9f43">4</span></span></span></code></pre></div>
<h4 id="epsilon-batch-engine">Epsilon Batch Engine</h4>
<p>Epsilon dynamic size batch engine processes events in parallel in batches
constructed using the epsilon sensitivity value.
Events get added to the batch
as long as the difference in scheduled time is lesser than the given epsilon value.</p>
<p>Sample configuration:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">engine-configuration</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: EpsilonBatchEngineConfiguration
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">outputReplayStrategy</span>: aggregate
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">epsilonValue</span>: <span style="color:#ff9f43">0.01</span></span></span></code></pre></div>
<p>0.01 is a reasonable baseline, experiment to find the best value for your case.</p>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="workarounds">Workarounds</h1>

<h3 id="pre-concocted-solutions-to-well-known-issues">Pre-concocted solutions to well-known issues</h3>
<h1 id="work-arounds">Work arounds</h1>
<p>If your problem is not listed here,
it may still be known and a discussion/workaround could be available
<a href="https://github.com/AlchemistSimulator/Alchemist/issues" rel="external" target="_blank">on the Alchemist Github issue tracker</a>.</p>
<p>Other issues you may experience are listed below.</p>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>=&gt; <span class="btn cstyle interactive transparent"><a href="https://github.com/AlchemistSimulator/Alchemist/issues/new/choose" rel="external" target="_blank"><i class="fas fa-exclamation-triangle"></i> <span class="title">HELP! My issue is not on the tracker nor in this list!</span></a></span></p>
  </div>
</details>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/workarounds/swing-glitch/index.html">Graphical Glitches in Swing</a><p>Known issues with Swing and OpenGL acceleration, especially with legacy AMD/ATi drivers.</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/workarounds/max-map-count/index.html">Memory leaks under Linux</a><p>Known issue of some Java Virtual Machine implementations when requested to use more than 64GB of RAM</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Workarounds</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/artefacts/index.html">Artefacts</a></li>
    <li><a class="term-link" href="./tags/driver/index.html">Driver</a></li>
    <li><a class="term-link" href="./tags/gui/index.html">Gui</a></li>
    <li><a class="term-link" href="./tags/opengl/index.html">Opengl</a></li>
    <li><a class="term-link" href="./tags/swing/index.html">Swing</a></li>
    <li><a class="term-link" href="./tags/video/index.html">Video</a></li>
  </ul>
</div>
  </header>

<h1 id="graphical-glitches-in-swing">Graphical Glitches in Swing</h1>

<p>Under some combination of hardware and drivers, the Swing interface may render uncorrectly.
This is due to Alchemist using OpenGL as rendering backend for Swing, in order to increase performance.</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Examples of graphical glitches, on a VirtualBox instance with Ubuntu
  </summary>
  <div class="box-content">
<p><a href="#R-image-90ed3b1ed7673f2d618eaff84e18b21b" class="lightbox-link"><img alt="Graphical glitch example" class="lazy lightbox figure-image" loading="lazy" src="./howtos/workarounds/swing-glitch/vbox-glitch-1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-90ed3b1ed7673f2d618eaff84e18b21b"><img alt="Graphical glitch example" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/workarounds/swing-glitch/vbox-glitch-1.png"></a>
<a href="#R-image-393d76b30d91660e0b802be2fe04b0c8" class="lightbox-link"><img alt="Graphical glitch example" class="lazy lightbox figure-image" loading="lazy" src="./howtos/workarounds/swing-glitch/vbox-glitch-2.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-393d76b30d91660e0b802be2fe04b0c8"><img alt="Graphical glitch example" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/workarounds/swing-glitch/vbox-glitch-2.png"></a>
<a href="#R-image-7f180f92467ab1552249f37b06282edf" class="lightbox-link"><img alt="Graphical glitch example" class="lazy lightbox figure-image" loading="lazy" src="./howtos/workarounds/swing-glitch/vbox-glitch-3.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7f180f92467ab1552249f37b06282edf"><img alt="Graphical glitch example" class="lazy lightbox lightbox-image" loading="lazy" src="./howtos/workarounds/swing-glitch/vbox-glitch-3.png"></a></p>
  </div>
</details>
<h2 id="solution">Solution</h2>
<p>Disable the OpenGL acceleration explicitly by setting the <code>sun.java2d.opengl</code> property to <code>false</code>.</p>
<h3 id="gradle">Gradle</h3>
<p>With Gradle, edit the Alchemist launch task
(which should be a <a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html" rel="external" target="_blank"><code>JavaExec</code></a>)
by adding:
<a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:jvmArgs(java.lang.Iterable)" rel="external" target="_blank"><code>jvmArgs(&quot;-Dsun.java2d.opengl=false&quot;)</code></a></p>
<h3 id="stand-alone">Stand-alone</h3>
<p>Add the appropriate JVM option:</p>
<p><code>java -Dsun.java2d.opengl=false -jar alchemist-full.jar</code></p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/batch/index.html">Batch</a></li>
    <li><a class="term-link" href="./tags/linux/index.html">Linux</a></li>
    <li><a class="term-link" href="./tags/max_map_count/index.html">Max_map_count</a></li>
    <li><a class="term-link" href="./tags/memory-leak/index.html">Memory Leak</a></li>
    <li><a class="term-link" href="./tags/memory-pressure/index.html">Memory Pressure</a></li>
  </ul>
</div>
  </header>

<h1 id="memory-leaks-under-linux">Memory leaks under Linux</h1>

<p>When Alchemist is used on computers with a large amount of memory and parallelism,
additional configuration might be required.</p>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>These problems have more to do with the way memory allocation on Linux and the JVM works than with Alchemist itself.
They are not memory leaks in Alchemist (hence the reason why they do not happen with smaller memory sizes).</p>
  </div>
</details>
<h2 id="symptoms">Symptoms</h2>
<ul>
<li>batch execution slowing down (this is due to the <em>memory pressure</em>)</li>
<li>analysis of memory shows that the amount of memory actually in use by the JVM is always growing (similar to a <em>memory leak</em>)</li>
<li>the following (or similar) warning is displayed on the standard error on startup:</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>[warning][gc] ***** WARNING! INCORRECT SYSTEM CONFIGURATION DETECTED! *****
[warning][gc] The system limit on number of memory mappings per process might be too low for the given
[warning][gc] max Java heap size (101754M). Please adjust /proc/sys/vm/max_map_count to allow for at
[warning][gc] least 183157 mappings (current limit is 65530). Continuing execution with the current
[warning][gc] limit could lead to a premature OutOfMemoryError being thrown, due to failure to map memory.</code></pre></div>
<h2 id="solution">Solution</h2>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>The file <code>/proc/sys/vm/max_map_count</code> could be changed manually, but these changes won&rsquo;t persist reboots.</p>
  </div>
</details>
<p>A persistent solution to the problem is to instruct the system to always load the correct configuration.
One possible way is to instruct <code>sysctl</code> through a configuration file
(e.g., <code>/etc/sysctl.d/99-vm-max-map-count.conf</code>)
including the following line: <code>vm.max_map_count=&lt;custom max_map_count&gt;</code>.
This can be done on a <strong>root</strong> shell via:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo sh -c <span style="color:#5af78e">&#39;echo &#34;vm.max_map_count=&lt;custom max_map_count&gt;&#34; &gt; /etc/sysctl.d/99-vm-max-map-count.conf&#39;</span>
</span></span><span style="display:flex;"><span>sudo sysctl --system</span></span></code></pre></div>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Computing a &ldquo;good&rdquo; value for max_map_count
  </summary>
  <div class="box-content">
<p>A reasonable estimation of the value is <strong>four times the amount of system RAM expressed in Megabytes</strong>
(for instance vm.max_map_count=524288 for a system with 128GB RAM).</p>
<p>When in doubt, select a higher value, <a href="https://archive.is/xyaA6" rel="external" target="_blank">apparently the negative effects are negligible</a>.</p>
  </div>
</details>
<h3 id="ready-to-use-commands">Ready-to-use commands</h3>
<ul>
<li><strong>128GB</strong></li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo bash -c <span style="color:#5af78e">&#39;echo &#34;vm.max_map_count=524288&#34; &gt; /etc/sysctl.d/99-vm-max-map-count.conf&#39;</span> <span style="color:#ff6ac1">&amp;&amp;</span> sudo sysctl --system</span></span></code></pre></div>
<ul>
<li><strong>256GB</strong></li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo bash -c <span style="color:#5af78e">&#39;echo &#34;vm.max_map_count=1048576&#34; &gt; /etc/sysctl.d/99-vm-max-map-count.conf&#39;</span> <span style="color:#ff6ac1">&amp;&amp;</span> sudo sysctl --system</span></span></code></pre></div>
<ul>
<li><strong>512GB</strong></li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo bash -c <span style="color:#5af78e">&#39;echo &#34;vm.max_map_count=2097152&#34; &gt; /etc/sysctl.d/99-vm-max-map-count.conf&#39;</span> <span style="color:#ff6ac1">&amp;&amp;</span> sudo sysctl --system</span></span></code></pre></div>
<ul>
<li><strong>1TB</strong></li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo bash -c <span style="color:#5af78e">&#39;echo &#34;vm.max_map_count=4194304&#34; &gt; /etc/sysctl.d/99-vm-max-map-count.conf&#39;</span> <span style="color:#ff6ac1">&amp;&amp;</span> sudo sysctl --system</span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="experiment-specific-extensions">Experiment-specific extensions</h1>

<h3 id="one-time-changes-or-additions-to-the-simulator-behavior">One-time changes or additions to the simulator behavior</h3>
<h1 id="experiment-specific-extensions">Experiment-specific extensions</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
</ul>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
  </header>

<h1 id="development">Development</h1>

<h3 id="guides-for-the-project-contributors">Guides for the project contributors</h3>
<h1 id="development">Development</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./howtos/development/contributions/index.html">Developer&#39;s guide</a><p>How to contribute</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/graphql/index.html">Enrich the GraphQL API</a><p>How to create a new Query, Subscription, or Mutation using the GraphQL API</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/ide-import/index.html">Import Alchemist in an IDE</a><p>The recommended way to get and import the Alchemist project in an IDE</p><ul></ul></li>
  <li class="children-title"><a href="./howtos/development/building/index.html">Build and run the QA</a><p>How to locally build and test the simulator</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Development</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/commits/index.html">Commits</a></li>
    <li><a class="term-link" href="./tags/contributions/index.html">Contributions</a></li>
    <li><a class="term-link" href="./tags/development/index.html">Development</a></li>
  </ul>
</div>
  </header>

<h1 id="developers-guide">Developer&#39;s guide</h1>

<p>Contributions to this project are welcome. Just some notes:</p>
<ul>
<li>Use <a href="https://www.conventionalcommits.org/en/v1.0.0/" rel="external" target="_blank">conventional commits</a>. The build auto-generates aggressive git hooks that enforce the rules.</li>
<li>Contributions must be realized in forks of the project. Once a contribution is ready, please open a <a href="https://github.com/AlchemistSimulator/Alchemist/compare" rel="external" target="_blank">pull request</a>.</li>
<li>Keep in sync with the mainline (our <code>master</code> branch), preferably via rebasing.</li>
<li>Commit often. Small pull requests targeting a small part of a larger work are very welcome if they can be merged individually.</li>
<li>Do not introduce low quality code. All the new code must comply with the checker rules (that are quite strict) and must not introduce any other warning. Resolutions of existing warnings (if any is present) are very welcome instead.</li>
<li>Fixes should include a regression test.</li>
<li>New features must include appropriate test cases.</li>
<li>Any change should cause an extension or modification of the documentation, that must be kept up to date</li>
</ul>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/graphql/index.html">Graphql</a></li>
    <li><a class="term-link" href="./tags/query/index.html">Query</a></li>
    <li><a class="term-link" href="./tags/subscription/index.html">Subscription</a></li>
  </ul>
</div>
  </header>

<h1 id="enrich-the-graphql-api">Enrich the GraphQL API</h1>

<p>It is possible to integrate new queries, mutations, or subscriptions into the GraphQL API.
This augmentation offers a more organized and predictable approach for interacting with the simulator,
thanks to static typing and schema definition.</p>
<p>It is possible to use GraphQL APIs for the development of a module inside
Alchemist.
The <code>GraphQLClient</code> class will  take care of establishing a connection
to the GraphQL server, validate and compute operations and return their results.
This component has been  developed in a multiplatform environment, so that applications
can run on platforms like Android, iOS, Kotlin/JS or Kotlin/Native.</p>
<h4 id="create-a-new-query-mutation-or-subscription">Create a new Query, Mutation, or Subscription</h4>
<p>In order to create new queries, mutations, or subscriptions, follow these steps:</p>
<ol>
<li>Include the <code>alchemist-graphql</code> common source set in your project.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>implementation(alchemist(<span style="color:#5af78e">&#34;graphql&#34;</span>))</span></span></code></pre></div>
<ol start="2">
<li>Define the structure of the data you need when executing one of the provided
operations, inside a set of files with <code>.graphql</code> extension placed in the
<code>alchemist-graphql/src/commonMain/resources/graphql/</code> directory.
The following is an example of a query that retrieves the contents of a node
by its ID:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#78787e"># NodeQuery.graphql</span>
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">query</span> <span style="color:#f3f99d">Node</span>(<span style="color:#ff5c57">$id</span>: <span style="color:#f3f99d">Int</span>!) {
</span></span><span style="display:flex;"><span>    nodeById(id: <span style="color:#ff5c57">$id</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#f3f99d">contents</span> {
</span></span><span style="display:flex;"><span>            entries {
</span></span><span style="display:flex;"><span>                molecule {
</span></span><span style="display:flex;"><span>                    name
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                concentration
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>

<details open class=" box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Use GraphiQL to build client&rsquo;s operations files
  </summary>
  <div class="box-content">
<p>You can test the structure of the data that you need inside the GraphiQL
playground, in order to get predicable results when compiling your operations.
GraphiQL also notices you if you are writing incorrect operations with useful
explanation about the errors.</p>
  </div>
</details>
<ol start="3">
<li>
<p>Run the Gradle task <code>./gradlew :alchemist-graphql:generateApolloSources</code> in order to
generate Kotlin&rsquo;s source code that represents the results of operations
called in previously defined files.</p>
</li>
<li>
<p>Use the defined GraphQL compiled operations on top of the <code>GraphQLClient</code>
to execute them.</p>
</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> client: GraphQLClient = <span style="color:#f3f99d">GraphQLClientFactory</span>.basicClient()
</span></span><span style="display:flex;"><span><span style="color:#78787e">/* `NodeQuery` is the generated code for the
</span></span></span><span style="display:flex;"><span><span style="color:#78787e">    GraphQL operation defined in the example above */</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> node: Node? = client.query(NodeQuery(nodeId = <span style="color:#ff9f43">10</span>)).execute().<span style="color:#ff6ac1">data</span></span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/ide/index.html">IDE</a></li>
    <li><a class="term-link" href="./tags/import/index.html">Import</a></li>
    <li><a class="term-link" href="./tags/intellij-idea/index.html">IntelliJ Idea</a></li>
  </ul>
</div>
  </header>

<h1 id="import-alchemist-in-an-ide">Import Alchemist in an IDE</h1>

<h2 id="recommended-ide-configuration">Recommended IDE configuration</h2>
<p>The project is easiest to import in IntelliJ Idea.
The project can be imported directly as a Gradle project.
If you intend to develop new parts in Scala, we suggest to install the Scala plugin for IntelliJ Idea.</p>
<h2 id="forking-the-project">Forking the project</h2>
<p>To contribute to the Alchemist project you must
<a href="https://github.com/AlchemistSimulator/Alchemist/fork" rel="external" target="_blank">fork it</a> and work on your own
copy. In this way you can:</p>
<ul>
<li>push all your commits, saving your work on the cloud;</li>
<li>exploit the included continuous integration jobs to check the project status;</li>
<li>contribute back to the main project via pull requests directly from GitHub.</li>
</ul>
<h2 id="importing-the-project">Importing the project</h2>
<ol>
<li>Clone either the <a href="https://github.com/AlchemistSimulator/Alchemist" rel="external" target="_blank">Alchemist repository</a>
or your personal fork in a folder of your preference using <code>git clone --recurse-submodules &lt;ALCHEMIST_REPO_URI&gt;</code>.</li>
<li>Right click on <code>settings.gradle.kts</code>, select &ldquo;Open With&rdquo; and use IntelliJ Idea.</li>
</ol>
<p>The procedure may be slightly different depending on your operating system and desktop environment.</p>
<p>If you have a terminal, and if you can launch idea from there, just:</p>
<ol>
<li><code>cd &lt;LOCATION_WHERE_YOU_CLONED_THE REPOSITORY&gt;</code></li>
<li><code>idea .</code> (we are assuming that you can launch IntelliJ Idea with the <code>idea</code> command, replace it with the correct one for your system)</li>
</ol>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/build/index.html">Build</a></li>
    <li><a class="term-link" href="./tags/gradle/index.html">Gradle</a></li>
    <li><a class="term-link" href="./tags/intellij/index.html">IntelliJ</a></li>
    <li><a class="term-link" href="./tags/javadoc/index.html">Javadoc</a></li>
    <li><a class="term-link" href="./tags/report/index.html">Report</a></li>
  </ul>
</div>
  </header>

<h1 id="build-and-run-the-qa">Build and run the QA</h1>

<h2 id="building-with-gradle">Building with Gradle</h2>
<p>The recommended way to execute any Gradle build is with the help of the Gradle
Wrapper (in short just “Wrapper”). The Wrapper is a script that invokes a declared
version of Gradle, downloading it beforehand if necessary. As a result, developers
can get up and running with a Gradle project quickly without having to follow manual
installation. For more information please refer to the <a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html" rel="external" target="_blank">Gradle&rsquo;s documentation website</a>.</p>
<h3 id="gradlew-vs-gradlewbat">gradlew vs. gradlew.bat</h3>
<p>Depending on which scripting environment you are using the wrapper can be invoked with
<code>gradlew</code> or <code>gradlew.bat</code>. Windows users are likely to use the latter.</p>
<h3 id="building-the-project">Building the project</h3>
<p>The project can get build via Gradle:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew assemble --parallel</span></span></code></pre></div>
<p>When imported in IntelliJ Idea as Gradle project, the IDE will use Gradle under the hood to run the necessary steps to perform compilation and packaging.</p>
<h3 id="testing">Testing</h3>
<p>Testing can be executed by issuing</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew <span style="color:#ff5c57">test</span> --parallel</span></span></code></pre></div>
<h3 id="quality-assurance">Quality Assurance</h3>
<p>To perform a QA run</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew check --parallel</span></span></code></pre></div>
<h3 id="generating-the-website">Generating the website</h3>
<p>To generate the Alchemist website run</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew hugoBuild --parallel</span></span></code></pre></div>
<h3 id="website-preview">Website preview</h3>
<p>For a preview of the website issue:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew hugo --command<span style="color:#ff6ac1">=</span>serve</span></span></code></pre></div>
<p>The terminal output will show a link, most likely <a href="https://localhost:1313/" rel="external" target="_blank"><code>https://localhost:1313/</code></a>, where the website is being served.</p>

  <footer class="footline">
  </footer>
</article>
          </section>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="explanation">Explanation</h1>

<h3 id="understanding-oriented">Understanding-oriented</h3>
<h1 id="explanation">Explanation</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./explanation/metamodel/index.html">The Alchemist Meta-Model</a><p>What does Alchemist simulate? A trip on the abstractions that populate the world of Alchemist.</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/engine/index.html">The Alchemist Simulation Engine</a><p>How does Alchemist simulate? What is at its core?</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/biochemistry/index.html">Biochemistry Incarnation</a><p>Basics of the biochemistry incarnation.</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/cognitive/index.html">Cognitive Agents</a><p>Agents with realistic human behavior.</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/pathfinding/index.html">Pathfinding</a><p>Strategies to navigate the environment.</p><ul></ul></li>
  <li class="children-title"><a href="./explanation/sapere/index.html">SAPERE Incarnation</a><p>Basics of SAPERE and how its concepts are mapped in Alchemist.</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Explanation</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/action/index.html">Action</a></li>
    <li><a class="term-link" href="./tags/concentration/index.html">Concentration</a></li>
    <li><a class="term-link" href="./tags/condition/index.html">Condition</a></li>
    <li><a class="term-link" href="./tags/environment/index.html">Environment</a></li>
    <li><a class="term-link" href="./tags/linking-rule/index.html">Linking Rule</a></li>
    <li><a class="term-link" href="./tags/metamodel/index.html">Metamodel</a></li>
    <li><a class="term-link" href="./tags/model/index.html">Model</a></li>
    <li><a class="term-link" href="./tags/molecule/index.html">Molecule</a></li>
    <li><a class="term-link" href="./tags/neighborhood/index.html">Neighborhood</a></li>
    <li><a class="term-link" href="./tags/node/index.html">Node</a></li>
    <li><a class="term-link" href="./tags/reaction/index.html">Reaction</a></li>
    <li><a class="term-link" href="./tags/understand/index.html">Understand</a></li>
  </ul>
</div>
  </header>

<h1 id="the-alchemist-meta-model">The Alchemist Meta-Model</h1>

<p>The first step to take in order to use the simulator, is to answer the question</p>
<blockquote>
<p>what does Alchemist simulate?</p></blockquote>
<p>A broad introduction is provided in form of introductory video from the <a href="https://www.discotec.org/2021/dais.html" rel="external" target="_blank">DAIS 2021</a>
conference tutorial.</p>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/zF-LHHQjdOg?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>

<h3 id="the-model">The model</h3>
<p>The world of Alchemist is composed of the following entities:</p>
<ul>
<li><strong>Molecule</strong>
<ul>
<li>The name of a data item</li>
<li>If Alchemist were an imperative programming language, a <em>molecule</em> would be the concept of <em>variable name</em></li>
</ul>
</li>
<li><strong>Concentration</strong>
<ul>
<li>The value associated to a particular <em>molecule</em></li>
<li>If Alchemist were an imperative programming language, a <em>concentration</em> would be the concept of <em>value associated to a variable</em></li>
</ul>
</li>
<li><strong>Node</strong>
<ul>
<li>A container of <em>molecules</em> and <em>reactions</em>, living inside an <em>environment</em></li>
</ul>
</li>
<li><strong>Environment</strong>
<ul>
<li>The Alchemist abstration for the space. It is a container for <em>nodes</em>, and it is able to tell:
<ol>
<li>Where the nodes are in the space - i.e. their <em>position</em></li>
<li>The distance between two <em>nodes</em></li>
<li>Optionally, support for moving <em>nodes</em></li>
</ol>
</li>
</ul>
</li>
<li><strong>Linking rule</strong>
<ul>
<li>A function of the current status of the environment that associates to each <em>node</em> a <em>neighborhood</em></li>
</ul>
</li>
<li><strong>Neighborhood</strong>
<ul>
<li>An entity composed by a <em>node</em> (centre) and a set of <em>nodes</em> (neighbors)</li>
</ul>
</li>
<li><strong>Reaction</strong>
<ul>
<li>Any event that can change the status of the <em>{{ anchor(&rsquo;environment&rsquo;, &lsquo;Environment&rsquo;) }}</em></li>
<li>Each <em>node</em> has a possibly empty set of <em>reactions</em></li>
<li>Each reaction is defined by a possibly empty list of <em>conditions</em>, one or more <em>actions</em> and a <em>{{ anchor(&rsquo;time distribution&rsquo;, &lsquo;TimeDistribution&rsquo;) }}</em></li>
<li>The frequency at which it happens depends on:
<ol>
<li>A static &ldquo;rate&rdquo; parameter</li>
<li>The value of each <em>condition</em></li>
<li>A &ldquo;rate equation&rdquo;, that combines the static rate and the value of conditions, giving back an &ldquo;instantaneous rate&rdquo;</li>
<li>A <em>time distribution</em></li>
</ol>
</li>
</ul>
</li>
<li><strong>Condition</strong>
<ul>
<li>A function that takes the current <em>environment</em> as input and outputs a boolean and a number</li>
<li>If the <em>condition</em> does not hold (i.e. its current output is <code>false</code>), the <em>reaction</em> to which it is associated cannot run</li>
<li>The outputed number may or may not influence the <em>reaction</em> speed (i.e. the average number of times the <em>reaction</em> &ldquo;happens&rdquo; per time unit), depending on the <em>reaction</em> and its <em>time distribution</em>.</li>
</ul>
</li>
<li><strong>Action</strong>
<ul>
<li>Models a change in the environment.</li>
</ul>
</li>
</ul>
<p>The following image is a visualization of such model:</p>
<p><a href="#R-image-b91659fdde5474ae5144e27cb9e101ce" class="lightbox-link"><img alt="Alchemist model" class="lazy lightbox figure-image" loading="lazy" src="./images/simulator/model.svg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b91659fdde5474ae5144e27cb9e101ce"><img alt="Alchemist model" class="lazy lightbox lightbox-image" loading="lazy" src="./images/simulator/model.svg"></a></p>
<p>The behavior of the system is described in terms of reactions. As such, here&rsquo;s a pictorial representation of a reaction:</p>
<p><a href="#R-image-c1105beef007bbf27f442a91a8dea7d5" class="lightbox-link"><img alt="Alchemist reaction" class="lazy lightbox figure-image" loading="lazy" src="./images/simulator/reaction.svg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c1105beef007bbf27f442a91a8dea7d5"><img alt="Alchemist reaction" class="lazy lightbox lightbox-image" loading="lazy" src="./images/simulator/reaction.svg"></a></p>
<h3 id="incarnations">Incarnations</h3>
<p>As you can see, names are given after classical chemistry terms.
This is mostly for historical reasons: Alchemist has been initially conceived as a chemical-oriented multi-compartment
stochastic simulation engine, able to support compartment (node) mobility while still retaining high performance.</p>
<p>However, Alchemist is not limited to that. The key of its extensibility is in the very loose interpretation of
<strong>molecule</strong> and <strong>concentration</strong>. These two terms have a very precise definition in chemistry, but in Alchemist they
are respectively</p>
<ol>
<li>a generic identifier, and</li>
<li>a piece of data of some <strong>type</strong></li>
</ol>
<p>An <strong>incarnation</strong> of Alchemist includes a <strong>type</strong> definition of <strong>concentration</strong>,
and possibly a set of specific conditions, actions and (rarely) environments and reactions that operate on such types.
In other words, an incarnation is a concrete instance of the Alchemist meta-model.
In addition, a proper Alchemist incarnation&rsquo;, &lsquo;Incarnation must also define:</p>
<ul>
<li>Means for translating strings into named entities (molecules)</li>
<li>Means for obtaining a number when given a node, a molecule and a string representing a property</li>
<li>Means for building incarnation-specific model entities given an appropriate context and a parameter String</li>
</ul>
<p>These functionalities are required in order to support a uniform access to different incarnations.</p>
<p>Different Incarnations can model completely different universes.
For instance, if the concentration is defined as a positive integer and proper actions and conditions are provided,
Alchemist becomes a stochastic simulator for chemistry featuring interconnected and mobile compartments.</p>
<p>The standalone distribution comes with:</p>
<ul>
<li><a href="https://protelis.github.io/" rel="external" target="_blank">Protelis Incarnation</a></li>
<li><a href="https://dx.doi.org/10.1016/j.pmcj.2014.12.002" rel="external" target="_blank">SAPERE Incarnation</a></li>
<li>Biochemistry Incarnation</li>
<li><a href="https://scafi.github.io/" rel="external" target="_blank">Scafi incarnation</a></li>
</ul>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/discrete-event-simulation/index.html">Discrete-Event Simulation</a></li>
    <li><a class="term-link" href="./tags/engine/index.html">Engine</a></li>
    <li><a class="term-link" href="./tags/gibson-bruck/index.html">Gibson-Bruck</a></li>
    <li><a class="term-link" href="./tags/gillespie/index.html">Gillespie</a></li>
    <li><a class="term-link" href="./tags/optimization/index.html">Optimization</a></li>
    <li><a class="term-link" href="./tags/time/index.html">Time</a></li>
  </ul>
</div>
  </header>

<h1 id="the-alchemist-simulation-engine">The Alchemist Simulation Engine</h1>

<p>The core part of the tool is the incarnation-agnostic simulation engine.
Its current implementation is based on <a href="https://pubs.acs.org/doi/10.1021/jp993732q" rel="external" target="_blank">Gibson and Bruck&rsquo;s Next Reaction</a>,
extended to support addition and removal of reactions, and improved using input and output contexts for reactions,
in order to prune the dependency graph as much as possible.
More details on that are demanded to <a href="https://dx.doi.org/10.1057/jos.2012.27" rel="external" target="_blank">this scientific paper on Journal of Simulation</a>.</p>
<p>The engine&rsquo;s entry point is the <code>Simulation</code>.
It is equipped with support for commands like play, pause and stop, and can be equipped with an <code>OutputMonitor</code>.
The output monitor can be a graphical interface, a logger or any kind of environment inspector.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/biochemistry/index.html">Biochemistry</a></li>
    <li><a class="term-link" href="./tags/junction/index.html">Junction</a></li>
    <li><a class="term-link" href="./tags/molecule/index.html">Molecule</a></li>
    <li><a class="term-link" href="./tags/reaction/index.html">Reaction</a></li>
  </ul>
</div>
  </header>

<h1 id="biochemistry-incarnation">Biochemistry Incarnation</h1>

<p>Biochemistry is an incarnation of Alchemist developed to provide support for biochemical reactions
that take place inside a biological cell or a group of those surrounded by a common environment.</p>
<h3 id="the-biochemistry-incarnation">The Biochemistry Incarnation</h3>
<p>The Biochemistry incarnation provides ways to:</p>
<ul>
<li>Manage the creation, destruction and relocation of a molecule (which can be either a simple atom or a complex protein)
inside a cell or from a cell to another</li>
<li>Create junctions between cells using a specified amount of molecules.
The junctions are modeled in a general way,
but with a simple use of actions and conditions it will be possible to create tight junctions,
anchoring junctions, gap junctions and even custom one</li>
<li>Move a cell inside its environment in different ways,
handling collisions between two ore more of them in a simple but effective way</li>
</ul>
<h2 id="the-biochemistry-dsl">The Biochemistry DSL</h2>
<p>Biochemistry programs are encapsulated inside the YAML configuration file with a simple and human-readable syntax.
Those simple reactions can be written in the section <code>programs</code> of the configuration file, as value of the <code>program</code> key:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">programs</span>:
</span></span><span style="display:flex;"><span>  -
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;[ATP] --&gt; [ADP] + [P]&#34;</span></span></span></code></pre></div>
<h3 id="reactions">Reactions</h3>
<p>A reaction rule can be set using the symbol <code>--&gt;</code> according to chemistry equations, and placing both the molecules and the actions inside two square brackets (ex. <code>[OH]</code>, <code>[H2O]</code>, <code>[BrownianMove(0.1)]</code>)</p>
<p>The following line, so, represents a basic chemical reaction that happens inside a cell: <code>[H] + [OH] --&gt; [H2O]</code></p>
<p>However, reactions can also take place outside the cell itself. Biological cells, indeed, can swap molecules with its neighbour or the surrounding environment, and this is possible in Alchemist too, using the keywords: <code>in cell</code>, <code>in neighbour</code> and <code>in env</code>.</p>
<p>The reaction <code>[A in env] --&gt; [A in cell]</code> moves the molecule A from the environement inside the cell.</p>
<p>If the location is not explicit, it is assumed the molecule to be inside the cell.</p>
<h3 id="junctions">Junctions</h3>
<p>A junction can be created just with a neighbor of the programmed cell.</p>
<p>The way to create it is with the syntax <code>[X] + [Y in neighbor] --&gt; [junction X-Y]</code>, which means that when this reaction happens a junction using the molecule <code>X</code> from the cell and the molecule <code>Y</code> from the neighbor will be created.</p>
<p>The junction can also be destroyed using the syntax <code>[junction X-Y] --&gt; []</code>, causing the reintroduction of the molecule <code>X</code> inside the cell and the molecule <code>Y</code> inside the neighbor.</p>
<p>Also, the junction will be automatically removed if, because of their movement, the cells will stop being in a neighborhood.</p>
<h3 id="custom-conditions">Custom Conditions</h3>
<p>Any custom condition must be placed after the reaction products following an <code>if</code> clause.</p>
<p>For example, to create a molecule if the cell has at least three neighbor you would write:</p>
<p><code>[] --&gt; [X] if NumberOfNeighborsGreaterThan(5)</code></p>
<h3 id="movement">Movement</h3>
<p>A movement can be performed in the same way of a reaction, using the function as it is a product of the reaction itself.</p>
<p>This program constantly moves a cell without any other condition:</p>
<p><code>[] --&gt; [BrownianMove(0.1)]</code></p>
<h3 id="collisions">Collisions</h3>
<p>The Biochemistry Incarnation supports cell collisions and deformations too.</p>
<p>In order to do that, however, you must set this environment:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: BioRect2DEnvironmentNoOverlap</span></span></code></pre></div>
<p>Then, when creating the cells, you must use these specific implementations:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">nodes</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: CircularDeformableCellImpl
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [max-radius, rigidity]</span></span></code></pre></div>
<p>The minimum radius of the cell is so that <code>min-radius = rigidity * max-radius</code> and the two parameters are used to compute collisions and impacts between the cells.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/agents/index.html">Agents</a></li>
    <li><a class="term-link" href="./tags/cognitive/index.html">Cognitive</a></li>
    <li><a class="term-link" href="./tags/pedestrian/index.html">Pedestrian</a></li>
  </ul>
</div>
  </header>

<h1 id="cognitive-agents">Cognitive Agents</h1>

<p>Alchemist is capable of simulating the movement of pedestrians with sophisticated cognitive capabilities:</p>
<p><a href="#R-image-dd8ce1a55252ccb62660447288354f74" class="lightbox-link"><img alt="demo" class="lazy lightbox figure-image" loading="lazy" src="./explanation/cognitive/no-knowledge.gif" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dd8ce1a55252ccb62660447288354f74"><img alt="demo" class="lazy lightbox lightbox-image" loading="lazy" src="./explanation/cognitive/no-knowledge.gif"></a></p>
<p>The animation above shows an adult male with no previous knowledge of the environment trying to reach the destination marked green.</p>
<h2 id="types-of-pedestrian">Types of pedestrian</h2>
<p>There are three basic types of pedestrian,
each representing a more sophisticated version of the previous one.
These are derived from the work of <a href="https://doi.org/10.1007/978-3-319-70647-4_11" rel="external" target="_blank">van der Wal et al</a>.</p>
<ol>
<li>Homogeneous Pedestrians:
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-node/"><code>Node</code></a>s with no peculiar characteristic.</li>
<li>Heterogeneous pedestrians have an age and a gender,
based on which their speed,
compliance to rules,
and social attitudes are computed.</li>
<li>Cognitive pedestrians are heterogeneous pedestrians with cognitive capabilities.
They have an emotional state and are able to influence and be influenced by others
with the same capabilities.
As an example, cognitive pedestrians can perceive fear via social contagion
(e.g. seeing other people fleeing may cause them flee as well regardless of whether they&rsquo;ve seen the danger directly).</li>
<li>Orienting pedestrians, as shown in the animation on the top of the page,
can be equipped with different knowledge degrees of the environment.
To do so, a particular type of pedestrian called orienting pedestrian is required:
this is derived from the work of
<a href="https://www.tandfonline.com/doi/full/10.1080/23249935.2018.1432717" rel="external" target="_blank">Andresen et al</a>.</li>
</ol>
<h2 id="types-of-behaviors">Types of behaviors</h2>
<p>There are two macro-categories of behaviours:</p>
<ul>
<li>those inspired to <a href="https://archive.is/fkUpJ" rel="external" target="_blank">Reynold&rsquo;s steering behaviors</a>,
which operate in a greedy fashion, i.e. performing only local choices;</li>
<li>those inspired to the work of <a href="https://www.tandfonline.com/doi/full/10.1080/23249935.2018.1432717" rel="external" target="_blank">Andresen et al</a>,
which exploit the spatial information available to orienting pedestrians
in order to navigate the environment consciously
(e.g. without getting stuck in U-shaped obstacles).
Note that these actions <em>do not</em> assume that pedestrians have global knowledge of the environment,
on the contrary only the spatial information available to a pedestrian is used to move it
(which can be little or nothing).</li>
</ul>
<h2 id="navigation-memory-model">Navigation memory model</h2>
<p>Each time a pedestrian enters a new room (= environment&rsquo;s area),
all the visible doors are weighted,
the one with minimum weight is then crossed.
The weighting system used in Alchemist is derived from the one by
<a href="https://doi.org/10.1080/23249935.2018.1432717" rel="external" target="_blank">Andresen et al</a>,
here&rsquo;s a brief description of the factors included,
these are multiplied to get the final weight.</p>
<table>
  <thead>
      <tr>
          <th>Name</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>volatileMemoryFactor</td>
          <td>Takes into account the information stored in the pedestrian&rsquo;s volatile memory (= a map pairing each room with the number of visits, models the ability to remember areas of the environment already visited since the start of the simulation). It is computed as 2^v where v is the number of visits to the area the edge being weighted leads to (in other words, less visited rooms are preferred).</td>
      </tr>
      <tr>
          <td>congestionFactor</td>
          <td>Takes into account the congestion of the area the edge being weighted leads to (it is assumed that the pedestrian can estimate the congestion level of a neighboring room). It is computed as density of the area + 1, so as to have a value in [1,2] (less crowded rooms are preferred).</td>
      </tr>
      <tr>
          <td>impasseFactor</td>
          <td>Takes into account whereas a door leads to a known impasse or not, known impasses are given <em>knownImpasseWeight</em> (see hardcoded parameters below), otherwise this factor assumes unitary value.</td>
      </tr>
      <tr>
          <td>suitabilityFactor</td>
          <td>This factor is used when the pedestrian is moving towards a target: each door is given an integer rank indicating its suitability in order to reach the target (ranks are computed taking into account the target and the door locations, as well as the geometry of the current room). The factor for each door is computed as 1-0.5^rank.</td>
      </tr>
  </tbody>
</table>
<h2 id="physical-pedestrians">Physical pedestrians</h2>
<p>Physical pedestrians are capable of pushing and bumping into each other.
Physical pedestrians are inspired to <a href="https://doi.org/10.2312/SCA/SCA07/099-108" rel="external" target="_blank">the work of Pelechano et al</a>.</p>
<h2 id="further-references">Further references</h2>
<p><a href="https://doi.org/10.1007/978-3-319-70647-4_11" rel="external" target="_blank">C. Natalie van der Wal, Daniel Formolo, Mark A. Robinson, Michael Minkov, Tibor Bosse<br>
Simulating Crowd Evacuation with Socio-Cultural, Cognitive, and Emotional Elements<br>
Transactions on Computational Collective Intelligence XXVII. 2017.</a></p>
<p><a href="https://archive.is/PwYQz" rel="external" target="_blank">Craig W. Reynolds<br>
Steering Behaviors for Autonomous Characters. 1999.</a></p>
<p><a href="https://www.tandfonline.com/doi/full/10.1080/23249935.2018.1432717" rel="external" target="_blank">Erik Andresen, Mohcine Chraibi &amp; Armin Seyfried<br>
A representation of partial spatial knowledge: a cognitive map approach for evacuation simulations</a></p>
<p><a href="https://repository.upenn.edu/cgi/viewcontent.cgi?article=1223&context=hms" rel="external" target="_blank">Nuria Pelechano, Jan M. Allbeck, Norman I. Badler<br>
Controlling Individual Agents in High-Density Crowd Simulation</a></p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/navigation-mesh/index.html">Navigation Mesh</a></li>
    <li><a class="term-link" href="./tags/node/index.html">Node</a></li>
    <li><a class="term-link" href="./tags/nodes/index.html">Nodes</a></li>
    <li><a class="term-link" href="./tags/pathfinding/index.html">Pathfinding</a></li>
  </ul>
</div>
  </header>

<h1 id="pathfinding">Pathfinding</h1>

<p>This section explains the pathfinding strategies and algorithms of Alchemist.
Instructions on how to exercise them are available <a href="./howtos/simulation/environment/pathfinding/index.html">here</a>.</p>
<h2 id="navigation-graphs">Navigation graphs</h2>
<p>A <em>navigation graph</em> of an environment with obstacles is a graph whose nodes are convex shapes representing portions of
the environment which are traversable by agents (namely, walkable areas), and edges represent connections between them.
The image below shows a bidimensional environment with obstacles on the left and the associated navigation graph on the
right (nodes are painted blue,
edges are represented as line segments connecting the centroid of a node to the associated crossing,
which is painted green).</p>
<p><a href="#R-image-2fff3ff66aaf0ce53499a50aadb28c1d" class="lightbox-link"><img alt="navigation graph" class="lazy lightbox figure-image" loading="lazy" src="./explanation/pathfinding/navigation-graph.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2fff3ff66aaf0ce53499a50aadb28c1d"><img alt="navigation graph" class="lazy lightbox lightbox-image" loading="lazy" src="./explanation/pathfinding/navigation-graph.jpeg"></a></p>
<p>Navigation graphs are mainly used for navigation purposes (e.g. in pathfinding algorithms):
the advantage of decomposing the environment into convex regions is that agents can freely walk around within a convex region,
as it is guaranteed that no obstacle will be found
(remember that a shape is convex when no line segment between any two points on its boundary ever goes outside the shape).</p>
<p>Alchemist is capable of generating navigation graphs of bidimensional environments featuring euclidean geometry
and double precision coordinates.
Before diving into the topic,
please be aware that the algorithm implemented in Alchemist for the generation of navigation graphs:</p>
<ul>
<li>Does not guarantee the coverage of 100% of the walkable area (as the image above shows).</li>
<li>Is only capable to detect axis-aligned crossings.</li>
<li>Is only capable to deal with convex polygonal obstacles. Concave ones can be decomposed into convex meshes,
whereas for curves bounding boxes can be used, eventually arbitrarily-oriented minimum bounding boxes.</li>
</ul>
<h3 id="navigator">NaviGator</h3>
<p>The algorithm implemented in Alchemist is called NaviGator (Navigation Graphs generAtor),
here&rsquo;s a brief description of how it operates: firstly, a certain number of seeds is planted in the environment.
Each seed is a square-shaped region of unitary side that will grow maintaining a convex shape.
Secondly, planted seeds are extended as far as possible
(i.e. until they are in contact with an obstacle or another seed on each side).
Finally, crossings are found between the grown seeds.
NaviGator is derived from the
<a href="https://doi.org/10.1609/aiide.v4i1.18693" rel="external" target="_blank">DEACCON algorithm</a>
for the generation of navigation meshes.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/live-semantic-annotation/index.html">Live Semantic Annotation</a></li>
    <li><a class="term-link" href="./tags/lsa/index.html">Lsa</a></li>
    <li><a class="term-link" href="./tags/sapere/index.html">Sapere</a></li>
    <li><a class="term-link" href="./tags/tuple-centre/index.html">Tuple Centre</a></li>
    <li><a class="term-link" href="./tags/tuple-space/index.html">Tuple Space</a></li>
  </ul>
</div>
  </header>

<h1 id="sapere-incarnation">SAPERE Incarnation</h1>

<p>The SAPERE incarnation for Alchemist was the first stable incarnation produced for the simulator.
It was developed in the context of the <a href="https://archive.is/umlcC" rel="external" target="_blank">SAPERE EU project</a>.</p>
<p>At the core of <a href="https://doi.org/10.1016/j.pmcj.2014.12.002" rel="external" target="_blank">SAPERE</a> is the concept of <em>Live Semantic Annotation</em> (LSA),
namely a description of a resource (sensor, service, actuator&hellip;) always mapping the current resource status
(somewhat a prelude to the currently famous <a href="https://archive.is/YR1v9" rel="external" target="_blank">digital twin</a> concept).</p>
<p>These annotations evolve following so-called <em>Eco-Laws</em>,
mimicking the complex behaviours of natural ecosystems.</p>
<p>The SAPERE approach fostered subsequent approaches, such as <a href="https://doi.org/10.1109/MC.2015.261" rel="external" target="_blank">aggregate computing</a>.</p>
<h2 id="live-semantic-annotations">Live Semantic Annotations</h2>
<p>An LSA as modeled in Alchemist is a tuple of values.
These tuples can be injected in nodes as data items.
From the point of view of
<a href="./explanation/metamodel/index.html">the Alchemist metamodel</a>,
the concept of
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a>
is mapped to
<strong>LSA</strong> (<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.sapere.molecules/-lsa-molecule/"><code>LsaMolecule</code></a>).
As a consequence, LSAs can be inserted in nodes.</p>
<h2 id="eco-laws">Eco-Laws</h2>
<p>Tuple matching is used to define Eco-Laws.
An Eco-Law is a rewriting rule very similar in concept to chemical reactions:
elements on the left-hand side of the reaction are removed from the container,
elements on the right-hand side are inserted instead.</p>
<p>The following program matches LSAs with two arguments, the former must be <code>foo</code>,
the latter a number greater than <code>30</code>, and produces in a new tuple having as first element <code>bar</code> and as second
the opposite of the matched number:</p>
<p><code>{ foo, def: N &gt; 30 } --&gt; { bar, -N }</code></p>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="reference">Reference</h1>

<h3 id="information-oriented">Information-oriented</h3>
<h1 id="reference">Reference</h1>
<h2 id="contents">Contents</h2>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="./reference/yaml/index.html">YAML simulation specification</a><p>Specification of the YAML-based language simulations are configured with.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/kdoc/index.html">API Docs</a><p>KDoc API docs. Captures both Java and Kotlin API abstractions.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/kdoc-modules/index.html">Per-module API Docs</a><p>KDoc API docs. Captures both Java and Kotlin API abstractions.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/organization/index.html">Project organization</a><p>Locations where things are found: build files, API implementations</p><ul></ul></li>
  <li class="children-title"><a href="./reference/biochemistry/index.html">Biochemistry Incarnation</a><p>Reference documentation of the reactions language for the biochemistry incarnation.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/cli/index.html">Command Line interface</a><p>Available CLI options.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/default-ui/index.html">Default Graphical User Interface</a><p>Redirect page for the current default graphical interface</p><ul></ul></li>
  <li class="children-title"><a href="./reference/sapere/index.html">SAPERE Incarnation</a><p>Reference API for the SAPERE Incarnation.</p><ul></ul></li>
  <li class="children-title"><a href="./reference/swing/index.html">Swing GUI</a><p>Key mappings for the Java Swing-based graphical interface</p><ul></ul></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Reference</h1>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/environment/index.html">Environment</a></li>
    <li><a class="term-link" href="./tags/extension/index.html">Extension</a></li>
    <li><a class="term-link" href="./tags/programming/index.html">Programming</a></li>
    <li><a class="term-link" href="./tags/simulations/index.html">Simulations</a></li>
    <li><a class="term-link" href="./tags/specification/index.html">Specification</a></li>
    <li><a class="term-link" href="./tags/yaml/index.html">Yaml</a></li>
  </ul>
</div>
  </header>

<h1 id="yaml-simulation-specification">YAML simulation specification</h1>


<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>This reference guide assumes that the reader knows the basics of <a href="https://yaml.org/" rel="external" target="_blank">YAML</a>.
A good resource to learn it quickly is  <a href="https://learnxinyminutes.com/docs/yaml/" rel="external" target="_blank">Learn X in Y minutes where X = YAML</a></p>
  </div>
</details>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Reading this document
  </summary>
  <div class="box-content">
<p>The key words <strong>MUST</strong>, <strong>MUST NOT</strong>, <strong>REQUIRED</strong>, <strong>SHALL</strong>, <strong>SHALL NOT</strong>, <strong>SHOULD</strong>, <strong>SHOULD NOT</strong>,
<strong>RECOMMENDED</strong>,  <strong>MAY</strong>, and <strong>OPTIONAL</strong> in this document are to be interpreted as described in
<a href="https://datatracker.ietf.org/doc/html/rfc2119" rel="external" target="_blank">RFC 2119</a>.</p>
  </div>
</details>
<h2 id="simulation-document-structure">Simulation document structure</h2>
<p>The document <strong>MUST</strong> be YAML map.
The map <strong>MUST</strong> contain all the mandatory Alchemist keys,
<strong>MAY</strong> contain any subset of the optional Alchemist keys,
<strong>MAY</strong> contain any key whose name begins with underscore (<code>_</code>),
and <strong>MUST NOT</strong> contain any other key.</p>
<p>The sets of valid cobinations of mandatory and optional keys for each section of the document is specified
in form of Kotlin code as follows:</p>

<script>


function onClick(element) {
    var content = $(element).parent().find(".expand-content");
    var chevron = $(element).find(".fas");
    if (content.css("display") === "none") {
        chevron.removeClass("fa-chevron-right");
        chevron.addClass("fa-chevron-down");
        content.slideDown(100);
    } else {
        chevron.removeClass("fa-chevron-down");
        chevron.addClass("fa-chevron-right");
        content.slideUp(100);
    }
}
</script>
<div class="expand">
    <a class="expand-label" onclick="onClick(this)"> 
        <span class="fas fa-chevron-right"></span>
        <strong>Click to show / hide code</strong>
    </a>
    <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#78787e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"> * Copyright (C) 2010-2023, Danilo Pianini and contributors
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"> * listed, for each module, in the respective subproject&#39;s build.gradle.kts file.
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"> * This file is part of Alchemist, and is distributed under the terms of the
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"> * GNU General Public License, with a linking exception,
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"> * as described in the file LICENSE in the Alchemist distribution&#39;s top directory.
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">package</span> it.unibo.alchemist.boundary.loader.syntax
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">import</span> kotlin.reflect.KProperty
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">internal</span> <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">DocumentRoot</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">JavaType</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> type <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> parameters <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            setOf(
</span></span><span style="display:flex;"><span>                validDescriptor {
</span></span><span style="display:flex;"><span>                    mandatory(type)
</span></span><span style="display:flex;"><span>                    optional(parameters)
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">DependentVariable</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> language <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> formula <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> timeout <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            <span style="color:#f3f99d">JavaType</span>.validDescriptors +
</span></span><span style="display:flex;"><span>                setOf(
</span></span><span style="display:flex;"><span>                    validDescriptor {
</span></span><span style="display:flex;"><span>                        mandatory(formula)
</span></span><span style="display:flex;"><span>                        optional(language)
</span></span><span style="display:flex;"><span>                        optional(timeout)
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Deployment</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> contents <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> nodes <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> properties <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> programs <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            setOf(
</span></span><span style="display:flex;"><span>                validDescriptor {
</span></span><span style="display:flex;"><span>                    mandatory(<span style="color:#f3f99d">JavaType</span>.type)
</span></span><span style="display:flex;"><span>                    optional(<span style="color:#f3f99d">JavaType</span>.parameters, contents, properties, nodes, programs)
</span></span><span style="display:flex;"><span>                    forbidden(<span style="color:#f3f99d">Filter</span>.FILTER)
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#78787e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#78787e">         * in:
</span></span></span><span style="display:flex;"><span><span style="color:#78787e">         *   - type: FilterType
</span></span></span><span style="display:flex;"><span><span style="color:#78787e">         *     parameters: [...]
</span></span></span><span style="display:flex;"><span><span style="color:#78787e">         */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Filter</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">const</span> <span style="color:#ff6ac1">val</span> FILTER = <span style="color:#5af78e">&#34;in&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>                setOf(
</span></span><span style="display:flex;"><span>                    validDescriptor {
</span></span><span style="display:flex;"><span>                        mandatory(<span style="color:#f3f99d">JavaType</span>.type)
</span></span><span style="display:flex;"><span>                        optional(<span style="color:#f3f99d">JavaType</span>.parameters)
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Property</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>                setOf(
</span></span><span style="display:flex;"><span>                    validDescriptor {
</span></span><span style="display:flex;"><span>                        mandatory(<span style="color:#f3f99d">JavaType</span>.type)
</span></span><span style="display:flex;"><span>                        optional(<span style="color:#f3f99d">JavaType</span>.parameters, <span style="color:#f3f99d">Filter</span>.FILTER)
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Contents</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> molecule <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> concentration <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>                setOf(
</span></span><span style="display:flex;"><span>                    validDescriptor {
</span></span><span style="display:flex;"><span>                        mandatory(molecule, concentration)
</span></span><span style="display:flex;"><span>                        optional(<span style="color:#f3f99d">Filter</span>.FILTER)
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Program</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> program <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> actions <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> conditions <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">const</span> <span style="color:#ff6ac1">val</span> TIME_DISTRIBUTION = <span style="color:#5af78e">&#34;time-distribution&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>                setOf(
</span></span><span style="display:flex;"><span>                    validDescriptor {
</span></span><span style="display:flex;"><span>                        mandatory(<span style="color:#f3f99d">JavaType</span>.type)
</span></span><span style="display:flex;"><span>                        optional(<span style="color:#f3f99d">JavaType</span>.parameters, <span style="color:#f3f99d">Filter</span>.FILTER, conditions, TIME_DISTRIBUTION, actions)
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    validDescriptor {
</span></span><span style="display:flex;"><span>                        mandatory(program)
</span></span><span style="display:flex;"><span>                        optional(TIME_DISTRIBUTION, <span style="color:#f3f99d">Filter</span>.FILTER)
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Export</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> data <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            setOf(
</span></span><span style="display:flex;"><span>                validDescriptor { mandatory(<span style="color:#f3f99d">JavaType</span>.type, <span style="color:#f3f99d">JavaType</span>.parameters, <span style="color:#ff6ac1">data</span>) },
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Data</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> time <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> molecule <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> property <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> aggregators <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> precision <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">const</span> <span style="color:#ff6ac1">val</span> VALUE_FILTER = <span style="color:#5af78e">&#34;value-filter&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>                <span style="color:#f3f99d">JavaType</span>.validDescriptors +
</span></span><span style="display:flex;"><span>                    setOf(
</span></span><span style="display:flex;"><span>                        validDescriptor {
</span></span><span style="display:flex;"><span>                            mandatory(time)
</span></span><span style="display:flex;"><span>                            optional(precision)
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                        validDescriptor {
</span></span><span style="display:flex;"><span>                            mandatory(molecule)
</span></span><span style="display:flex;"><span>                            optional(<span style="color:#ff6ac1">property</span>, aggregators, precision, VALUE_FILTER)
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                    )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Environment</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">const</span> <span style="color:#ff6ac1">val</span> GLOBAL_PROGRAMS = <span style="color:#5af78e">&#34;global-programs&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">GlobalProgram</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> actions <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">val</span> conditions <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">const</span> <span style="color:#ff6ac1">val</span> TIME_DISTRIBUTION = <span style="color:#5af78e">&#34;time-distribution&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>                setOf(
</span></span><span style="display:flex;"><span>                    validDescriptor {
</span></span><span style="display:flex;"><span>                        mandatory(<span style="color:#f3f99d">JavaType</span>.type)
</span></span><span style="display:flex;"><span>                        optional(<span style="color:#f3f99d">JavaType</span>.parameters, actions, conditions, TIME_DISTRIBUTION)
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">fun</span> <span style="color:#57c7ff">toString</span>(): String = <span style="color:#ff6ac1">this</span><span style="color:#ff6ac1">::</span><span style="color:#ff6ac1">class</span>.simpleName <span style="color:#ff6ac1">?:</span> <span style="color:#ff6ac1">this</span>.javaClass.canonicalName
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            setOf(
</span></span><span style="display:flex;"><span>                validDescriptor {
</span></span><span style="display:flex;"><span>                    optional(<span style="color:#f3f99d">JavaType</span>.parameters, GLOBAL_PROGRAMS)
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Layer</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> molecule <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            setOf(
</span></span><span style="display:flex;"><span>                validDescriptor {
</span></span><span style="display:flex;"><span>                    mandatory(<span style="color:#f3f99d">JavaType</span>.type, molecule)
</span></span><span style="display:flex;"><span>                    optional(<span style="color:#f3f99d">JavaType</span>.parameters)
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Monitor</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            setOf(
</span></span><span style="display:flex;"><span>                validDescriptor {
</span></span><span style="display:flex;"><span>                    mandatory(<span style="color:#f3f99d">JavaType</span>.type)
</span></span><span style="display:flex;"><span>                    optional(<span style="color:#f3f99d">JavaType</span>.parameters)
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Seeds</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> scenario <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> simulation <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            setOf(
</span></span><span style="display:flex;"><span>                validDescriptor { optional(simulation, scenario) },
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">Variable</span> : SyntaxElement {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> min <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> max <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> default <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">val</span> step <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>            <span style="color:#f3f99d">JavaType</span>.validDescriptors +
</span></span><span style="display:flex;"><span>                setOf(
</span></span><span style="display:flex;"><span>                    validDescriptor { mandatory(min, max, default, step) },
</span></span><span style="display:flex;"><span>                )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> deployments <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> engine <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> environment <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> export <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> incarnation <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> launcher <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> layers <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> monitors <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">const</span> <span style="color:#ff6ac1">val</span> LINKING_RULES = <span style="color:#5af78e">&#34;network-model&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">const</span> <span style="color:#ff6ac1">val</span> REMOTE_DEPENDENCIES = <span style="color:#5af78e">&#34;remote-dependencies&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> seeds <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> terminate <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">val</span> variables <span style="color:#ff6ac1">by</span> OwnName
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">val</span> validDescriptors =
</span></span><span style="display:flex;"><span>        setOf(
</span></span><span style="display:flex;"><span>            validDescriptor {
</span></span><span style="display:flex;"><span>                mandatory(incarnation)
</span></span><span style="display:flex;"><span>                optional(*validKeys.toTypedArray())
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">internal</span> <span style="color:#ff6ac1">object</span> <span style="color:#f3f99d">OwnName</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">operator</span> <span style="color:#ff6ac1">fun</span> <span style="color:#57c7ff">getValue</span>(thisRef: Any?, <span style="color:#ff6ac1">property</span>: KProperty&lt;*&gt;): String = <span style="color:#ff6ac1">property</span>.name.lowercase()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">private</span> <span style="color:#ff6ac1">fun</span> <span style="color:#57c7ff">validDescriptor</span>(configuration: <span style="color:#f3f99d">DescriptorBuilder</span>.() <span style="color:#ff6ac1">-&gt;</span> Unit): <span style="color:#f3f99d">SyntaxElement</span>.ValidDescriptor =
</span></span><span style="display:flex;"><span>    DescriptorBuilder().apply(configuration).build()
</span></span></code></pre></div></div>
</div>
<h3 id="types-of-entries">Types of entries</h3>
<table>
  <thead>
      <tr>
          <th>Type</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Any</td>
          <td>Any YAML type</td>
      </tr>
      <tr>
          <td>Int</td>
          <td>YAML integer number, or other type that can be parsed into an integer</td>
      </tr>
      <tr>
          <td>List</td>
          <td>Any YAML List</td>
      </tr>
      <tr>
          <td>Map</td>
          <td>Any YAML Map</td>
      </tr>
      <tr>
          <td>MultiSpec</td>
          <td>A list of Spec. A Map matches a MultiSpec if it matches one and only one of its Spec.</td>
      </tr>
      <tr>
          <td>Number</td>
          <td>YAML number</td>
      </tr>
      <tr>
          <td>Spec</td>
          <td>Pair of lists of strings. The first list contains mandatory keys, the second optional keys. A map matches a Spec if it contains all its mandatory keys, any of the optional keys, and no other key</td>
      </tr>
      <tr>
          <td>SpecMap</td>
          <td>A YAML Map matching a MultiSpec</td>
      </tr>
      <tr>
          <td>String</td>
          <td>YAML String</td>
      </tr>
      <tr>
          <td>Traversable</td>
          <td>One of: A SpecMap, a List of Traversable, a Map of Traversable</td>
      </tr>
  </tbody>
</table>
<hr>
<h3 id="arbitrary-class-loading-system">Arbitrary class loading system</h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Alchemist is able to load arbitrary types conforming to the expected <code>interface</code>
(or Scala <code>trait</code>).
The expected type depends on where the class is requested.
This section describes how the system works independently of the specific target type.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>type</code></td>
          <td><code>parameters</code></td>
      </tr>
  </tbody>
</table>
<h4 id="type"><code>type</code></h4>
<p><strong>Type</strong>: String</p>
<p>The name of an instanceable class compatible with the expected interface.
It can be either the qualified name or a simple name,
in the latter case the class <strong>SHOULD</strong> be located in the same package where the
default alchemist implementations of the same interface live.</p>
<p>If a name includes a <code>.</code>, it is interpreted as a fully qualified name.
Otherwise, it is interpreted as a simple name.
Provided types <strong>SHOULD NOT</strong> be located in the default package.</p>
<p>For instance, if the expected type is an <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-action/"><code>Action</code></a> and the concrete type <code>FooAction</code>,
<code>FooAction</code> <strong>SHOULD</strong> be located into package <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.actions/"><code>it.unibo.alchemist.model.actions</code></a>.</p>
<h4 id="parameters"><code>parameters</code></h4>
<p><strong>Type</strong>: List or Map</p>
<p>The list of parameters the constructor of <a href="./reference/yaml/index.html#type">type</a> should be passed.
Alchemist automatically provides <em>contextual</em> information to the constructors:
for instance, if an <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-action/"><code>Action</code></a> is being built,
the loading system is aware of the current
<code>RandomGenerator</code>,
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/"><code>Incarnation</code></a>,
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-environment/"><code>Environment</code></a>,
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-deployment/"><code>Deployment</code></a>,
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-node/"><code>Node</code></a>, <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-time-distribution/"><code>TimeDistribution</code></a>, and
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-reaction/"><code>Reaction</code></a>,
as the action requires all of them.
Consequently, all parameters of these types <strong>SHOULD NOT</strong> be manually specified
(on the other hand, the syntax is built to make it very difficult to do by mistake).
The constructor <strong>MAY</strong> fail if they are provided.</p>
<p>If a Map is provided instead of a List,
then the keys are interpred as the parameter names,
and their associated values as the corresponding parameter values.
Since Java 11 does not support named arguments,
this special invocation type is built around the Kotlin reflection,
thus, the concrete class whose constructor is being invoked <strong>MUST</strong> be written in Kotlin.</p>
<p>When using named arguments,
if at least one optional parameter is specified,
then all the previous optional parameters <strong>MUST</strong> be specified as well.
This limitation is due to the fact that Alchemist supports loading of JVM classes regardless of their origin language,
and, thus, the simulator must leverage constructor overloading to emulate optional parameters.
In the case of Kotlin classes, because of the way
<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-overloads/" rel="external" target="_blank"><code>@JvmOverloads</code></a>
works, only a (reasonable) subset of all possible overloads gets generated, and they differ by parameter count.</p>
<p>Instantiation is delegated to the <a href="https://github.com/DanySK/jirf/" rel="external" target="_blank">Java Implicit Reflective Factory</a>.</p>
<h4 id="examples">Examples</h4>
<ul>
<li>Construction of a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-point/"><code>Point</code></a>

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Point
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>]
    </span></span></code></pre></div></div>
    </div></li>
<li>Construction of variables with named parameters

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">0.5</span>] }
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: GraphStreamDeployment
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">nodeCount</span>: <span style="color:#ff9f43">1000</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">offsetX</span>: -<span style="color:#ff9f43">10</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">offsetY</span>: <span style="color:#ff9f43">10</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">zoom</span>: <span style="color:#ff9f43">100</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">layoutQuality</span>: <span style="color:#ff9f43">0.2</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">generatorName</span>: Lobster
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">createLinks</span>: <span style="color:#ff6ac1">true</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">15</span>]
    </span></span></code></pre></div></div>
    </div></li>
</ul>
<h4 id="counter-examples">Counter-examples</h4>
<ul>
<li>The following simulation <strong>fails on loading</strong>, as
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.layers/-bidimensional-gaussian-layer/"><code>BidimensionalGaussianLayer</code></a>
has the <em>first</em> and <em>last</em> parameters marked as optional:
in order to provide the latter, the designer must also provide the former.

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">6</span>]
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
    </span></span><span style="display:flex;"><span>    [<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">100</span>]
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: grain
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff9f43">5</span>
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">molecule</span>: layer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">centerX</span>: <span style="color:#ff9f43">30</span>
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">centerY</span>: <span style="color:#ff9f43">30</span>
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">norm</span>: <span style="color:#ff9f43">30</span>
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">sigmaX</span>: <span style="color:#ff9f43">15</span>
    </span></span></code></pre></div></div>
    </div></li>
</ul>
<hr>
<h3 id="document-root">Document root</h3>
<p><strong>Type</strong>: SpecMap</p>
<p>The document contents at the root of the file.
Contains all the information required to buld a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-loader/"><code>Loader</code></a>,
which, in turn, is able to spawn
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.core/-simulation/"><code>Simulation</code></a>s
through a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-launcher/"><code>Launcher</code></a>.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>incarnation</code></td>
          <td><code>deployments</code>, <code>environment</code>, <code>export</code>, <code>layers</code>, <code>launcher</code>, <code>network-model</code>, <code>remote-dependencies</code>, <code>seeds</code>, <code>terminate</code>, <code>variables</code></td>
      </tr>
  </tbody>
</table>
<h4 id="examples-1">Examples</h4>
<ul>
<li>Minimal Biochemistry specification

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: biochemistry
  </span></span></code></pre></div></div>
  </div></li>
<li>Minimal Protelis specification

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span></code></pre></div></div>
  </div></li>
<li>Minimal SAPERE specification

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<hr>
<h3 id="incarnation"><code>incarnation</code></h3>
<p><strong>Type</strong>: String</p>
<p>Valid incarnation types in the full distribution:</p>
<ul>
<li><code>biochemistry</code></li>
<li><code>protelis</code></li>
<li><code>sapere</code></li>
<li><code>scafi</code></li>
</ul>
<h4 id="examples-2">Examples</h4>
<ul>
<li>Minimal Biochemistry specification

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: biochemistry
  </span></span></code></pre></div></div>
  </div></li>
<li>Minimal Protelis specification

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span></code></pre></div></div>
  </div></li>
<li>Minimal SAPERE specification

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<hr>
<h2 id="action"><code>action</code></h2>
<p>Builds an <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-action/"><code>Action</code></a>
using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<hr>
<h2 id="condition"><code>condition</code></h2>
<p>Builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-condition/"><code>Condition</code></a>
using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<hr>
<h3 id="deployments"><code>deployments</code></h3>
<p><strong>Type</strong>: Traversable</p>
<p>Traversable of <a href="./reference/yaml/index.html#deployment"><code>deployment</code></a></p>
<h3 id="deployment"><code>deployment</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Definition of the positions of a set of nodes.
Builds a
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-deployment/"><code>Deployment</code></a>
using the same syntax of <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>,
with additional keys.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>type</code></td>
          <td><code>parameters</code>, <code>contents</code>, <code>nodes</code>, <code>programs</code></td>
      </tr>
  </tbody>
</table>
<h4 id="examples-3">Examples</h4>
<ul>
<li>Deployment of a single node in a point

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Point
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>]
  </span></span></code></pre></div></div>
  </div></li>
<li>Deployment of three nodes

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere <span style="color:#78787e"># The incarnation is always mandatory</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance <span style="color:#78787e"># Loads a class with this name implementing LinkingRule</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>] <span style="color:#78787e"># Connection radius (parameter of a ConnectWithinDistance&#39;s constructor)</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point <span style="color:#78787e"># Loads a class with this name implementing Deployment</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>] <span style="color:#78787e"># Coordinates</span>
  </span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: Point, parameters</span>: [<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>] }
  </span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: Point, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>] }
  </span></span></code></pre></div></div>
  </div></li>
<li>Deployment of three nodes, but nesting the traversable

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">the_bottom_point</span>:
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Point
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>]
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">the_top_points</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Point
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>]
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Point
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>]
  </span></span></code></pre></div></div>
  </div></li>
<li>Deployment of three nodes through <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-specific-positions/"><code>SpecificPositions</code></a>.

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: SpecificPositions
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [[<span style="color:#ff9f43">0</span>,<span style="color:#ff9f43">1</span>],[<span style="color:#ff9f43">2</span>,<span style="color:#ff9f43">2</span>],[<span style="color:#ff9f43">3</span>,<span style="color:#ff9f43">4</span>]]
  </span></span></code></pre></div></div>
  </div></li>
<li><a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-grid/"><code>Grid</code></a> centered in <code>(0, 0)</code>, with nodes distanced of <code>0.25</code> both horizontally and vertically.

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>]
  </span></span></code></pre></div></div>
  </div></li>
<li>Irregular <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-grid/"><code>Grid</code></a> centered in <code>(0, 0)</code>, with nodes distanced of <code>0.25</code> both horizontally and vertically, randomly perturbed of (±<code>0.1</code> distance units).

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
  </span></span></code></pre></div></div>
  </div></li>
<li>Nodes located randomly inside a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-circle/"><code>Circle</code></a>

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Circle
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>]
  </span></span></code></pre></div></div>
  </div></li>
<li>Nodes located randomly inside a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-rectangle/"><code>Rectangle</code></a>

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1000</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">20</span>]
  </span></span></code></pre></div></div>
  </div></li>
<li>Nodes located randomly inside a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.deployments/-polygon/"><code>Polygon</code></a> delimiting the Venice Lagoon

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type</span>: OSMEnvironment }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">1000</span>] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_venice_lagoon</span>: <span style="color:#78787e">&amp;lagoon</span>
  </span></span><span style="display:flex;"><span>  [[<span style="color:#ff9f43">45.2038121</span>, <span style="color:#ff9f43">12.2504425</span>], [<span style="color:#ff9f43">45.2207426</span>, <span style="color:#ff9f43">12.2641754</span>], [<span style="color:#ff9f43">45.2381516</span>, <span style="color:#ff9f43">12.2806549</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2570053</span>, <span style="color:#ff9f43">12.2895813</span>], [<span style="color:#ff9f43">45.276336</span>, <span style="color:#ff9f43">12.2957611</span>], [<span style="color:#ff9f43">45.3029049</span>, <span style="color:#ff9f43">12.2991943</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3212544</span>, <span style="color:#ff9f43">12.3046875</span>], [<span style="color:#ff9f43">45.331875</span>, <span style="color:#ff9f43">12.3040009</span>], [<span style="color:#ff9f43">45.3453893</span>, <span style="color:#ff9f43">12.3040009</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3502151</span>, <span style="color:#ff9f43">12.3156738</span>], [<span style="color:#ff9f43">45.3622776</span>, <span style="color:#ff9f43">12.3232269</span>], [<span style="color:#ff9f43">45.3719259</span>, <span style="color:#ff9f43">12.3300934</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3830193</span>, <span style="color:#ff9f43">12.3348999</span>], [<span style="color:#ff9f43">45.395557</span>, <span style="color:#ff9f43">12.3445129</span>], [<span style="color:#ff9f43">45.3998964</span>, <span style="color:#ff9f43">12.3300934</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4018249</span>, <span style="color:#ff9f43">12.3136139</span>], [<span style="color:#ff9f43">45.4105023</span>, <span style="color:#ff9f43">12.3122406</span>], [<span style="color:#ff9f43">45.4167685</span>, <span style="color:#ff9f43">12.311554</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4278531</span>, <span style="color:#ff9f43">12.3012543</span>], [<span style="color:#ff9f43">45.4408627</span>, <span style="color:#ff9f43">12.2902679</span>], [<span style="color:#ff9f43">45.4355628</span>, <span style="color:#ff9f43">12.2772217</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.4206242</span>, <span style="color:#ff9f43">12.2703552</span>], [<span style="color:#ff9f43">45.3994143</span>, <span style="color:#ff9f43">12.2744751</span>], [<span style="color:#ff9f43">45.3738553</span>, <span style="color:#ff9f43">12.2676086</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.3579354</span>, <span style="color:#ff9f43">12.2614288</span>], [<span style="color:#ff9f43">45.3429763</span>, <span style="color:#ff9f43">12.2497559</span>], [<span style="color:#ff9f43">45.3198059</span>, <span style="color:#ff9f43">12.2408295</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2975921</span>, <span style="color:#ff9f43">12.2346497</span>], [<span style="color:#ff9f43">45.2802014</span>, <span style="color:#ff9f43">12.2408295</span>], [<span style="color:#ff9f43">45.257972</span>, <span style="color:#ff9f43">12.233963</span>],
  </span></span><span style="display:flex;"><span>   [<span style="color:#ff9f43">45.2038121</span>, <span style="color:#ff9f43">12.2504425</span>]]
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Polygon
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">500</span>, <span style="color:#78787e">*lagoon]</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">10</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>: { <span style="color:#ff6ac1">type: BrownianMove, parameters</span>: [<span style="color:#ff9f43">0.0005</span>]}
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<hr>
<h3 id="deploymenttype"><code>deployment.type</code></h3>
<p>Same as <a href="./reference/yaml/index.html#type">type</a></p>
<h3 id="deploymentparameters"><code>deployment.parameters</code></h3>
<p>Same as <a href="./reference/yaml/index.html#parameters">parameters</a></p>
<h3 id="deploymentcontents"><code>deployment.contents</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#content"><code>content</code></a></p>
<h3 id="deploymentnodes"><code>deployment.nodes</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Forces the type of <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-node/"><code>Node</code></a>, building concrete types through
the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.
If left unspecified, nodes get created through
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/create-node.html"><code>Incarnation.createNode</code></a>.</p>
<h4 id="examples-4">Examples</h4>
<ul>
<li>Creation of heterogeneous pedestrians

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;elderly&#34;</span>, <span style="color:#5af78e">&#34;female&#34;</span>]
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeterogeneousPedestrian
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">20</span>]
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">properties</span>:
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Human
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#5af78e">&#34;child&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span>]
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeterogeneousPedestrian
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Perceptive2D
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CircularArea
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Social</span></span></code></pre></div></div>
  </div></li>
</ul>
<h3 id="deploymentproperties"><code>deployment.properties</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#property"><code>property</code></a></p>
<h3 id="deploymentprograms"><code>deployment.programs</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#program"><code>program</code></a></p>
<hr>
<h3 id="content"><code>content</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Definition of the contents (<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a>s and <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-concentration/"><code>Concentration</code></a>s) of a group of nodes.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>molecule</code>, <code>concentration</code></td>
          <td><code>in</code></td>
      </tr>
  </tbody>
</table>
<h4 id="examples-5">Examples</h4>
<ul>
<li>Three molecules injected into all nodes deployed in the scenario

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">7</span>]
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_gradient</span>: <span style="color:#78787e">&amp;gradient</span>
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: Event
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: RunProtelisProgram
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [distanceTo, 1.01]
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: send
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>,<span style="color:#ff9f43">0</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: source
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">false</span>
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: enabled
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">true</span>
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: data
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff9f43">1</span> / 0
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*gradient</span>
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: StepCount
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">5000</span>
    </span></span></code></pre></div></div>
    </div></li>
<li>Injection of a molecule only in those nodes located inside a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.positionfilters/-rectangle/"><code>Rectangle</code></a>

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">0.5</span>] }
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>] <span style="color:#78787e"># A perturbed grid of devices</span>
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;{hit, 0}&#34;</span> <span style="color:#78787e"># Everywhere, no one has been hit</span>
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>: { <span style="color:#ff6ac1">type: Rectangle, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>] } <span style="color:#78787e"># Inside this shape...</span>
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: ball <span style="color:#78787e"># ...every node has a ball</span>
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># This is a frequency, time distribution type is left to the incarnation</span>
    </span></span><span style="display:flex;"><span>      <span style="color:#78787e"># &#39;program&#39; specs are passed down to the incarnation for being interpreted as reactions</span>
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{ball} {hit, N} --&gt; {hit, N + 1} {launching}&#34;</span> <span style="color:#78787e"># If hit, count the hit</span>
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{launching} --&gt; +{ball}&#34;</span> <span style="color:#78787e"># As soon as possible, throw the ball to a neighbor</span>
    </span></span></code></pre></div></div>
    </div></li>
</ul>
<h3 id="contentmolecule"><code>content.molecule</code></h3>
<p><strong>Type</strong>: String or SpecMap</p>
<p>The name of the molecule to be injected.
If a String is provided, then it is created via <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/create-molecule.html"><code>Incarnation.createMolecule</code></a>.
Otherwise, the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a> <strong>SHOULD</strong> be used.</p>
<h3 id="contentconcentration"><code>content.concentration</code></h3>
<p><strong>Type</strong>: String</p>
<p>The concentration of the molecule to be injected.
If a String is provided, then it is created via <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/create-concentration.html"><code>Incarnation.createConcentration</code></a>.
Otherwise, the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a> <strong>SHOULD</strong> be used.</p>
<h3 id="contentin"><code>content.in</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#shapefilter">shapeFilter</a></p>
<h3 id="property"><code>property</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>type</code></td>
          <td><code>parameters</code>, <code>in</code></td>
      </tr>
  </tbody>
</table>
<h3 id="propertytype"><code>property.type</code></h3>
<p>Same as <a href="./reference/yaml/index.html#type">type</a></p>
<h3 id="propertyparameters"><code>property.parameters</code></h3>
<p>Same as <a href="./reference/yaml/index.html#parameters">parameters</a></p>
<h3 id="propertyin"><code>property.in</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#shapefilter">shapeFilter</a></p>
<hr>
<h3 id="environment"><code>environment</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Builds an <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-environment/"><code>Environment</code></a>
using the same syntax of <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<p>If left unspecified, defaults to a bidimensional Euclidean manifold:
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.environments/-continuous2-d-environment/"><code>Continuous2DEnvironment</code></a>.</p>
<p><strong>Type</strong>: SpecMap</p>
<h4 id="examples-6">Examples</h4>
<ul>
<li>Default environment, omitted specification

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
    </span></span></code></pre></div></div>
    </div></li>
<li>Explicitly builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.environments/-continuous2-d-environment/"><code>Continuous2DEnvironment</code></a> solely with the contextual parameters

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
  </span></span></code></pre></div></div>
  </div></li>
<li>Explicitly builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.environments/-continuous2-d-environment/"><code>Continuous2DEnvironment</code></a> using the qualified type name using only the contextual parameters

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: it.unibo.alchemist.model.environments.Continuous2DEnvironment
  </span></span></code></pre></div></div>
  </div></li>
<li>Explicitly builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.environments/-continuous2-d-environment/"><code>Continuous2DEnvironment</code></a> explicitly specifying that no parameters but the contextual ones should be used

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: []
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<hr>
<h3 id="export"><code>export</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#exporter"><code>exporter</code></a></p>
<hr>
<h3 id="exporter"><code>exporter</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Definition of the contents (<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a>s and <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-concentration/"><code>Concentration</code></a>s) of a group of nodes.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>type</code>, <code>data</code></td>
          <td><code>parameters</code></td>
      </tr>
  </tbody>
</table>
<h3 id="exportertype"><code>exporter.type</code></h3>
<p>Same as <a href="./reference/yaml/index.html#type">type</a></p>
<h3 id="exporterdata"><code>exporter.data</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#extractor"><code>extractor</code></a></p>
<h3 id="exporterparameters"><code>exporter.parameters</code></h3>
<p>Same as <a href="./reference/yaml/index.html#parameters">parameters</a></p>
<hr>
<h3 id="extractor"><code>extractor</code></h3>
<p><strong>Type</strong>: String or SpecMap</p>
<p>The only supported String is <code>&quot;time&quot;</code>.
Otherwise, a SpecMap <strong>MUST</strong> be provided.</p>
<p>Creates instances of <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-extractor/"><code>Extractor</code></a>.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>type</code></td>
          <td><code>parameters</code></td>
      </tr>
      <tr>
          <td><code>molecule</code></td>
          <td><code>property</code>, <code>aggregators</code>, <code>value-filter</code></td>
      </tr>
  </tbody>
</table>
<h3 id="extractortype"><code>extractor.type</code></h3>
<p>Same as <a href="./reference/yaml/index.html#type">type</a></p>
<h3 id="extractorparameters"><code>extractor.parameters</code></h3>
<p>Same as <a href="./reference/yaml/index.html#parameters">parameters</a></p>
<h3 id="extractormolecule"><code>extractor.molecule</code></h3>
<p><strong>Type</strong>: String</p>
<p>Name of a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a> to be read from nodes and exported.
The String is passed down to <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/create-molecule.html"><code>Incarnation.createMolecule</code></a>.
The created molecule is read from every node.</p>
<h3 id="extractorproperty"><code>extractor.property</code></h3>
<p><strong>Type</strong>: String</p>
<p>Name of a property to be extracted from the selected <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a>.
The Molecule and the String are passed down to <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/get-property.html"><code>Incarnation.getProperty</code></a>.
The obtained value is added to the exports.</p>
<h3 id="extractoraggregators"><code>extractor.aggregators</code></h3>
<p><strong>Type</strong>: String or List of Strings</p>
<p>Name of any valid
<a href="https://javadoc.io/static/org.apache.commons/commons-math3/3.6.1/org/apache/commons/math3/stat/descriptive/UnivariateStatistic.html" rel="external" target="_blank"><code>UnivariateStatistic</code></a>,
case insensitive.
All those provided with Apache Commons Math are available by default.
New statistics can be defined,
they get loaded transparently as far as their package matches the one of Apache Commons Math.</p>
<p>If the aggregators are specified, only one value per aggregator gets exported,
instead of one value for each node.</p>
<h3 id="extractorvalue-filter"><code>extractor.value-filter</code></h3>
<p><strong>Type</strong>: String or SpecMap</p>
<p>Builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-export-filter/"><code>ExportFilter</code></a>,
to be applied to raw data before being processed by the <code>aggregators</code>(#extractoraggregators),
if present.
If a String is provided, then it is used to load a policy from <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.exportfilters/-common-filters/"><code>CommonFilters</code></a>.
Otherwise, the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a> <strong>MUST</strong> be used.</p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>type</code></td>
          <td><code>parameters</code></td>
      </tr>
  </tbody>
</table>
<h3 id="extractorvalue-filtertype"><code>extractor.value-filter.type</code></h3>
<p>Same as <a href="./reference/yaml/index.html#type">type</a></p>
<h3 id="extractorvalue-filterparameters"><code>extractor.value-filter.parameters</code></h3>
<p>Same as <a href="./reference/yaml/index.html#parameters">parameters</a></p>
<hr>
<h3 id="launcher"><code>launcher</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-launcher/"><code>Launcher</code></a>
using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.
If unspecified, defaults to <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.launchers/-default-launcher/"><code>DefaultLauncher</code></a>,
which runs the default simulation,
unless the variable set on which the batch should be executed is specified.</p>
<p>Customizing the launcher can be useful for implementing custom batch execution strategies,
or &ldquo;simulations of simulations&rdquo;,
if the process requires multiple simulation &ldquo;stages&rdquo;
(e.g., running a batch to train a neural network, then running another batch to test it).</p>
<hr>
<h3 id="layer"><code>layer</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-layer/"><code>Layer</code></a>
using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<h4 id="examples-7">Examples</h4>
<ul>
<li>Creation of two <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-layer/"><code>Layer</code></a>s

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: []
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: StepLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">0</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: A
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: StepLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">2</span>, -<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">100</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: B
    </span></span></code></pre></div></div>
    </div></li>
<li>Creation of two <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.layers/-bidimensional-gaussian-layer/"><code>BidimensionalGaussianLayer</code></a>s:

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_danger</span>: <span style="color:#78787e">&amp;danger</span>
    </span></span><span style="display:flex;"><span>  danger
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_target</span>: <span style="color:#78787e">&amp;target</span>
    </span></span><span style="display:flex;"><span>  targe
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*danger</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">80</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">20</span>]
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*target</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">50</span>]
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2.0</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: BlendedSteering
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentAvoidLayer
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*danger]</span>
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowLayer
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*target]</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">conditions</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: WantToEscape
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeadTowardRandomDirection
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_nodes</span>: <span style="color:#78787e">&amp;nodes</span>
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">properties</span>:
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Human
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [ <span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span> ]
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Cognitive2D
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [ <span style="color:#78787e">*danger</span> ]
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Perceptive2D
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CircularArea
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*behavior</span>
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">25</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">8</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*nodes</span>
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">75</span>, <span style="color:#ff9f43">60</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*nodes</span>
    </span></span></code></pre></div></div>
    </div></li>
</ul>
<hr>
<h3 id="layers"><code>layers</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#layer"><code>layer</code></a></p>
<h4 id="examples-8">Examples</h4>
<ul>
<li>Creation of two <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-layer/"><code>Layer</code></a>s

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: []
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: StepLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">0</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: A
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: StepLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">2</span>, -<span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">100</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: B
    </span></span></code></pre></div></div>
    </div></li>
<li>Creation of two <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.layers/-bidimensional-gaussian-layer/"><code>BidimensionalGaussianLayer</code></a>s:

    <script>
    
    
    function onClick(element) {
        var content = $(element).parent().find(".expand-content");
        var chevron = $(element).find(".fas");
        if (content.css("display") === "none") {
            chevron.removeClass("fa-chevron-right");
            chevron.addClass("fa-chevron-down");
            content.slideDown(100);
        } else {
            chevron.removeClass("fa-chevron-down");
            chevron.addClass("fa-chevron-right");
            content.slideUp(100);
        }
    }
    </script>
    <div class="expand">
        <a class="expand-label" onclick="onClick(this)"> 
            <span class="fas fa-chevron-right"></span>
            <strong>Click to show / hide code</strong>
        </a>
        <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_danger</span>: <span style="color:#78787e">&amp;danger</span>
    </span></span><span style="display:flex;"><span>  danger
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_target</span>: <span style="color:#78787e">&amp;target</span>
    </span></span><span style="display:flex;"><span>  targe
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ContinuousPhysics2DEnvironment
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">layers</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*danger</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">80</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">20</span>]
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: BidimensionalGaussianLayer
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: <span style="color:#78787e">*target</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">50</span>]
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>:
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario</span>: <span style="color:#ff9f43">0</span>
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">simulation</span>: <span style="color:#ff9f43">1</span>
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>: <span style="color:#78787e">&amp;behavior</span>
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2.0</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: BlendedSteering
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentAvoidLayer
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*danger]</span>
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: CognitiveAgentFollowLayer
    </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*target]</span>
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">conditions</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: WantToEscape
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>:
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: DiracComb
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: CognitiveBehavior
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">actions</span>:
    </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: HeadTowardRandomDirection
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_nodes</span>: <span style="color:#78787e">&amp;nodes</span>
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">properties</span>:
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Human
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [ <span style="color:#5af78e">&#34;adult&#34;</span>, <span style="color:#5af78e">&#34;male&#34;</span> ]
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CognitivePedestrian
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Cognitive2D
    </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [ <span style="color:#78787e">*danger</span> ]
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: Perceptive2D
    </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">type</span>: CircularArea
    </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*behavior</span>
    </span></span><span style="display:flex;"><span>
    </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">25</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">8</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*nodes</span>
    </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Circle
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">75</span>, <span style="color:#ff9f43">60</span>, <span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">10</span>]
    </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">&lt;&lt;</span>: <span style="color:#78787e">*nodes</span>
    </span></span></code></pre></div></div>
    </div></li>
</ul>
<hr>
<h3 id="monitor"><code>monitor</code></h3>
<p><strong>Type</strong>: SpecMap
Builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-output-monitor/"><code>OutputMonitor</code></a>
using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<h4 id="examples-9">Examples</h4>
<ul>
<li>Creation of one <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-output-monitor/"><code>OutputMonitor</code></a>s

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">global-programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>:
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: DiracComb
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: GlobalTestReaction
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">monitors</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: another.location.SimpleMonitor
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<hr>
<h3 id="monitors"><code>monitors</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#monitor"><code>monitor</code></a></p>
<h4 id="examples-10">Examples</h4>
<ul>
<li>Creation of one <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-output-monitor/"><code>OutputMonitor</code></a>s

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Continuous2DEnvironment
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">global-programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>:
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: DiracComb
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1.0</span>]
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: GlobalTestReaction
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">monitors</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: another.location.SimpleMonitor
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<hr>
<h3 id="network-model"><code>network-model</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-linking-rule/"><code>LinkingRule</code></a>
using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.
If unspecified, defaults to <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.linkingrules/-no-links/"><code>NoLinks</code></a>,
and no node will have any neighbor.</p>
<h4 id="examples-11">Examples</h4>
<ul>
<li>Nodes connected when closer than some range

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere <span style="color:#78787e"># The incarnation is always mandatory</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance <span style="color:#78787e"># Loads a class with this name implementing LinkingRule</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">2</span>] <span style="color:#78787e"># Connection radius (parameter of a ConnectWithinDistance&#39;s constructor)</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Point <span style="color:#78787e"># Loads a class with this name implementing Deployment</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0</span>, <span style="color:#ff9f43">0</span>] <span style="color:#78787e"># Coordinates</span>
  </span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: Point, parameters</span>: [<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>] }
  </span></span><span style="display:flex;"><span>  - { <span style="color:#ff6ac1">type: Point, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">0.85</span>] }
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<hr>
<h3 id="program"><code>program</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Definition of the contents (<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-molecule/"><code>Molecule</code></a>s and <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-concentration/"><code>Concentration</code></a>s) of a group of nodes.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>type</code></td>
          <td><code>parameters</code>, <code>conditions</code>, <code>time-distribution</code> <code>actions</code></td>
      </tr>
      <tr>
          <td><code>program</code></td>
          <td><code>time-distribution</code></td>
      </tr>
  </tbody>
</table>
<h3 id="programtype"><code>program.type</code></h3>
<p>Same as <a href="./reference/yaml/index.html#type">type</a></p>
<h3 id="programprogram"><code>program.program</code></h3>
<p><strong>Type</strong>: String</p>
<p>Passed to <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/create-reaction.html"><code>Incarnation.createReaction</code></a> to be interepreted and</p>
<h3 id="programin"><code>program.in</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#shapefilter">shapeFilter</a></p>
<h3 id="programactions"><code>program.actions</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#action"><code>action</code></a></p>
<h3 id="programconditions"><code>program.conditions</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#condition"><code>condition</code></a></p>
<h3 id="programparameters"><code>program.parameters</code></h3>
<p>Same as <a href="./reference/yaml/index.html#parameters">parameters</a></p>
<h3 id="programtime-distribution"><code>program.time-distribution</code></h3>
<p><strong>Type</strong>: String or SpecMap</p>
<p>Builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-time-distribution/"><code>TimeDistribution</code></a>.
If a String is provided, then it is created via <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-incarnation/create-time-distribution.html"><code>Incarnation.createTimeDistribution</code></a>.
Otherwise, the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a> <strong>SHOULD</strong> be used.</p>
<hr>
<h3 id="remote-dependencies"><code>remote-dependencies</code></h3>
<hr>
<h3 id="shapefilter"><code>shapeFilter</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Builds a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model/-position-based-filter/"><code>PositionBasedFilter</code></a>
using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<h4 id="examples-12">Examples</h4>
<ul>
<li>Injection of a molecule only in those nodes located inside a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.positionfilters/-rectangle/"><code>Rectangle</code></a>

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ConnectWithinDistance, parameters</span>: [<span style="color:#ff9f43">0.5</span>] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>] <span style="color:#78787e"># A perturbed grid of devices</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;{hit, 0}&#34;</span> <span style="color:#78787e"># Everywhere, no one has been hit</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>: { <span style="color:#ff6ac1">type: Rectangle, parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>] } <span style="color:#78787e"># Inside this shape...</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: ball <span style="color:#78787e"># ...every node has a ball</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># This is a frequency, time distribution type is left to the incarnation</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#78787e"># &#39;program&#39; specs are passed down to the incarnation for being interpreted as reactions</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{ball} {hit, N} --&gt; {hit, N + 1} {launching}&#34;</span> <span style="color:#78787e"># If hit, count the hit</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{launching} --&gt; +{ball}&#34;</span> <span style="color:#78787e"># As soon as possible, throw the ball to a neighbor</span>
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<hr>
<h3 id="seeds"><code>seeds</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Selection of the seed for the
<a href="./reference/yaml/index.html"><code>RandomGenerator</code></a>s.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td></td>
          <td><code>scenario</code>, <code>simulation</code></td>
      </tr>
  </tbody>
</table>
<h3 id="seedsscenario"><code>seeds.scenario</code></h3>
<p><strong>Type</strong>: Int</p>
<p>Selection of the seed for the
<a href="https://javadoc.io/static/org.apache.commons/commons-math3/3.6.1/org/apache/commons/math3/random/RandomGenerator.html" rel="external" target="_blank"><code>RandomGenerator</code></a>
controlling the position of random displacements.</p>
<h3 id="seedssimulation"><code>seeds.simulation</code></h3>
<p><strong>Type</strong>: Int</p>
<p>Selection of the seed for the
<a href="https://javadoc.io/static/org.apache.commons/commons-math3/3.6.1/org/apache/commons/math3/random/RandomGenerator.html" rel="external" target="_blank"><code>RandomGenerator</code></a>
controlling the evolution of the events of the simulation.</p>
<hr>
<h3 id="terminate"><code>terminate</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#terminator"><code>terminator</code></a></p>
<hr>
<h3 id="terminator"><code>terminator</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Builds a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" rel="external" target="_blank"><code>Predicate</code></a>
using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<h4 id="examples-13">Examples</h4>
<ul>
<li>Termination after some time

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">30</span>]
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: Rectangle
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">100</span>, <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">contents</span>:
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;source&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">concentration</span>: <span style="color:#ff6ac1">true</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">in</span>:
  </span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: Circle
  </span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">107.96487911806524</span>, <span style="color:#ff9f43">102.49167432603535</span>, <span style="color:#ff9f43">10</span>]
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># This is a frequency</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">           import protelis:coord:spreading
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">           distanceTo(self.getDeviceUID().getId() == 0)</span>
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: send
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: AfterTime
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">1</span>
  </span></span></code></pre></div></div>
  </div>

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      import java.io.File
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      File(&#34;../..&#34;).walkTopDown().find { image_name in it.name }?.absolutePath ?: image_name</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">300</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>]
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;00-testing_csv_export&#34;</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ]
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: CSVExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">fileNameRoot</span>: <span style="color:#5af78e">&#34;fixed-decimals&#34;</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">type</span>: Time
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">precision</span>: <span style="color:#ff9f43">2</span>
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">property</span>: <span style="color:#5af78e">&#34;self.nextRandomDouble()&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">precision</span>: <span style="color:#ff9f43">2</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ]
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">5</span>] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
  </span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: AfterTime
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">10</span></span></span></code></pre></div></div>
  </div>

  <script>
  
  
  function onClick(element) {
      var content = $(element).parent().find(".expand-content");
      var chevron = $(element).find(".fas");
      if (content.css("display") === "none") {
          chevron.removeClass("fa-chevron-right");
          chevron.addClass("fa-chevron-down");
          content.slideDown(100);
      } else {
          chevron.removeClass("fa-chevron-down");
          chevron.addClass("fa-chevron-right");
          content.slideUp(100);
      }
  }
  </script>
  <div class="expand">
      <a class="expand-label" onclick="onClick(this)"> 
          <span class="fas fa-chevron-right"></span>
          <strong>Click to show / hide code</strong>
      </a>
      <div class="expand-content" style="display: none;"><div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: protelis
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">variables</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">zoom</span>: <span style="color:#78787e">&amp;zoom</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: <span style="color:#ff9f43">0.1</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_name</span>: { <span style="color:#ff6ac1">formula</span>: <span style="color:#5af78e">&#34;&#39;chiaravalle.png&#39;&#34;</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">image_path</span>: <span style="color:#78787e">&amp;image_path</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">language</span>: kotlin
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">formula</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      import java.io.File
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      File(&#34;../..&#34;).walkTopDown().find { image_name in it.name }?.absolutePath ?: image_name</span>
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">walking_speed</span>: <span style="color:#78787e">&amp;walk-speed</span> { <span style="color:#ff6ac1">default: 1.4, min: 1, max: 2, step</span>: <span style="color:#ff9f43">0.1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">seed</span>: <span style="color:#78787e">&amp;seed</span> { <span style="color:#ff6ac1">default: 0, min: 0, max: 99, step</span>: <span style="color:#ff9f43">1</span> }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">scenario_seed</span>: <span style="color:#78787e">&amp;scenario_seed</span> { <span style="color:#ff6ac1">formula</span>: (seed + 31) * seed }
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">people_count</span>: <span style="color:#78787e">&amp;people_count</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">type</span>: GeometricVariable
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">10</span>, <span style="color:#ff9f43">50</span>, <span style="color:#ff9f43">500</span>, <span style="color:#ff9f43">9</span>]
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">seeds</span>: { <span style="color:#ff6ac1">simulation: *seed, scenario</span>: <span style="color:#78787e">*scenario_seed}</span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">export</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: MongoDBExporter
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>:
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">uri</span>: <span style="color:#5af78e">&#34;mongodb://localhost:27017/&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">dbName</span>: <span style="color:#5af78e">&#34;test&#34;</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">interval</span>: <span style="color:#ff9f43">2.0</span>
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">data</span>:
  </span></span><span style="display:flex;"><span>      - time
  </span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">molecule</span>: <span style="color:#5af78e">&#34;default_module:default_program&#34;</span>
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">aggregators</span>: [ mean, max, min, variance, median ]
  </span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">value-filter</span>: onlyfinite
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">environment</span>: { <span style="color:#ff6ac1">type: ImageEnvironment, parameters</span>: [<span style="color:#78787e">*image_path,</span> <span style="color:#78787e">*zoom]</span> }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>: { <span style="color:#ff6ac1">type: ObstaclesBreakConnection, parameters</span>: [<span style="color:#ff9f43">50</span>] }
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Rectangle
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*people_count,</span> <span style="color:#ff9f43">62</span>, <span style="color:#ff9f43">15</span>, <span style="color:#ff9f43">95</span>, <span style="color:#ff9f43">200</span>]
  </span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>:
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
  </span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        import protelis:coord:spreading
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let source = [110, 325]
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let vector = self.getCoordinates() - source
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        let distance = hypot(vector.get(0), vector.get(1))
  </span></span></span><span style="display:flex;"><span><span style="color:#5af78e">        distanceTo(distance &lt; 50)</span>
  </span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
  </span></span><span style="display:flex;"><span>    - { <span style="color:#ff6ac1">type: Event, time-distribution: 1, actions</span>: { <span style="color:#ff6ac1">type: LevyWalk, parameters</span>: [<span style="color:#78787e">*walk-speed]</span> } }
  </span></span><span style="display:flex;"><span>
  </span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
  </span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: AfterTime
  </span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">3</span>
  </span></span></code></pre></div></div>
  </div></li>
</ul>
<h3 id="variable"><code>variable</code></h3>
<p><strong>Type</strong>: SpecMap</p>
<p>Definition of <a href="./howtos/simulation/variables/index.html#free-variables">free</a>
and <a href="./howtos/simulation/variables/index.html#dependent-variables">dependent</a> variables.</p>
<p><strong>(Multi)Spec</strong></p>
<table>
  <thead>
      <tr>
          <th>Mandatory keys</th>
          <th>Optional keys</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>type</code></td>
          <td><code>parameters</code></td>
      </tr>
      <tr>
          <td><code>min</code>, <code>max</code>, <code>step</code>, <code>default</code></td>
          <td></td>
      </tr>
      <tr>
          <td><code>formula</code></td>
          <td><code>language</code>, <code>timeout</code></td>
      </tr>
  </tbody>
</table>
<p>Variables can be created in three ways:</p>
<ul>
<li>Using the <a href="./reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>
to produce an instance of <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-variable/"><code>Variable</code></a> or
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-dependent-variable/"><code>DependentVariable</code></a>;</li>
<li>specifying the parameters of a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-linear-variable/"><code>LinearVariable</code></a>
(minimum and maximum values, incrementation step, and default value);</li>
<li>writing an expression that can be interpreted by some JSR-223-compatible language whose interpreter is in the
classpath, possibly specifying a timeout. Produces a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary/-dependent-variable/"><code>DependentVariable</code></a>.</li>
</ul>
<h3 id="variabletype"><code>variable.type</code></h3>
<p>Same as <a href="./reference/yaml/index.html#type">type</a></p>
<h3 id="variableparameters"><code>variable.parameters</code></h3>
<p>Same as <a href="./reference/yaml/index.html#parameters">parameters</a></p>
<h3 id="variabledefault"><code>variable.default</code></h3>
<p><strong>Type</strong>: Number</p>
<p>Default value for a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-linear-variable/"><code>LinearVariable</code></a>,
to be selected if the variable is not among those generating the batch.</p>
<h3 id="variablemax"><code>variable.max</code></h3>
<p><strong>Type</strong>: Number</p>
<p>Maximum value for a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-linear-variable/"><code>LinearVariable</code></a></p>
<h3 id="variablemin"><code>variable.min</code></h3>
<p><strong>Type</strong>: Number</p>
<p>Minimum value for a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-linear-variable/"><code>LinearVariable</code></a></p>
<h3 id="variablestep"><code>variable.step</code></h3>
<p><strong>Type</strong>: Number</p>
<p>Size of the incremental step of a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-linear-variable/"><code>LinearVariable</code></a></p>
<h3 id="variableformula"><code>variable.formula</code></h3>
<p><strong>Type</strong>: String</p>
<p>Code that can be interpreted by a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-j-s-r223-variable/"><code>JSR223Variable</code></a>.</p>
<h3 id="variablelanguage"><code>variable.language</code></h3>
<p><strong>Type</strong>: String</p>
<p>Language to be used by a <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-j-s-r223-variable/"><code>JSR223Variable</code></a>.
The language must be available in the classpath.
Groovy (default), Kotlin (<code>kotlin</code> or <code>kts</code>), and Scala (<code>scala</code>) are supported natively.</p>
<h3 id="variabletimeout"><code>variable.timeout</code></h3>
<p><strong>Type</strong>: Int</p>
<p>Time in milliseconds after which the interpreter of the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.variables/-j-s-r223-variable/"><code>JSR223Variable</code></a>
is considered stuck or in livelock.
The interpreter gets interrupted and the simulation loading fails to prevent unresponsive simulations.
Defaults to 1000ms.</p>
<hr>
<h3 id="variables"><code>variables</code></h3>
<p><strong>Type</strong>: Traversable of <a href="./reference/yaml/index.html#layer"><code>variable</code></a></p>
<hr>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/api-docs/index.html">Api Docs</a></li>
    <li><a class="term-link" href="./tags/dokka/index.html">Dokka</a></li>
    <li><a class="term-link" href="./tags/kdoc/index.html">Kdoc</a></li>
  </ul>
</div>
  </header>

<h1 id="api-docs">API Docs</h1>


  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/api-docs/index.html">Api Docs</a></li>
    <li><a class="term-link" href="./tags/dokka/index.html">Dokka</a></li>
    <li><a class="term-link" href="./tags/kdoc/index.html">Kdoc</a></li>
  </ul>
</div>
  </header>

<h1 id="per-module-api-docs">Per-module API Docs</h1>


  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/build-system/index.html">Build System</a></li>
    <li><a class="term-link" href="./tags/packages/index.html">Packages</a></li>
  </ul>
</div>
  </header>

<h1 id="project-organization">Project organization</h1>


  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/biochemistry/index.html">Biochemistry</a></li>
    <li><a class="term-link" href="./tags/junction/index.html">Junction</a></li>
    <li><a class="term-link" href="./tags/molecule/index.html">Molecule</a></li>
  </ul>
</div>
  </header>

<h1 id="biochemistry-incarnation">Biochemistry Incarnation</h1>

<h2 id="the-biochemistry-dsl">The Biochemistry DSL</h2>
<p>Biochemistry programs are written in a and human-readable syntax.
Valid programs can be written directly into
Those simple reactions can be fed directly as <a href="./reference/yaml/index.html#programprogram"><code>program</code></a> in the YAML file.</p>
<h3 id="reactions">Reactions</h3>
<p>A reaction rule can be set using the symbol <code>--&gt;</code> according to chemistry equations,
and placing both the molecules and the actions inside two square brackets
(ex. <code>[OH]</code>, <code>[H2O]</code>, <code>[BrownianMove(0.1)]</code>)</p>
<p>The following line represents a basic chemical reaction that happens inside a cell:
<code>[H] + [OH] --&gt; [H2O]</code></p>
<p>However, reactions can also take place outside cells.
Biological cells, indeed, can swap molecules with its neighbour or the surrounding environment,
and this is possible in Alchemist too, using the keywords:
<code>in cell</code>, <code>in neighbour</code> and <code>in env</code>.</p>
<p>The reaction <code>[A in env] --&gt; [A in cell]</code> moves the molecule A from the environement inside the cell.</p>
<p>If the location is not explicit, it is assumed the molecule to be inside the cell.</p>
<h3 id="junctions">Junctions</h3>
<p>A junction can be created just with a neighbor of the programmed cell.</p>
<p>The way to create it is with the syntax <code>[X] + [Y in neighbor] --&gt; [junction X-Y]</code>,
which means that when this reaction happens a junction using the molecule <code>X</code>
from the cell and the molecule <code>Y</code> from the neighbor will be created.</p>
<p>The junction can also be destroyed using the syntax <code>[junction X-Y] --&gt; []</code>,
causing the reintroduction of the molecule <code>X</code> inside the cell and the molecule <code>Y</code>
inside the neighbor.</p>
<p>Also, the junction will be automatically removed if, because of their movement,
the cells will stop being in a neighborhood.</p>
<h3 id="custom-conditions">Custom Conditions</h3>
<p>Any custom condition must be placed after the reaction products following an <code>if</code> clause.
For example, to create a molecule if the cell has at least three neighbor you would write:</p>
<p><code>[] --&gt; [X] if NumberOfNeighborsGreaterThan(5)</code></p>
<h3 id="movement">Movement</h3>
<p>A movement can be performed in the same way of a reaction, using the function as it is a product of the reaction itself.
This program constantly moves a cell without any other condition:</p>
<p><code>[] --&gt; [BrownianMove(0.1)]</code></p>
<h3 id="collisions">Collisions</h3>
<p>The Biochemistry Incarnation supports cell collisions and deformations too.</p>
<p>In order to do that, however, the environment must feature appropriate support, as for instance
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.biochemistry.environments/-bio-rect2-d-environment-no-overlap/"><code>BioRect2DEnvironmentNoOverlap</code></a>.</p>
<p>The cells must support deformation as well, as, for instance, a node with the
<a href="./reference/kdoc/alchemist/it.unibo.alchemist.model.biochemistry.properties/-circular-deformable-cell/"><code>CircularDeformableCell</code></a>
property.</p>
<p>The minimum radius of the cell is so that <code>min-radius = rigidity * max-radius</code>
and the two parameters are used to compute collisions and impacts between the cells.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/batch/index.html">Batch</a></li>
    <li><a class="term-link" href="./tags/cli/index.html">Cli</a></li>
    <li><a class="term-link" href="./tags/command-line/index.html">Command Line</a></li>
    <li><a class="term-link" href="./tags/options/index.html">Options</a></li>
    <li><a class="term-link" href="./tags/variables/index.html">Variables</a></li>
  </ul>
</div>
  </header>

<h1 id="command-line-interface">Command Line interface</h1>

<h2 id="the-cli-interface">The CLI Interface</h2>
<p>Alchemist utilizes a CLI interface to run a simulation.</p>
<p>A minimal launch looks like this:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code class="language-cli" data-lang="cli">run --simulationFile simulation.yml</code></pre></div>
<p>Where the options are</p>
<ul>
<li><code>run</code> - Tells that Alchemist simulation is to be runned</li>
<li><code>--simulationFile</code> - Indicates the resource or path to the resource for the simulation configuration file</li>
</ul>
<h3 id="logging-verbosity">Logging Verbosity</h3>
<p>Unless specifies, Alchemist logs with the <code>warn</code> logging level by default. Logging level tells
how verbose and throrough the outputted logs are.</p>
<p>Alchemist has the following logging levels avaialble (from less to most verbose):</p>
<ul>
<li>off</li>
<li>debug</li>
<li>info</li>
<li>warn</li>
<li>error</li>
<li>all</li>
</ul>
<p>In order to specify verbosity, the <code>--verbosity</code> option can be used:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code class="language-cli" data-lang="cli">run --simulationFile simulation.yml --verbosity error</code></pre></div>
<h3 id="overriding-variables">Overriding Variables</h3>
<p>Alchemist parses the configuration variables from the simulation configuration file.
In some cases it may be desirable to override some of the simulation file variables without
resorting to creating a new file. For such cases, <code>--override</code> option is available.
This options takes in input a valid yaml string representing the part of the configuration file to be overriden.</p>
<p>For example, given configuration file <code>simulation.yml</code>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">foo</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">bar</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">fizz</span>: <span style="color:#ff9f43">42</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">buzz</span>: some-string</span></span></code></pre></div>
<p>And override with</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code class="language-cli" data-lang="cli">run --simulationFile simulation.yml --override
foo:
    bar:
        buzz: 3</code></pre></div>
<p>The resulting simulation file would be equivalent to</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">foo</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">bar</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">fizz</span>: <span style="color:#ff9f43">42</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">buzz</span>: <span style="color:#ff9f43">3</span></span></span></code></pre></div>
<p>The overrides are arbitrary, types can be changed and new varibales introduced.</p>
<h3 id="launcher-configuration">Launcher Configuration</h3>
<p>Alchemist needs a <code>Launcher</code> class in order to run the simulation. Unless configured,
Alchemist will default to a launcher that runs the default configuration,
unless batch variables are explicitly provided: <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.launchers/-default-launcher/"><code>DefaultLauncher</code></a></p>
<p>If you would like to use another launcher class, you need to configure it in the simulation configuration file
as per the alchemist <a href="https://alchemistsimulator.github.io/reference/yaml/index.html" rel="external" target="_blank">Arbitrary class loading system</a>.</p>
<p>Here is an example of a headless simulation run with additional parameters:</p>
<p>cli options</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code class="language-cli" data-lang="cli">run --simulationFile simulation.yml</code></pre></div>
<p>simulation.yml</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">launcher</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: DefaultLauncher
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parallelism</span>: <span style="color:#ff9f43">4</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">variables</span>: [ <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">3</span>, <span style="color:#ff9f43">4</span> ]
</span></span><span style="display:flex;"><span>...</span></span></code></pre></div>
<h3 id="migrating-from-legacy-cli">Migrating From Legacy CLI</h3>
<p>Here is a brief guide on how to re-map legacy CLI configuration options to the new
configuration flow.</p>
<ul>
<li><code>-hl</code> - Migrated to launcher configuration, use <a href="./reference/kdoc/alchemist/it.unibo.alchemist.boundary.launchers/-default-launcher/"><code>DefaultLauncher</code></a></li>
<li><code>-var</code> - Migrated to launcher configuration, used as parameters in supporting launchers</li>
<li><code>-b</code> - Migrated to launcher configuration</li>
<li><code>-fxui</code> - Migrated to launcher configuration</li>
<li><code>-d</code> - Migrated to launcher configuration</li>
<li><code>-g</code> - Migrated to launcher configuration, used as parameters in supporting launchers</li>
<li><code>-h</code> - Removed</li>
<li><code>-s</code> - Migrated to launcher configuration, used as parameters in supporting launchers</li>
<li><code>-p</code> - Migrated to launcher configuration, used as parameters in supporting launchers</li>
<li><code>-t</code> - Removed, use termination conditions instead (see examples below)</li>
<li><code>-y</code> - Removed, provide simulation file directly as program argument</li>
<li><code>-w</code> - Migrated to launcher configuration</li>
</ul>
<h3 id="common-launch-configurations-snippets">Common Launch Configurations Snippets</h3>
<p>SwingGUI Launch configuration</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">monitors</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: SwingGUI
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">graphics</span>: /effects/some-effect.json
</span></span><span style="display:flex;"><span>...</span></span></code></pre></div>
<p>Terminate after 50 time units configuration</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">terminate</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">type</span>: AfterTime
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">parameters</span>: <span style="color:#ff9f43">50</span>
</span></span><span style="display:flex;"><span>...</span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/graphical-interface/index.html">Graphical Interface</a></li>
    <li><a class="term-link" href="./tags/gui/index.html">Gui</a></li>
  </ul>
</div>
  </header>

<h1 id="default-graphical-user-interface">Default Graphical User Interface</h1>

<p>The current default UI is set to the <a href="./reference/swing/index.html">Java Swing Graphical Interface</a>, refer to its reference guide.</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/live-semantic-annotation/index.html">Live Semantic Annotation</a></li>
    <li><a class="term-link" href="./tags/lsa/index.html">Lsa</a></li>
    <li><a class="term-link" href="./tags/sapere/index.html">Sapere</a></li>
    <li><a class="term-link" href="./tags/tuple-centre/index.html">Tuple Centre</a></li>
    <li><a class="term-link" href="./tags/tuple-space/index.html">Tuple Space</a></li>
  </ul>
</div>
  </header>

<h1 id="sapere-incarnation">SAPERE Incarnation</h1>

<h2 id="lsas">LSAs</h2>
<p>LSAs, similarly to Prolog terms, support <a href="https://archive.is/oLSpq" rel="external" target="_blank">unification and substitution</a>:
it is possible to create tuple templates,
match them against sets of ground tuples,
and obtain a matching ground tuple as result.</p>
<p>A tuple argument is considered a variable if it begins with an uppercase letter.
Additionally, it is possible to discard some matches by expressing constraints on values.</p>
<h3 id="ground-lsa-syntax">Ground LSA syntax</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ebnf" data-lang="ebnf"><span style="display:flex;"><span><span style="color:#ff6ac1">GroundLSA </span><span style="color:#ff5c57">::</span><span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">GroundArgument </span>(<span style="color:#5af78e">&#39;,&#39;</span> <span style="color:#ff6ac1">GroundArgument</span>)<span style="color:#ff5c57">*</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">GroundArgument </span><span style="color:#ff5c57">::=</span> <span style="color:#ff6ac1">Number </span>| <span style="color:#ff6ac1">Atom </span>| <span style="color:#ff6ac1">Set</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">Atom </span><span style="color:#ff5c57">::=</span> [<span style="color:#ff6ac1">a-z</span>]([<span style="color:#ff6ac1">a-z</span>]|[<span style="color:#ff6ac1">A-Z</span>]|[<span style="color:#ff5c57">0</span><span style="color:#ff6ac1">-</span><span style="color:#ff5c57">9</span>])<span style="color:#ff5c57">*</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">Number </span><span style="color:#ff5c57">::=</span> [<span style="color:#ff5c57">0</span><span style="color:#ff6ac1">-</span><span style="color:#ff5c57">9</span>]<span style="color:#ff5c57">+</span>(<span style="color:#5af78e">&#39;.&#39;</span>[<span style="color:#ff5c57">0</span><span style="color:#ff6ac1">-</span><span style="color:#ff5c57">9</span>]<span style="color:#ff5c57">*</span>)
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">Set </span><span style="color:#ff5c57">::=</span> <span style="color:#5af78e">&#39;[&#39;</span> ((<span style="color:#ff6ac1">Atom </span>| <span style="color:#ff6ac1">Number</span>)<span style="color:#5af78e">&#39;;&#39;</span>)<span style="color:#ff5c57">*</span> <span style="color:#5af78e">&#39;]&#39;</span></span></span></code></pre></div>
<h3 id="lsa-syntax">LSA Syntax</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ebnf" data-lang="ebnf"><span style="display:flex;"><span><span style="color:#ff6ac1">LSA </span><span style="color:#ff5c57">::</span><span style="color:#ff6ac1">=</span> <span style="color:#5af78e">&#39;{&#39;</span> <span style="color:#ff6ac1">GroundLSA </span>| <span style="color:#ff6ac1">TemplateLSA </span><span style="color:#5af78e">&#39;}&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">TemplateLSA </span><span style="color:#ff5c57">::=</span> <span style="color:#ff6ac1">Argument </span>(<span style="color:#5af78e">&#39;,&#39;</span> <span style="color:#ff6ac1">Argument</span>)<span style="color:#ff5c57">*</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">Argument </span><span style="color:#ff5c57">::=</span> <span style="color:#ff6ac1">GroundArgument </span>| <span style="color:#ff6ac1">Variable </span>| <span style="color:#ff6ac1">Constraint</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">Variable </span><span style="color:#ff5c57">::=</span> [<span style="color:#ff6ac1">A-Z</span>]([<span style="color:#ff6ac1">a-z</span>]|[<span style="color:#ff6ac1">A-Z</span>]|[<span style="color:#ff5c57">0</span><span style="color:#ff6ac1">-</span><span style="color:#ff5c57">9</span>])<span style="color:#ff5c57">*</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">Constraint </span><span style="color:#ff5c57">::=</span> <span style="color:#5af78e">&#39;def:&#39;</span> <span style="color:#ff6ac1">Variable Operation</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">Operation </span><span style="color:#ff5c57">::=</span> (<span style="color:#5af78e">&#39;&gt;&#39;</span>|<span style="color:#5af78e">&#39;&gt;&#39;</span>|<span style="color:#5af78e">&#39;=&#39;</span>|<span style="color:#5af78e">&#39;!=&#39;</span>) <span style="color:#ff6ac1">Number </span>| <span style="color:#5af78e">&#39;add &#39;</span> <span style="color:#ff6ac1">Variable </span>| <span style="color:#5af78e">&#39;del &#39;</span> <span style="color:#ff6ac1">Variable</span></span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/graphical-interface/index.html">Graphical Interface</a></li>
    <li><a class="term-link" href="./tags/gui/index.html">Gui</a></li>
    <li><a class="term-link" href="./tags/hotkeys/index.html">Hotkeys</a></li>
    <li><a class="term-link" href="./tags/key-mapping/index.html">Key Mapping</a></li>
    <li><a class="term-link" href="./tags/swing/index.html">Swing</a></li>
  </ul>
</div>
  </header>

<h1 id="swing-gui">Swing GUI</h1>

<p>The current, Swing-based graphical interface for Alchemist is being replaced by a new, JavaFX-based interface.
This page currently hosts minimal information on how to use such legacy GUI.</p>
<h3 id="shortcuts">Shortcuts</h3>
<table>
  <thead>
      <tr>
          <th>Key binding</th>
          <th>Active</th>
          <th>Effect</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><kbd>L</kbd></td>
          <td>always</td>
          <td>(En/Dis)ables the painting of links between nodes</td>
      </tr>
      <tr>
          <td><kbd>M</kbd></td>
          <td>always</td>
          <td>(En/Dis)ables the painting of a marker on the closest node</td>
      </tr>
      <tr>
          <td><kbd>Mouse pan</kbd></td>
          <td>in normal mode</td>
          <td>Moves around</td>
      </tr>
      <tr>
          <td><kbd>Mouse wheel</kbd></td>
          <td>in normal mode</td>
          <td>Zooms in/out</td>
      </tr>
      <tr>
          <td><kbd>Double click</kbd></td>
          <td>in normal mode</td>
          <td>Opens a frame with the closest node information</td>
      </tr>
      <tr>
          <td><kbd>Right click</kbd></td>
          <td>in normal mode</td>
          <td>Enters screen rotation mode</td>
      </tr>
      <tr>
          <td><kbd>P</kbd></td>
          <td>always</td>
          <td>Plays/pauses the simulation</td>
      </tr>
      <tr>
          <td><kbd>R</kbd></td>
          <td>always</td>
          <td>Enables the real-time mode</td>
      </tr>
      <tr>
          <td><kbd>Left arrow</kbd></td>
          <td>always</td>
          <td>Speeds the simulation down (more calls to the graphics)</td>
      </tr>
      <tr>
          <td><kbd>Right arrow</kbd></td>
          <td>always</td>
          <td>Speeds the simulation up (less calls to the graphics)</td>
      </tr>
      <tr>
          <td><kbd>S</kbd></td>
          <td>always</td>
          <td>Enters / exits the select mode (nodes can be selected with the mouse)</td>
      </tr>
      <tr>
          <td><kbd>O</kbd></td>
          <td>in select mode</td>
          <td>Selected nodes can be moved by drag and drop</td>
      </tr>
      <tr>
          <td><kbd>E</kbd></td>
          <td>in select mode</td>
          <td>Enters edit mode (to manually change node contents)</td>
      </tr>
  </tbody>
</table>

  <footer class="footline">
  </footer>
</article>
          </section>
          </section>
        </div>
      </main>
    </div>
    <script src="./js/clipboard/clipboard.min.js?1741815459" defer></script>
    <script src="./js/perfect-scrollbar/perfect-scrollbar.min.js?1741815459" defer></script>
    <script src="./js/js-yaml/js-yaml.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-color.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-dispatch.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-drag.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-ease.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-interpolate.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-selection.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-timer.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-transition.min.js?1741815459" defer></script>
    <script src="./js/d3/d3-zoom.min.js?1741815459" defer></script>
    <script src="./js/mermaid/mermaid.min.js?1741815459" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="./js/theme.min.js?1741815459" defer></script>
  </body>
</html>
