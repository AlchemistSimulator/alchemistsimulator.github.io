<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.155.3">
    <meta name="generator" content="Relearn 8.2.0">
    <meta name="description" content="Ready-to-run examples of increasing complexity with the SAPERE incarnation">
    <meta name="author" content="Danilo Pianini">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="SAPERE Incarnation Tutorial :: Documentation for the Alchemist Simulator">
    <meta name="twitter:description" content="Ready-to-run examples of increasing complexity with the SAPERE incarnation">
    <meta property="og:url" content="https://alchemistsimulator.github.io/tutorials/sapere/index.html">
    <meta property="og:site_name" content="Documentation for the Alchemist Simulator">
    <meta property="og:title" content="SAPERE Incarnation Tutorial :: Documentation for the Alchemist Simulator">
    <meta property="og:description" content="Ready-to-run examples of increasing complexity with the SAPERE incarnation">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="SAPERE Incarnation Tutorial :: Documentation for the Alchemist Simulator">
    <meta itemprop="description" content="Ready-to-run examples of increasing complexity with the SAPERE incarnation">
    <meta itemprop="wordCount" content="1473">
    <meta itemprop="keywords" content="Sapere,Lsa,Tuple,Tuple Space,Tuple Centre,Tutorial">
    <title>SAPERE Incarnation Tutorial :: Documentation for the Alchemist Simulator</title>
    <link href="../../tutorials/sapere/index.xml" rel="alternate" type="application/rss+xml" title="SAPERE Incarnation Tutorial :: Documentation for the Alchemist Simulator">
    <link href="../../images/logo.svg?1771157921" rel="icon" type="image/svg+xml">
    <link href="../../css/auto-complete/auto-complete.min.css?1771157921" rel="stylesheet">
    <script src="../../js/auto-complete/auto-complete.min.js?1771157921" defer></script>
    <script src="../../js/search-lunr.min.js?1771157921" defer></script>
    <script src="../../js/search.min.js?1771157921" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="../../searchindex.en.js?1771157921";
    </script>
    <script src="../../js/lunr/lunr.min.js?1771157921" defer></script>
    <script src="../../js/lunr/lunr.stemmer.support.min.js?1771157921" defer></script>
    <script src="../../js/lunr/lunr.multi.min.js?1771157921" defer></script>
    <script src="../../js/lunr/lunr.en.min.js?1771157921" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="../../fonts/fontawesome/css/fontawesome-all.min.css?1771157921" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../fonts/fontawesome/css/fontawesome-all.min.css?1771157921" rel="stylesheet"></noscript>
    <link href="../../css/perfect-scrollbar/perfect-scrollbar.min.css?1771157921" rel="stylesheet">
    <link href="../../css/theme.min.css?1771157921" rel="stylesheet">
    <link href="../../css/format-html.min.css?1771157921" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/tutorials\/sapere\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='https:\/\/alchemistsimulator.github.io';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'relearn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script><script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
<script src="../../citations.js"></script>

  </head>
  <body class="mobile-support html" data-url="../../tutorials/sapere/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleNav()" type="button"title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button"title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#lsas">LSAs</a></li>
    <li><a href="#eco-laws">Eco-Laws</a>
      <ul>
        <li><a href="#rates">Rates</a></li>
      </ul>
    </li>
    <li><a href="#exercise">Exercise</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="../../index.html"><span itemprop="name">The Alchemist Simulator</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="../../tutorials/index.html"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">SAPERE Incarnation Tutorial</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="https://github.com/AlchemistSimulator/Alchemist/edit/master/site/content/tutorials/sapere/_index.md" rel="external" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="../../tutorials/protelis/index.html" title="Protelis Incarnation Tutorial (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="../../tutorials/scafi/index.html" title="Scafi Incarnation Tutorial (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button"title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable tutorials" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="../../tags/lsa/index.html">Lsa</a></li>
    <li><a class="term-link" href="../../tags/sapere/index.html">Sapere</a></li>
    <li><a class="term-link" href="../../tags/tuple/index.html">Tuple</a></li>
    <li><a class="term-link" href="../../tags/tuple-centre/index.html">Tuple Centre</a></li>
    <li><a class="term-link" href="../../tags/tuple-space/index.html">Tuple Space</a></li>
    <li><a class="term-link" href="../../tags/tutorial/index.html">Tutorial</a></li>
  </ul>
</div>
  </header>

<h1 id="sapere-incarnation-tutorial">SAPERE Incarnation Tutorial</h1>

<p>An explanation of the basics of the SAPERE Incarnation is available <a href="../../explanation/sapere/index.html">here</a>.
A tutorial similar to the <a href="../../tutorials/basics/index.html">base tutorial</a>, with increasingly rich examples,
focused on the SAPERE incarnation.
Reference descriptions of the SAPERE LSA language inside the simulator are available
<a href="../../reference/sapere/index.html">here</a></p>
<p>The tutorial can be found on <a href="https://github.com/AlchemistSimulator/Sapere-Incarnation-tutorial" rel="external">GitHub</a>.
The <code>README.md</code> file of the project explains the use and the steps to follow.</p>

<details class=" box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Show README.md
  </summary>
  <div class="box-content">
<p><a href="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial/actions/workflows/build-and-deploy.yml" rel="external"><a href="#R-image-56e5d405d2f4856866bb1e5d4efaf2bb" class="lightbox-link"><img alt="CI" class="lazy lightbox figure-image" loading="lazy" src="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial/actions/workflows/build-and-deploy.yml/badge.svg" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-56e5d405d2f4856866bb1e5d4efaf2bb"><img alt="CI" class="lazy lightbox lightbox-image" loading="lazy" src="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial/actions/workflows/build-and-deploy.yml/badge.svg"></a></a></p>
<h1 id="hands-on-tutorial-with-the-alchemist-sapere-incarnation">Hands-on tutorial with the Alchemist SAPERE incarnation</h1>
<p>This tutorial demonstrates how to use <strong>Alchemist-SAPERE</strong>
through a sequence of working examples and increasingly challenging exercises.</p>
<p>Introductory material on simulation concepts and the rationale behind the development of Alchemist
and its SAPERE incarnation is available <a href="http://github.com/DanySK/Course-Simulation-Basics/releases/latest/download/Simulation.pdf" rel="external">here (PDF)</a>.</p>
<p>Further information on writing simulations in Alchemist can be found on <a href="https://alchemistsimulator.github.io" rel="external">the official website</a>.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Alchemist requires a working installation of Java Runtime Environment 17 or newer.
We recommend using the latest LTS OpenJDK from <a href="https://adoptium.net/" rel="external">Adoptium</a>.</p>
<h3 id="prerequisites-with-docker">Prerequisites with Docker</h3>
<p>If running via Docker, you do <strong>not</strong> need to install the JDK.</p>
<p>Instead, ensure that both <strong>Docker</strong> and <strong>Docker Compose</strong> are installed.<br>
On macOS and Windows, an X Window System is required to display the simulation interface:</p>
<ul>
<li>macOS: <a href="https://www.xquartz.org/" rel="external">XQuartz</a></li>
<li>Windows: <a href="https://sourceforge.net/projects/xming/" rel="external">Xming</a></li>
</ul>
<p>To run the project with Docker:</p>
<p><code>docker-compose up</code></p>
<p>You can specify the simulation to be run via the <code>docker-compose.yml</code> file.</p>
<h2 id="launching-simulations">Launching simulations</h2>
<p>This project uses the <a href="https://gradle.org/" rel="external">Gradle Build Tool</a>.<br>
You donâ€™t need to install Gradle â€” the provided launch script will download the correct version automatically.</p>
<p>To launch a simulation named <code>SIMNAME</code>, a file named <code>SIMNAME.yml</code> must be located in the <code>src/main/yaml</code> directory.<br>
Gradle will automatically generate a task for each simulation file, which you can run as follows:</p>
<p><code>./gradlew SIMNAME</code></p>
<p>If an effect file named <code>SIMNAME.json</code> is present in the <code>effects/</code> folder, it will be automatically loaded.</p>
<p>&gt; <strong>Note</strong><br>
&gt; The environment variable <code>CI</code> is used to determine whether the task is running in a headless continuous integration environment.<br>
&gt; If <code>CI=true</code> is set, the graphical interface will not be launched.</p>
<h2 id="exercises">Exercises</h2>
<p>Use the provided simulation files and the documentation on <a href="https://alchemistsimulator.github.io" rel="external">the official Alchemist website</a> to complete the following exercises:</p>
<ul>
<li>Refer to:
<ul>
<li>The <a href="https://alchemistsimulator.github.io/reference/yaml/" rel="external">YAML simulation reference</a></li>
<li>The <a href="https://alchemistsimulator.github.io/reference/sapere/" rel="external">SAPERE incarnation guide</a></li>
<li>The <a href="https://alchemistsimulator.github.io/reference/default-ui/" rel="external">graphical interface guide</a></li>
</ul>
</li>
</ul>
<ol>
<li>Add two nodes to an empty, continuous environment and ensure they are connected.</li>
<li>Create 10,000 nodes randomly placed inside a circle centered at (0,0) with radius 10.</li>
<li>Create a regular grid of nodes from (-5,-5) to (5,5) spaced by (0.25, 0.25), without perturbation.</li>
<li>Create a perturbed version of the grid from Exercise 3.</li>
<li>Insert <code>{token}</code> LSAs in some nodes.</li>
<li>Implement a &quot;dodgeball&quot; program.</li>
<li>Use YAML to write custom sections and refer to them.</li>
<li>Modify the dodgeball program to count passes within the LSA.</li>
<li>Implement an LSA diffusion program so that all nodes eventually contain the <code>{token}</code> LSA using the <code>*</code> operator.</li>
<li>Open <code>10-math.yml</code>, experiment with it, and manually move nodes around.</li>
<li>Write a gradient propagation program that:
<ol>
<li>Converts <code>{source}</code> into <code>{gradient, 0}</code> (keep the source).</li>
<li>Diffuses the gradient to neighbors, incrementing the value by <code>#D</code>.</li>
<li>Keeps only the lowest gradient value if multiple copies exist.</li>
<li>Ages the gradient value periodically.</li>
<li>Deletes gradients with values exceeding a threshold (e.g., 20).</li>
</ol>
</li>
<li>Review <code>12-sets.yml</code> and observe the behavior of set arithmetic.</li>
<li>Modify Exercise 12 to use a custom time distribution (e.g., a <code>DiracComb</code> with parameter 0.5).</li>
<li>Review <code>14-yaml.vars.yml</code> and understand the variable system.</li>
<li>Open <code>15-move.yml</code>, run it, and experiment with its parameters.</li>
<li>Run <code>16-maps.yml</code> (note: first run may take time).
Observe complex scenario capabilities, modify as desired, and reflect on results.</li>
</ol>
  </div>
</details>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>Something went wrong along the line? Drop us an
<a href="https://github.com/AlchemistSimulator/Sapere-Incarnation-tutorial/issues/new/choose" rel="external">issue report</a>
and we&rsquo;ll get back to you.</p>
  </div>
</details>
<h2 id="lsas">LSAs</h2>
<p><a href="../../reference/sapere/index.html#lsa-syntax">Syntax details are available in the reference</a>.
The following code creates an irregular grid of devices,
of which those located around the center of such grid contain the tuple <code>{ token }</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>: <span style="color:#78787e"># A description of what will be included in the node</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: hello <span style="color:#78787e"># Everywhere</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>: <span style="color:#78787e"># Restrict the area to...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle <span style="color:#78787e"># ...a class implementing Shape with this name...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">1</span>, -<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>] <span style="color:#78787e"># ...which can get built with these parameters</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token <span style="color:#78787e"># Molecule to inject</span>
</span></span></code></pre></div>
<p>The relevant part here is <code>molecule: token</code>.
If we wanted to inject the tuple <code>{ foo, 1, bar, 2 }</code>, we could have written <code>molecule: foo, 1, bar, 2</code>.</p>
<h2 id="eco-laws">Eco-Laws</h2>
<p>Nodes can be programmed with Eco-Laws as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e"># A list of the sets of reactions programming the node</span>
</span></span><span style="display:flex;"><span>    - 
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># Frequency. If the class is not specified, the implementation to use is chosen by the incarnation. The SAPERE incarnation automatically loads ExponentialTime, which takes a number representing the Markovian rate.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># program lets the incarnation choose the class implementing Reaction, and passes down a string that, when parsed, produces the program</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">program</span>: &gt; <span style="color:#78787e"># &#34;&gt;&#34; begins a multiline string (quote mode)</span>
</span></span><span style="display:flex;"><span>          {token} --&gt; {firing}
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># If the time distribution is unspecified, the SAPERE incarnation assumes a &#34;ASAP&#34; behavior (rate = Infinity)</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{firing} --&gt; +{token}&#34;</span>
</span></span></code></pre></div>
<p>Eco-Laws can be programmed to send LSAs to neighbors, as well as to look into neighboring nodes for getting LSAs.
In order to do so, the LSA template in the Eco-Law must be preceded by a neighbor operator, either <code>+</code> or <code>*</code>.</p>
<p><code>+</code> means <em>in a neighbor</em>:
if used on the left hand side,
it considers the condition satisfied if at least one neighbor has at least one LSA matching the provided template;
if used on the right hand side,
sends the LSA to one random neighbor.</p>
<p><code>*</code> means <em>in all neighbors</em>:
if used on the left hand side,
it considers the condition satisfied if all neighbors have at least one LSA matching the provided template;
if used on the right hand side,
sends a copy of the LSA to all neighbors.</p>
<p>The following code exemplifies a diffusion program:
when <code>{ token }</code> is present locally, it is copied into neighboring nodes once per second;
and as soon as two copies of <code>{ token }</code> are present, one gets removed.</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;send</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token} --&gt; {token} *{token}</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      {token}{token} --&gt; {token}</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*send</span>
</span></span></code></pre></div>
<h3 id="rates">Rates</h3>
<p>The time distribution with which reactions should get scheduled can be controlled by thinkering with the yaml specification
as per every reaction in Alchemist.
If no
<a href="../../reference/kdoc/alchemist/it.unibo.alchemist.model/-time-distribution/"><code>TimeDistribution</code></a>
is specified,
the Eco-Law is assumed to run &ldquo;as soon as possible&rdquo; (ASAP).</p>
<p>This may lead to unwanted behaviour.
For instance, programming a single node with:
<code> --&gt; { foo }</code>
will cause the simulation to schedule a reaction producing <code>{ foo }</code> at time zero,
and at each execution the time will remain zero:
the simulator will be producing copies over copies of the tuple,
never advancing in time (Alchemist is a discrete event simulator),
and possibly going on until the JVM memory limit is reached.</p>
<p>If a number is specified as time distribution, using the <code>time-distribution</code> key,
then it will be interpreted as the <a href="https://en.wikipedia.org/wiki/Markov_chain" rel="external">Markovian rate</a>
of an <a href="https://en.wikipedia.org/wiki/Exponential_distribution" rel="external">exponentially distributed time</a>.</p>
<p>Other distributions found at
<a href="../../reference/kdoc/alchemist/it.unibo.alchemist.model.timedistributions/"><code>it.unibo.alchemist.model.timedistributions</code></a>
can be used leveraging the
<a href="../../reference/yaml/index.html#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<p>In the following example, two Eco-Laws are configured, and one of them is bound to an
<a href="../../reference/kdoc/alchemist/it.unibo.alchemist.model.timedistributions/-exponential-time/"><code>ExponentialTime</code></a>
with rate 1, namely, when the reaction can be executed
(the left hand LSAs have local matches),
it will execute at an average of once per second
(with a variance of 1 sÂ²).</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e"># A list of the sets of reactions programming the node</span>
</span></span><span style="display:flex;"><span>    - 
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># Frequency. If the class is not specified, the implementation to use is chosen by the incarnation. The SAPERE incarnation automatically loads ExponentialTime, which takes a number representing the Markovian rate.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># program lets the incarnation choose the class implementing Reaction, and passes down a string that, when parsed, produces the program</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">program</span>: &gt; <span style="color:#78787e"># &#34;&gt;&#34; begins a multiline string (quote mode)</span>
</span></span><span style="display:flex;"><span>          {token} --&gt; {firing}
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># If the time distribution is unspecified, the SAPERE incarnation assumes a &#34;ASAP&#34; behavior (rate = Infinity)</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{firing} --&gt; +{token}&#34;</span>
</span></span></code></pre></div>
<h2 id="exercise">Exercise</h2>
<p>To better grasp details of the incarnation, we recommend looking at the examples available on
<a href="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial" rel="external">the Alchemist SAPERE Incarnation tutorial on GitHub</a>.</p>
<p>Besides examples with growing complexity,
there are a number of proposed exercises that should help you get acquainted with the SAPERE way of writing self-organizing behaviors.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<div style="white-space: nowrap;">
    <div style="max-width: 100%; display: inline-block; ">
        <img alt="The Alchemist Logo" src="../../images/logo.svg"/>
    </div>
</div>

        </div>
        <search><form action="../../search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="../../index.html"><a class="padding" href="../../index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="parent " data-nav-url="../../tutorials/index.html"><a class="padding" href="../../tutorials/index.html"><b>1. </b>Tutorials<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-e1e8c1e70c5500b49e8dda2dc550651a" class="collapsible-menu">
            <li class="" data-nav-url="../../tutorials/quickstart/index.html"><a class="padding" href="../../tutorials/quickstart/index.html">Quickstart<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-url="../../tutorials/basics/index.html"><a class="padding" href="../../tutorials/basics/index.html">Step-by-step tutorial<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-url="../../tutorials/protelis/index.html"><a class="padding" href="../../tutorials/protelis/index.html">Protelis Incarnation Tutorial<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="active " data-nav-url="../../tutorials/sapere/index.html"><a class="padding" href="../../tutorials/sapere/index.html">SAPERE Incarnation Tutorial<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-url="../../tutorials/scafi/index.html"><a class="padding" href="../../tutorials/scafi/index.html">Scafi Incarnation Tutorial<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-url="../../howtos/index.html"><a class="padding" href="../../howtos/index.html"><b>2. </b>How-to Guides<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-435cd60099784c14f4922700a72c8414" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="../../explanation/index.html"><a class="padding" href="../../explanation/index.html"><b>3. </b>Explanation<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-547d30965b8467ddcbfa08ec6013372a" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="../../reference/index.html"><a class="padding" href="../../reference/index.html"><b>4. </b>Reference<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-66002f201bef818664bb81aa67490c58" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="https://github.com/AlchemistSimulator/Alchemist"><a class="padding" href="https://github.com/AlchemistSimulator/Alchemist" rel="external"><i class='fab fa-fw fa-github'></i> GitHub repo<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-url="https://youtube.com/@alchemistsimulator"><a class="padding" href="https://youtube.com/@alchemistsimulator" rel="external"><i class='fab fa-youtube'></i> YouTube channel<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-url="../../showcase/"><a class="padding" href="../../showcase/"><i class='fas fa-fw fa-camera'></i> Use cases<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-url="../../license/"><a class="padding" href="../../license/"><i class='fas fa-balance-scale'></i> License<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-url="../../tags/"><a class="padding" href="../../tags/"><i class='fas fa-fw fa-tags'></i> Tags<i class="fa-fw fas fa-check read-icon"></i></a></li>
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
            <li class="R-historyclearer">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-history"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <button>Clear History</button>
                </div>
                <div class="clear"></div>
              </div>
            </li>
          </ul>
        </div>
<div id="R-footer"><div class="padding">
    <div><strong>Alchemist Simulator 42.4.2</strong></div>
    <br>
    <a
        class="github-button"
        href="https://github.com/AlchemistSimulator/Alchemist/releases/latest/"
        data-icon="octicon-cloud-download" aria-label="Download Alchemist-full on GitHub"
    >
    Download
    </a>
    <a
        class="github-button"
        href="https://github.com/AlchemistSimulator/Alchemist"
        data-icon="octicon-star"
        data-show-count="true"
        aria-label="Star McShelby/hugo-theme-relearn on GitHub"
    >
    Star
    </a>
    <a
        class="github-button"
        href="https://github.com/AlchemistSimulator/Alchemist/fork"
        data-icon="octicon-repo-forked"
        data-show-count="true"
        aria-label="Fork McShelby/hugo-theme-relearn on GitHub"
    >
    Fork
    </a>
    <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn"><span class="fas fa-heart"></span></a> by <a href="https://gohugo.io/">Hugo</a></p>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
</div></div>
      </div>
    </aside>
    <script src="../../js/js-yaml/js-yaml.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-color.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-dispatch.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-drag.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-ease.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-interpolate.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-selection.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-timer.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-transition.min.js?1771157921" defer></script>
    <script src="../../js/d3/d3-zoom.min.js?1771157921" defer></script>
    <script src="../../js/mermaid/mermaid.min.js?1771157921" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="../../js/clipboard/clipboard.min.js?1771157921" defer></script>
    <script src="../../js/perfect-scrollbar/perfect-scrollbar.min.js?1771157921" defer></script>
    <script src="../../js/theme.min.js?1771157921" defer></script>
  </body>
</html>
